"use strict";(self.webpackChunklastig_gastby=self.webpackChunklastig_gastby||[]).push([[270],{237:function(t,n,e){e(6469)("flatMap")},259:function(t,n,e){var r=e(4376),i=e(6198),o=e(6837),a=e(6080),c=function(t,n,e,s,f,u,l,h){for(var d,p,g=f,y=0,b=!!l&&a(l,h);y<s;)y in e&&(d=b?b(e[y],y,n):e[y],u>0&&r(d)?(p=i(d),g=c(t,n,d,p,g,u-1)-1):(o(g+1),t[g]=d),g++),y++;return g};t.exports=c},397:function(t,n,e){var r=e(7751);t.exports=r("document","documentElement")},1072:function(t,n,e){var r=e(1828),i=e(8727);t.exports=Object.keys||function(t){return r(t,i)}},1469:function(t,n,e){var r=e(7433);t.exports=function(t,n){return new(r(t))(0===n?0:n)}},2360:function(t,n,e){var r,i=e(8551),o=e(6801),a=e(8727),c=e(421),s=e(397),f=e(4055),u=e(6119),l="prototype",h="script",d=u("IE_PROTO"),p=function(){},g=function(t){return"<"+h+">"+t+"</"+h+">"},y=function(t){t.write(g("")),t.close();var n=t.parentWindow.Object;return t=null,n},b=function(){try{r=new ActiveXObject("htmlfile")}catch(o){}var t,n,e;b="undefined"!=typeof document?document.domain&&r?y(r):(n=f("iframe"),e="java"+h+":",n.style.display="none",s.appendChild(n),n.src=String(e),(t=n.contentWindow.document).open(),t.write(g("document.F=Object")),t.close(),t.F):y(r);for(var i=a.length;i--;)delete b[l][a[i]];return b()};c[d]=!0,t.exports=Object.create||function(t,n){var e;return null!==t?(p[l]=i(t),e=new p,p[l]=null,e[d]=t):e=b(),void 0===n?e:o.f(e,n)}},3517:function(t,n,e){var r=e(9504),i=e(9039),o=e(4901),a=e(6955),c=e(7751),s=e(3706),f=function(){},u=c("Reflect","construct"),l=/^\s*(?:class|function)\b/,h=r(l.exec),d=!l.test(f),p=function(t){if(!o(t))return!1;try{return u(f,[],t),!0}catch(n){return!1}},g=function(t){if(!o(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!h(l,s(t))}catch(n){return!0}};g.sham=!0,t.exports=!u||i(function(){var t;return p(p.call)||!p(Object)||!p(function(){t=!0})||t})?g:p},3620:function(t,n,e){function r(t,n){return null==t||null==n?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function i(t,n){return null==t||null==n?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function o(t){let n,e,o;function c(t,r,i=0,o=t.length){if(i<o){if(0!==n(r,r))return o;do{const n=i+o>>>1;e(t[n],r)<0?i=n+1:o=n}while(i<o)}return i}return 2!==t.length?(n=r,e=(n,e)=>r(t(n),e),o=(n,e)=>t(n)-e):(n=t===r||t===i?t:a,e=t,o=t),{left:c,center:function(t,n,e=0,r=t.length){const i=c(t,n,e,r-1);return i>e&&o(t[i-1],n)>-o(t[i],n)?i-1:i},right:function(t,r,i=0,o=t.length){if(i<o){if(0!==n(r,r))return o;do{const n=i+o>>>1;e(t[n],r)<=0?i=n+1:o=n}while(i<o)}return i}}}function a(){return 0}function c(t){return null===t?NaN:+t}e.d(n,{l3:function(){return z_},Om:function(){return Vx},Mu:function(){return _w},QI:function(){return Tx},Pc:function(){return kw},Qq:function(){return Kv}});const s=o(r),f=s.right;s.left,o(c).center;var u=f;function l(t){return 0|t.length}function h(t){return!(t>0)}function d(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function p(t,n){let e,r=0,i=0,o=0;if(void 0===n)for(let a of t)null!=a&&(a=+a)>=a&&(e=a-i,i+=e/++r,o+=e*(a-i));else{let a=-1;for(let c of t)null!=(c=n(c,++a,t))&&(c=+c)>=c&&(e=c-i,i+=e/++r,o+=e*(c-i))}if(r>1)return o/(r-1)}function g(t,n){const e=p(t,n);return e?Math.sqrt(e):e}function y(t,n){let e,r;if(void 0===n)for(const i of t)null!=i&&(void 0===e?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)));else{let i=-1;for(let o of t)null!=(o=n(o,++i,t))&&(void 0===e?o>=o&&(e=r=o):(e>o&&(e=o),r<o&&(r=o)))}return[e,r]}class b extends Map{constructor(t,n=w){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(const[e,r]of t)this.set(e,r)}get(t){return super.get(v(this,t))}has(t){return super.has(v(this,t))}set(t,n){return super.set(_(this,t),n)}delete(t){return super.delete(x(this,t))}}class m extends Set{constructor(t,n=w){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(const e of t)this.add(e)}has(t){return super.has(v(this,t))}add(t){return super.add(_(this,t))}delete(t){return super.delete(x(this,t))}}function v({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function _({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function x({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function w(t){return null!==t&&"object"==typeof t?t.valueOf():t}function k(t){return t}function M(t,...n){return A(t,k,k,n)}function $(t,n,...e){return A(t,k,n,e)}function T(t,n,...e){return A(t,Array.from,n,e)}function A(t,n,e,r){return function t(i,o){if(o>=r.length)return e(i);const a=new b,c=r[o++];let s=-1;for(const n of i){const t=c(n,++s,i),e=a.get(t);e?e.push(n):a.set(t,[n])}for(const[n,e]of a)a.set(n,t(e,o));return n(a)}(t,0)}function S(t,n){let e=0;if(void 0===n)for(let r of t)null!=r&&(r=+r)>=r&&++e;else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(i=+i)>=i&&++e}return e}function E(t,n){let e;if(void 0===n)for(const r of t)null!=r&&(e<r||void 0===e&&r>=r)&&(e=r);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(e<i||void 0===e&&i>=i)&&(e=i)}return e}function N(t,n){let e;if(void 0===n)for(const r of t)null!=r&&(e>r||void 0===e&&r>=r)&&(e=r);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(e>i||void 0===e&&i>=i)&&(e=i)}return e}function C(t,...n){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[e]=n;if(e&&2!==e.length||n.length>1){const o=Uint32Array.from(t,(t,n)=>n);return n.length>1?(n=n.map(n=>t.map(n)),o.sort((t,e)=>{for(const r of n){const n=D(r[t],r[e]);if(n)return n}})):(e=t.map(e),o.sort((t,n)=>D(e[t],e[n]))),r=t,i=o,Array.from(i,t=>r[t])}var r,i;return t.sort(L(e))}function L(t=r){if(t===r)return D;if("function"!=typeof t)throw new TypeError("compare is not a function");return(n,e)=>{const r=t(n,e);return r||0===r?r:(0===t(e,e))-(0===t(n,n))}}function D(t,n){return(null==t||!(t>=t))-(null==n||!(n>=n))||(t<n?-1:t>n?1:0)}function z(t,n,e=0,r=1/0,i){if(n=Math.floor(n),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(t.length-1,r)),!(e<=n&&n<=r))return t;for(i=void 0===i?D:L(i);r>e;){if(r-e>600){const o=r-e+1,a=n-e+1,c=Math.log(o),s=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*s*(o-s)/o)*(a-o/2<0?-1:1);z(t,n,Math.max(e,Math.floor(n-a*s/o+f)),Math.min(r,Math.floor(n+(o-a)*s/o+f)),i)}const o=t[n];let a=e,c=r;for(O(t,e,n),i(t[r],o)>0&&O(t,e,r);a<c;){for(O(t,a,c),++a,--c;i(t[a],o)<0;)++a;for(;i(t[c],o)>0;)--c}0===i(t[e],o)?O(t,e,c):(++c,O(t,c,r)),c<=n&&(e=c+1),n<=c&&(r=c-1)}return t}function O(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function F(t,n,e){if(t=Float64Array.from(function*(t,n){if(void 0===n)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let e=-1;for(let r of t)null!=(r=n(r,++e,t))&&(r=+r)>=r&&(yield r)}}(t,e)),(r=t.length)&&!isNaN(n=+n)){if(n<=0||r<2)return N(t);if(n>=1)return E(t);var r,i=(r-1)*n,o=Math.floor(i),a=E(z(t,o).subarray(0,o+1));return a+(N(t.subarray(o+1))-a)*(i-o)}}function j(t,n,e=c){if((r=t.length)&&!isNaN(n=+n)){if(n<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),a=+e(t[o],o,t);return a+(+e(t[o+1],o+1,t)-a)*(i-o)}}function R(t,n,e){const r=S(t),i=F(t,.75)-F(t,.25);return r&&i?Math.ceil((e-n)/(2*i*Math.pow(r,-1/3))):1}function P(t,n,e){const r=S(t),i=g(t);return r&&i?Math.ceil((e-n)*Math.cbrt(r)/(3.49*i)):1}function U(t){return Math.max(1,Math.ceil(Math.log(S(t))/Math.LN2)+1)}function I(t,n){let e,r=-1,i=-1;if(void 0===n)for(const o of t)++i,null!=o&&(e<o||void 0===e&&o>=o)&&(e=o,r=i);else for(let o of t)null!=(o=n(o,++i,t))&&(e<o||void 0===e&&o>=o)&&(e=o,r=i);return r}function q(t,n){let e=0,r=0;if(void 0===n)for(let i of t)null!=i&&(i=+i)>=i&&(++e,r+=i);else{let i=-1;for(let o of t)null!=(o=n(o,++i,t))&&(o=+o)>=o&&(++e,r+=o)}if(e)return r/e}function B(t,n){return F(t,.5,n)}function W(t,n){let e,r=-1,i=-1;if(void 0===n)for(const o of t)++i,null!=o&&(e>o||void 0===e&&o>=o)&&(e=o,r=i);else for(let o of t)null!=(o=n(o,++i,t))&&(e>o||void 0===e&&o>=o)&&(e=o,r=i);return r}function H(t,n){const e=new b;if(void 0===n)for(let o of t)null!=o&&o>=o&&e.set(o,(e.get(o)||0)+1);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&i>=i&&e.set(i,(e.get(i)||0)+1)}let r,i=0;for(const[o,a]of e)a>i&&(i=a,r=o);return r}function Y(t,n){return[t,n]}function V(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o}function X(t,n){let e=0;if(void 0===n)for(let r of t)(r=+r)&&(e+=r);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}const Z=Math.sqrt(50),G=Math.sqrt(10),Q=Math.sqrt(2);function J(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Z?10:o>=G?5:o>=Q?2:1;let c,s,f;return i<0?(f=Math.pow(10,-i)/a,c=Math.round(t*f),s=Math.round(n*f),c/f<t&&++c,s/f>n&&--s,f=-f):(f=Math.pow(10,i)*a,c=Math.round(t/f),s=Math.round(n/f),c*f<t&&++c,s*f>n&&--s),s<c&&.5<=e&&e<2?J(t,n,2*e):[c,s,f]}function K(t,n,e){if(!((e=+e)>0))return[];if((t=+t)===(n=+n))return[t];const r=n<t,[i,o,a]=r?J(n,t,e):J(t,n,e);if(!(o>=i))return[];const c=o-i+1,s=new Array(c);if(r)if(a<0)for(let f=0;f<c;++f)s[f]=(o-f)/-a;else for(let f=0;f<c;++f)s[f]=(o-f)*a;else if(a<0)for(let f=0;f<c;++f)s[f]=(i+f)/-a;else for(let f=0;f<c;++f)s[f]=(i+f)*a;return s}function tt(t,n,e){return J(t=+t,n=+n,e=+e)[2]}function nt(t,n,e){e=+e;const r=(n=+n)<(t=+t),i=r?tt(n,t,e):tt(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function et(t){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()}function rt(t){return t}var ot=1e-6;function at(t){return"translate("+t+",0)"}function ct(t){return"translate(0,"+t+")"}function st(t){return n=>+t(n)}function ft(t,n){return n=Math.max(0,t.bandwidth()-2*n)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function ut(){return!this.__axis}function lt(t,n){var e=[],r=null,i=null,o=6,a=6,c=3,s="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,f=1===t||4===t?-1:1,u=4===t||2===t?"x":"y",l=1===t||3===t?at:ct;function h(h){var d=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,p=null==i?n.tickFormat?n.tickFormat.apply(n,e):rt:i,g=Math.max(o,0)+c,y=n.range(),b=+y[0]+s,m=+y[y.length-1]+s,v=(n.bandwidth?ft:st)(n.copy(),s),_=h.selection?h.selection():h,x=_.selectAll(".domain").data([null]),w=_.selectAll(".tick").data(d,n).order(),k=w.exit(),M=w.enter().append("g").attr("class","tick"),$=w.select("line"),T=w.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(M),$=$.merge(M.append("line").attr("stroke","currentColor").attr(u+"2",f*o)),T=T.merge(M.append("text").attr("fill","currentColor").attr(u,f*g).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),h!==_&&(x=x.transition(h),w=w.transition(h),$=$.transition(h),T=T.transition(h),k=k.transition(h).attr("opacity",ot).attr("transform",function(t){return isFinite(t=v(t))?l(t+s):this.getAttribute("transform")}),M.attr("opacity",ot).attr("transform",function(t){var n=this.parentNode.__axis;return l((n&&isFinite(n=n(t))?n:v(t))+s)})),k.remove(),x.attr("d",4===t||2===t?a?"M"+f*a+","+b+"H"+s+"V"+m+"H"+f*a:"M"+s+","+b+"V"+m:a?"M"+b+","+f*a+"V"+s+"H"+m+"V"+f*a:"M"+b+","+s+"H"+m),w.attr("opacity",1).attr("transform",function(t){return l(v(t)+s)}),$.attr(u+"2",f*o),T.attr(u,f*g).text(p),_.filter(ut).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),_.each(function(){this.__axis=v})}return h.scale=function(t){return arguments.length?(n=t,h):n},h.ticks=function(){return e=Array.from(arguments),h},h.tickArguments=function(t){return arguments.length?(e=null==t?[]:Array.from(t),h):e.slice()},h.tickValues=function(t){return arguments.length?(r=null==t?null:Array.from(t),h):r&&r.slice()},h.tickFormat=function(t){return arguments.length?(i=t,h):i},h.tickSize=function(t){return arguments.length?(o=a=+t,h):o},h.tickSizeInner=function(t){return arguments.length?(o=+t,h):o},h.tickSizeOuter=function(t){return arguments.length?(a=+t,h):a},h.tickPadding=function(t){return arguments.length?(c=+t,h):c},h.offset=function(t){return arguments.length?(s=+t,h):s},h}function ht(){}function dt(t){return null==t?ht:function(){return this.querySelector(t)}}function pt(){return[]}function gt(t){return null==t?pt:function(){return this.querySelectorAll(t)}}function yt(t){return function(){return null==(n=t.apply(this,arguments))?[]:Array.isArray(n)?n:Array.from(n);var n}}function bt(t){return function(){return this.matches(t)}}function mt(t){return function(n){return n.matches(t)}}var vt=Array.prototype.find;function _t(){return this.firstElementChild}var xt=Array.prototype.filter;function wt(){return Array.from(this.children)}function kt(t){return new Array(t.length)}function Mt(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function $t(t,n,e,r,i,o){for(var a,c=0,s=n.length,f=o.length;c<f;++c)(a=n[c])?(a.__data__=o[c],r[c]=a):e[c]=new Mt(t,o[c]);for(;c<s;++c)(a=n[c])&&(i[c]=a)}function Tt(t,n,e,r,i,o,a){var c,s,f,u=new Map,l=n.length,h=o.length,d=new Array(l);for(c=0;c<l;++c)(s=n[c])&&(d[c]=f=a.call(s,s.__data__,c,n)+"",u.has(f)?i[c]=s:u.set(f,s));for(c=0;c<h;++c)f=a.call(t,o[c],c,o)+"",(s=u.get(f))?(r[c]=s,s.__data__=o[c],u.delete(f)):e[c]=new Mt(t,o[c]);for(c=0;c<l;++c)(s=n[c])&&u.get(d[c])===s&&(i[c]=s)}function At(t){return t.__data__}function St(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Et(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}Mt.prototype={constructor:Mt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Nt="http://www.w3.org/1999/xhtml",Ct={svg:"http://www.w3.org/2000/svg",xhtml:Nt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Lt(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Ct.hasOwnProperty(n)?{space:Ct[n],local:t}:t}function Dt(t){return function(){this.removeAttribute(t)}}function zt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ot(t,n){return function(){this.setAttribute(t,n)}}function Ft(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function jt(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function Rt(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Pt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ut(t){return function(){this.style.removeProperty(t)}}function It(t,n,e){return function(){this.style.setProperty(t,n,e)}}function qt(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function Bt(t,n){return t.style.getPropertyValue(n)||Pt(t).getComputedStyle(t,null).getPropertyValue(n)}function Wt(t){return function(){delete this[t]}}function Ht(t,n){return function(){this[t]=n}}function Yt(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function Vt(t){return t.trim().split(/^|\s+/)}function Xt(t){return t.classList||new Zt(t)}function Zt(t){this._node=t,this._names=Vt(t.getAttribute("class")||"")}function Gt(t,n){for(var e=Xt(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Qt(t,n){for(var e=Xt(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Jt(t){return function(){Gt(this,t)}}function Kt(t){return function(){Qt(this,t)}}function tn(t,n){return function(){(n.apply(this,arguments)?Gt:Qt)(this,t)}}function nn(){this.textContent=""}function en(t){return function(){this.textContent=t}}function rn(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function on(){this.innerHTML=""}function an(t){return function(){this.innerHTML=t}}function cn(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function sn(){this.nextSibling&&this.parentNode.appendChild(this)}function fn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function un(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Nt&&n.documentElement.namespaceURI===Nt?n.createElement(t):n.createElementNS(e,t)}}function ln(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function hn(t){var n=Lt(t);return(n.local?ln:un)(n)}function dn(){return null}function pn(){var t=this.parentNode;t&&t.removeChild(this)}function gn(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function yn(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function bn(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function mn(t,n,e){return function(){var r,i=this.__on,o=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var a=0,c=i.length;a<c;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),void(r.value=n);this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function vn(t,n,e){var r=Pt(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function _n(t,n){return function(){return vn(this,t,n)}}function xn(t,n){return function(){return vn(this,t,n.apply(this,arguments))}}Zt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var wn=[null];function kn(t,n){this._groups=t,this._parents=n}function Mn(){return new kn([[document.documentElement]],wn)}kn.prototype=Mn.prototype={constructor:kn,select:function(t){"function"!=typeof t&&(t=dt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,c=n[i],s=c.length,f=r[i]=new Array(s),u=0;u<s;++u)(o=c[u])&&(a=t.call(o,o.__data__,u,c))&&("__data__"in o&&(a.__data__=o.__data__),f[u]=a);return new kn(r,this._parents)},selectAll:function(t){t="function"==typeof t?yt(t):gt(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,c=n[o],s=c.length,f=0;f<s;++f)(a=c[f])&&(r.push(t.call(a,a.__data__,f,c)),i.push(a));return new kn(r,i)},selectChild:function(t){return this.select(null==t?_t:function(t){return function(){return vt.call(this.children,t)}}("function"==typeof t?t:mt(t)))},selectChildren:function(t){return this.selectAll(null==t?wt:function(t){return function(){return xt.call(this.children,t)}}("function"==typeof t?t:mt(t)))},filter:function(t){"function"!=typeof t&&(t=bt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],c=a.length,s=r[i]=[],f=0;f<c;++f)(o=a[f])&&t.call(o,o.__data__,f,a)&&s.push(o);return new kn(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,At);var e,r=n?Tt:$t,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var a=o.length,c=new Array(a),s=new Array(a),f=new Array(a),u=0;u<a;++u){var l=i[u],h=o[u],d=h.length,p=St(t.call(l,l&&l.__data__,u,i)),g=p.length,y=s[u]=new Array(g),b=c[u]=new Array(g);r(l,h,y,b,f[u]=new Array(d),p,n);for(var m,v,_=0,x=0;_<g;++_)if(m=y[_]){for(_>=x&&(x=_+1);!(v=b[x])&&++x<g;);m._next=v||null}}return(c=new kn(c,i))._enter=s,c._exit=f,c},enter:function(){return new kn(this._enter||this._groups.map(kt),this._parents)},exit:function(){return new kn(this._exit||this._groups.map(kt),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=n&&(i=n(i))&&(i=i.selection()),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,a=Math.min(i,o),c=new Array(i),s=0;s<a;++s)for(var f,u=e[s],l=r[s],h=u.length,d=c[s]=new Array(h),p=0;p<h;++p)(f=u[p]||l[p])&&(d[p]=f);for(;s<i;++s)c[s]=e[s];return new kn(c,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=Et);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,c=e[o],s=c.length,f=i[o]=new Array(s),u=0;u<s;++u)(a=c[u])&&(f[u]=a);f.sort(n)}return new kn(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,c=o.length;a<c;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=Lt(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?zt:Dt:"function"==typeof n?e.local?Rt:jt:e.local?Ft:Ot)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?Ut:"function"==typeof n?qt:It)(t,n,null==e?"":e)):Bt(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?Wt:"function"==typeof n?Yt:Ht)(t,n)):this.node()[t]},classed:function(t,n){var e=Vt(t+"");if(arguments.length<2){for(var r=Xt(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?tn:n?Jt:Kt)(e,n))},text:function(t){return arguments.length?this.each(null==t?nn:("function"==typeof t?rn:en)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?on:("function"==typeof t?cn:an)(t)):this.node().innerHTML},raise:function(){return this.each(sn)},lower:function(){return this.each(fn)},append:function(t){var n="function"==typeof t?t:hn(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:hn(t),r=null==n?dn:"function"==typeof n?n:dt(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(pn)},clone:function(t){return this.select(t?yn:gn)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}(t+""),a=o.length;if(!(arguments.length<2)){for(c=n?mn:bn,r=0;r<a;++r)this.each(c(o[r],n,e));return this}var c=this.node().__on;if(c)for(var s,f=0,u=c.length;f<u;++f)for(r=0,s=c[f];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?xn:_n)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};var $n=Mn,Tn={value:()=>{}};function An(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Sn(r)}function Sn(t){this._=t}function En(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function Nn(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Tn,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}Sn.prototype=An.prototype={constructor:Sn,on:function(t,n){var e,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})),a=-1,c=o.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++a<c;)if(e=(t=o[a]).type)i[e]=Nn(i[e],t.name,n);else if(null==n)for(e in i)i[e]=Nn(i[e],t.name,null);return this}for(;++a<c;)if((e=(t=o[a]).type)&&(e=En(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Sn(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var Cn,Ln,Dn=An,zn=0,On=0,Fn=0,jn=0,Rn=0,Pn=0,Un="object"==typeof performance&&performance.now?performance:Date,In="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function qn(){return Rn||(In(Bn),Rn=Un.now()+Pn)}function Bn(){Rn=0}function Wn(){this._call=this._time=this._next=null}function Hn(t,n,e){var r=new Wn;return r.restart(t,n,e),r}function Yn(){Rn=(jn=Un.now())+Pn,zn=On=0;try{!function(){qn(),++zn;for(var t,n=Cn;n;)(t=Rn-n._time)>=0&&n._call.call(void 0,t),n=n._next;--zn}()}finally{zn=0,function(){var t,n,e=Cn,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Cn=n);Ln=t,Xn(r)}(),Rn=0}}function Vn(){var t=Un.now(),n=t-jn;n>1e3&&(Pn-=n,jn=t)}function Xn(t){zn||(On&&(On=clearTimeout(On)),t-Rn>24?(t<1/0&&(On=setTimeout(Yn,t-Un.now()-Pn)),Fn&&(Fn=clearInterval(Fn))):(Fn||(jn=Un.now(),Fn=setInterval(Vn,1e3)),zn=1,In(Yn)))}function Zn(t,n,e){var r=new Wn;return n=null==n?0:+n,r.restart(e=>{r.stop(),t(e+n)},n,e),r}Wn.prototype=Hn.prototype={constructor:Wn,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?qn():+e)+(null==n?0:+n),this._next||Ln===this||(Ln?Ln._next=this:Cn=this,Ln=this),this._call=t,this._time=e,Xn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Xn())}};var Gn=Dn("start","end","cancel","interrupt"),Qn=[];function Jn(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(t){e.state=1,e.timer.restart(a,e.delay,e.time),e.delay<=t&&a(t-e.delay)}function a(o){var f,u,l,h;if(1!==e.state)return s();for(f in i)if((h=i[f]).name===e.name){if(3===h.state)return Zn(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[f]):+f<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[f])}if(Zn(function(){3===e.state&&(e.state=4,e.timer.restart(c,e.delay,e.time),c(o))}),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(l=e.tween.length),f=0,u=-1;f<l;++f)(h=e.tween[f].value.call(t,t.__data__,e.index,e.group))&&(r[++u]=h);r.length=u+1}}function c(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(s),e.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),s())}function s(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=Hn(o,0,e.time)}(t,e,{name:n,index:r,group:i,on:Gn,tween:Qn,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function Kn(t,n){var e=ne(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function te(t,n){var e=ne(t,n);if(e.state>3)throw new Error("too late; already running");return e}function ne(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function ee(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}var re,ie=180/Math.PI,oe={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ae(t,n,e,r,i,o){var a,c,s;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(c=Math.sqrt(e*e+r*r))&&(e/=c,r/=c,s/=c),t*r<n*e&&(t=-t,n=-n,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*ie,skewX:Math.atan(s)*ie,scaleX:a,scaleY:c}}function ce(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var c=[],s=[];return o=t(o),a=t(a),function(t,r,i,o,a,c){if(t!==i||r!==o){var s=a.push("translate(",null,n,null,e);c.push({i:s-4,x:ee(t,i)},{i:s-2,x:ee(r,o)})}else(i||o)&&a.push("translate("+i+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,c,s),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:ee(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,a.rotate,c,s),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:ee(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,a.skewX,c,s),function(t,n,e,r,o,a){if(t!==e||n!==r){var c=o.push(i(o)+"scale(",null,",",null,")");a.push({i:c-4,x:ee(t,e)},{i:c-2,x:ee(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,c,s),o=a=null,function(t){for(var n,e=-1,r=s.length;++e<r;)c[(n=s[e]).i]=n.x(t);return c.join("")}}}var se=ce(function(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?oe:ae(n.a,n.b,n.c,n.d,n.e,n.f)},"px, ","px)","deg)"),fe=ce(function(t){return null==t?oe:(re||(re=document.createElementNS("http://www.w3.org/2000/svg","g")),re.setAttribute("transform",t),(t=re.transform.baseVal.consolidate())?ae((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):oe)},", ",")",")");function ue(t,n){var e,r;return function(){var i=te(this,t),o=i.tween;if(o!==e)for(var a=0,c=(r=e=o).length;a<c;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}function le(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=te(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var c={name:n,value:e},s=0,f=i.length;s<f;++s)if(i[s].name===n){i[s]=c;break}s===f&&i.push(c)}o.tween=i}}function he(t,n,e){var r=t._id;return t.each(function(){var t=te(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return ne(t,r).value[n]}}function de(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function pe(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function ge(){}var ye=.7,be=1/ye,me="\\s*([+-]?\\d+)\\s*",ve="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_e="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xe=/^#([0-9a-f]{3,8})$/,we=new RegExp(`^rgb\\(${me},${me},${me}\\)$`),ke=new RegExp(`^rgb\\(${_e},${_e},${_e}\\)$`),Me=new RegExp(`^rgba\\(${me},${me},${me},${ve}\\)$`),$e=new RegExp(`^rgba\\(${_e},${_e},${_e},${ve}\\)$`),Te=new RegExp(`^hsl\\(${ve},${_e},${_e}\\)$`),Ae=new RegExp(`^hsla\\(${ve},${_e},${_e},${ve}\\)$`),Se={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ee(){return this.rgb().formatHex()}function Ne(){return this.rgb().formatRgb()}function Ce(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=xe.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?Le(n):3===e?new Fe(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?De(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?De(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=we.exec(t))?new Fe(n[1],n[2],n[3],1):(n=ke.exec(t))?new Fe(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Me.exec(t))?De(n[1],n[2],n[3],n[4]):(n=$e.exec(t))?De(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Te.exec(t))?qe(n[1],n[2]/100,n[3]/100,1):(n=Ae.exec(t))?qe(n[1],n[2]/100,n[3]/100,n[4]):Se.hasOwnProperty(t)?Le(Se[t]):"transparent"===t?new Fe(NaN,NaN,NaN,0):null}function Le(t){return new Fe(t>>16&255,t>>8&255,255&t,1)}function De(t,n,e,r){return r<=0&&(t=n=e=NaN),new Fe(t,n,e,r)}function ze(t){return t instanceof ge||(t=Ce(t)),t?new Fe((t=t.rgb()).r,t.g,t.b,t.opacity):new Fe}function Oe(t,n,e,r){return 1===arguments.length?ze(t):new Fe(t,n,e,null==r?1:r)}function Fe(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function je(){return`#${Ie(this.r)}${Ie(this.g)}${Ie(this.b)}`}function Re(){const t=Pe(this.opacity);return`${1===t?"rgb(":"rgba("}${Ue(this.r)}, ${Ue(this.g)}, ${Ue(this.b)}${1===t?")":`, ${t})`}`}function Pe(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ue(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ie(t){return((t=Ue(t))<16?"0":"")+t.toString(16)}function qe(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new He(t,n,e,r)}function Be(t){if(t instanceof He)return new He(t.h,t.s,t.l,t.opacity);if(t instanceof ge||(t=Ce(t)),!t)return new He;if(t instanceof He)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,c=o-i,s=(o+i)/2;return c?(a=n===o?(e-r)/c+6*(e<r):e===o?(r-n)/c+2:(n-e)/c+4,c/=s<.5?o+i:2-o-i,a*=60):c=s>0&&s<1?0:a,new He(a,c,s,t.opacity)}function We(t,n,e,r){return 1===arguments.length?Be(t):new He(t,n,e,null==r?1:r)}function He(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Ye(t){return(t=(t||0)%360)<0?t+360:t}function Ve(t){return Math.max(0,Math.min(1,t||0))}function Xe(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function Ze(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}de(ge,Ce,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ee,formatHex:Ee,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Be(this).formatHsl()},formatRgb:Ne,toString:Ne}),de(Fe,Oe,pe(ge,{brighter(t){return t=null==t?be:Math.pow(be,t),new Fe(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?ye:Math.pow(ye,t),new Fe(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Fe(Ue(this.r),Ue(this.g),Ue(this.b),Pe(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:je,formatHex:je,formatHex8:function(){return`#${Ie(this.r)}${Ie(this.g)}${Ie(this.b)}${Ie(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Re,toString:Re})),de(He,We,pe(ge,{brighter(t){return t=null==t?be:Math.pow(be,t),new He(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?ye:Math.pow(ye,t),new He(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Fe(Xe(t>=240?t-240:t+120,i,r),Xe(t,i,r),Xe(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new He(Ye(this.h),Ve(this.s),Ve(this.l),Pe(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Pe(this.opacity);return`${1===t?"hsl(":"hsla("}${Ye(this.h)}, ${100*Ve(this.s)}%, ${100*Ve(this.l)}%${1===t?")":`, ${t})`}`}}));var Ge=t=>()=>t;function Qe(t,n){return function(e){return t+e*n}}function Je(t,n){var e=n-t;return e?Qe(t,e>180||e<-180?e-360*Math.round(e/360):e):Ge(isNaN(t)?n:t)}function Ke(t){return 1===(t=+t)?tr:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):Ge(isNaN(n)?e:n)}}function tr(t,n){var e=n-t;return e?Qe(t,e):Ge(isNaN(t)?n:t)}var nr=function t(n){var e=Ke(n);function r(t,n){var r=e((t=Oe(t)).r,(n=Oe(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=tr(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function er(t){return function(n){var e,r,i=n.length,o=new Array(i),a=new Array(i),c=new Array(i);for(e=0;e<i;++e)r=Oe(n[e]),o[e]=r.r||0,a[e]=r.g||0,c[e]=r.b||0;return o=t(o),a=t(a),c=t(c),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=c(t),r+""}}}var rr=er(function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,c=r<n-1?t[r+2]:2*o-i;return Ze((e-r/n)*n,a,i,o,c)}}),ir=(er(function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],a=t[(r+1)%n],c=t[(r+2)%n];return Ze((e-r/n)*n,i,o,a,c)}}),/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g),or=new RegExp(ir.source,"g");function ar(t,n){var e,r,i,o=ir.lastIndex=or.lastIndex=0,a=-1,c=[],s=[];for(t+="",n+="";(e=ir.exec(t))&&(r=or.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),c[a]?c[a]+=i:c[++a]=i),(e=e[0])===(r=r[0])?c[a]?c[a]+=r:c[++a]=r:(c[++a]=null,s.push({i:a,x:ee(e,r)})),o=or.lastIndex;return o<n.length&&(i=n.slice(o),c[a]?c[a]+=i:c[++a]=i),c.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)c[(e=s[r]).i]=e.x(t);return c.join("")})}function cr(t,n){var e;return("number"==typeof n?ee:n instanceof Ce?nr:(e=Ce(n))?(n=e,nr):ar)(t,n)}function sr(t){return function(){this.removeAttribute(t)}}function fr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ur(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=n(r=a,e)}}function lr(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=n(r=a,e)}}function hr(t,n,e){var r,i,o;return function(){var a,c,s=e(this);if(null!=s)return(a=this.getAttribute(t))===(c=s+"")?null:a===r&&c===i?o:(i=c,o=n(r=a,s));this.removeAttribute(t)}}function dr(t,n,e){var r,i,o;return function(){var a,c,s=e(this);if(null!=s)return(a=this.getAttributeNS(t.space,t.local))===(c=s+"")?null:a===r&&c===i?o:(i=c,o=n(r=a,s));this.removeAttributeNS(t.space,t.local)}}function pr(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}(t,i)),e}return i._value=n,i}function gr(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}(t,i)),e}return i._value=n,i}function yr(t,n){return function(){Kn(this,t).delay=+n.apply(this,arguments)}}function br(t,n){return n=+n,function(){Kn(this,t).delay=n}}function mr(t,n){return function(){te(this,t).duration=+n.apply(this,arguments)}}function vr(t,n){return n=+n,function(){te(this,t).duration=n}}var _r=$n.prototype.constructor;function xr(t){return function(){this.style.removeProperty(t)}}var wr=0;function kr(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Mr(){return++wr}var $r=$n.prototype;kr.prototype=function(t){return $n().transition(t)}.prototype={constructor:kr,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=dt(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var c,s,f=r[a],u=f.length,l=o[a]=new Array(u),h=0;h<u;++h)(c=f[h])&&(s=t.call(c,c.__data__,h,f))&&("__data__"in c&&(s.__data__=c.__data__),l[h]=s,Jn(l[h],n,e,h,l,ne(c,e)));return new kr(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=gt(t));for(var r=this._groups,i=r.length,o=[],a=[],c=0;c<i;++c)for(var s,f=r[c],u=f.length,l=0;l<u;++l)if(s=f[l]){for(var h,d=t.call(s,s.__data__,l,f),p=ne(s,e),g=0,y=d.length;g<y;++g)(h=d[g])&&Jn(h,n,e,g,d,p);o.push(d),a.push(s)}return new kr(o,a,n,e)},selectChild:$r.selectChild,selectChildren:$r.selectChildren,filter:function(t){"function"!=typeof t&&(t=bt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],c=a.length,s=r[i]=[],f=0;f<c;++f)(o=a[f])&&t.call(o,o.__data__,f,a)&&s.push(o);return new kr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),c=0;c<o;++c)for(var s,f=n[c],u=e[c],l=f.length,h=a[c]=new Array(l),d=0;d<l;++d)(s=f[d]||u[d])&&(h[d]=s);for(;c<r;++c)a[c]=n[c];return new kr(a,this._parents,this._name,this._id)},selection:function(){return new _r(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Mr(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,c=r[o],s=c.length,f=0;f<s;++f)if(a=c[f]){var u=ne(a,n);Jn(a,t,e,f,c,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new kr(r,this._parents,t,e)},call:$r.call,nodes:$r.nodes,node:$r.node,size:$r.size,empty:$r.empty,each:$r.each,on:function(t,n){var e=this._id;return arguments.length<2?ne(this.node(),e).on.on(t):this.each(function(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}(n)?Kn:te;return function(){var a=o(this,t),c=a.on;c!==r&&(i=(r=c).copy()).on(n,e),a.on=i}}(e,t,n))},attr:function(t,n){var e=Lt(t),r="transform"===e?fe:cr;return this.attrTween(t,"function"==typeof n?(e.local?dr:hr)(e,r,he(this,"attr."+t,n)):null==n?(e.local?fr:sr)(e):(e.local?lr:ur)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=Lt(t);return this.tween(e,(r.local?pr:gr)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?se:cr;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=Bt(this,t),a=(this.style.removeProperty(t),Bt(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,xr(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var a=Bt(this,t),c=e(this),s=c+"";return null==c&&(this.style.removeProperty(t),s=c=Bt(this,t)),a===s?null:a===r&&s===i?o:(i=s,o=n(r=a,c))}}(t,r,he(this,"style."+t,n))).each(function(t,n){var e,r,i,o,a="style."+n,c="end."+a;return function(){var s=te(this,t),f=s.on,u=null==s.value[a]?o||(o=xr(n)):void 0;f===e&&i===u||(r=(e=f).copy()).on(c,i=u),s.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var a=Bt(this,t);return a===o?null:a===r?i:i=n(r=a,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}(t,o,e)),r}return o._value=n,o}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(he(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,function(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&function(t){return function(n){this.textContent=t.call(this,n)}}(r)),n}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=ne(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?ue:le)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?yr:br)(n,t)):ne(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?mr:vr)(n,t)):ne(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){te(this,t).ease=n}}(n,t)):ne(this.node(),n).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;te(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(o,a){var c={value:a},s={value:function(){0===--i&&o()}};e.each(function(){var e=te(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(c),n._.interrupt.push(c),n._.end.push(s)),e.on=n}),0===i&&o()})},[Symbol.iterator]:$r[Symbol.iterator]};var Tr={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Ar(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}$n.prototype.interrupt=function(t){return this.each(function(){!function(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)})},$n.prototype.transition=function(t){var n,e;t instanceof kr?(n=t._id,t=t._name):(n=Mr(),(e=Tr).time=qn(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,c=r[o],s=c.length,f=0;f<s;++f)(a=c[f])&&Jn(a,t,n,f,c,e||Ar(a,n));return new kr(r,this._parents,t,n)};const{abs:Sr,max:Er,min:Nr}=Math;function Cr(t){return[+t[0],+t[1]]}function Lr(t){return[Cr(t[0]),Cr(t[1])]}["w","e"].map(Dr),["n","s"].map(Dr),["n","w","e","s","nw","ne","sw","se"].map(Dr);function Dr(t){return{type:t}}function zr(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Or(t){return(t=zr(Math.abs(t)))?t[1]:NaN}var Fr,jr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Rr(t){if(!(n=jr.exec(t)))throw new Error("invalid format: "+t);var n;return new Pr({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function Pr(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ur(t,n){var e=zr(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Rr.prototype=Pr.prototype,Pr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Ir={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Ur(100*t,n),r:Ur,s:function(t,n){var e=zr(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Fr=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+zr(t,Math.max(0,n+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function qr(t){return t}var Br,Wr,Hr,Yr=Array.prototype.map,Vr=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Xr(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?qr:(n=Yr.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,c=n[0],s=0;i>0&&c>0&&(s+c+1>r&&(c=Math.max(1,r-s)),o.push(t.substring(i-=c,i+c)),!((s+=c+1)>r));)c=n[a=(a+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",c=void 0===t.numerals?qr:function(t){return function(n){return n.replace(/[0-9]/g,function(n){return t[+n]})}}(Yr.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",f=void 0===t.minus?"":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function l(t){var n=(t=Rr(t)).fill,e=t.align,l=t.sign,h=t.symbol,d=t.zero,p=t.width,g=t.comma,y=t.precision,b=t.trim,m=t.type;"n"===m?(g=!0,m="g"):Ir[m]||(void 0===y&&(y=12),b=!0,m="g"),(d||"0"===n&&"="===e)&&(d=!0,n="0",e="=");var v="$"===h?i:"#"===h&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",_="$"===h?o:/[%p]/.test(m)?s:"",x=Ir[m],w=/[defgprs%]/.test(m);function k(t){var i,o,s,h=v,k=_;if("c"===m)k=x(t)+k,t="";else{var M=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:x(Math.abs(t),y),b&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),M&&0===+t&&"+"!==l&&(M=!1),h=(M?"("===l?l:f:"-"===l||"("===l?"":l)+h,k=("s"===m?Vr[8+Fr/3]:"")+k+(M&&"("===l?")":""),w)for(i=-1,o=t.length;++i<o;)if(48>(s=t.charCodeAt(i))||s>57){k=(46===s?a+t.slice(i+1):t.slice(i))+k,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var $=h.length+t.length+k.length,T=$<p?new Array(p-$+1).join(n):"";switch(g&&d&&(t=r(T+t,T.length?p-k.length:1/0),T=""),e){case"<":t=h+t+k+T;break;case"=":t=h+T+t+k;break;case"^":t=T.slice(0,$=T.length>>1)+h+t+k+T.slice($);break;default:t=T+h+t+k}return c(t)}return y=void 0===y?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),k.toString=function(){return t+""},k}return{format:l,formatPrefix:function(t,n){var e=l(((t=Rr(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Or(n)/3))),i=Math.pow(10,-r),o=Vr[8+r/3];return function(t){return e(i*t)+o}}}}Br=Xr({thousands:",",grouping:[3],currency:["$",""]}),Wr=Br.format,Hr=Br.formatPrefix;var Zr=1e-6,Gr=1e-12,Qr=Math.PI,Jr=Qr/2,Kr=Qr/4,ti=2*Qr,ni=180/Qr,ei=Qr/180,ri=Math.abs,ii=Math.atan,oi=Math.atan2,ai=Math.cos,ci=(Math.ceil,Math.exp),si=(Math.floor,Math.hypot,Math.log),fi=Math.pow,ui=Math.sin,li=Math.sign||function(t){return t>0?1:t<0?-1:0},hi=Math.sqrt,di=Math.tan;function pi(t){return t>1?0:t<-1?Qr:Math.acos(t)}function gi(t){return t>1?Jr:t<-1?-Jr:Math.asin(t)}function yi(){}function bi(){var t,n=[];return{point:function(n,e,r){t.push([n,e,r])},lineStart:function(){n.push(t=[])},lineEnd:yi,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function mi(t,n){return ri(t[0]-n[0])<Zr&&ri(t[1]-n[1])<Zr}function vi(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function _i(t,n,e,r,i){var o,a,c=[],s=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],a=t[n];if(mi(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2*Zr}c.push(e=new vi(r,t,null,!0)),s.push(e.o=new vi(r,null,e,!1)),c.push(e=new vi(a,t,null,!1)),s.push(e.o=new vi(a,null,e,!0))}}),c.length){for(s.sort(n),xi(c),xi(s),o=0,a=s.length;o<a;++o)s[o].e=e=!e;for(var f,u,l=c[0];;){for(var h=l,d=!0;h.v;)if((h=h.n)===l)return;f=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=f.length;o<a;++o)i.point((u=f[o])[0],u[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(f=h.p.z,o=f.length-1;o>=0;--o)i.point((u=f[o])[0],u[1]);else r(h.x,h.p.x,-1,i);h=h.p}f=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}}function xi(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function wi(t){return Array.from(function*(t){for(const n of t)yield*n}(t))}var ki=1e9,Mi=-ki;function $i(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,c,f){var u=0,l=0;if(null==i||(u=a(i,c))!==(l=a(o,c))||s(i,o)<0^c>0)do{f.point(0===u||3===u?t:e,u>1?r:n)}while((u=(u+c+4)%4)!==l);else f.point(o[0],o[1])}function a(r,i){return ri(r[0]-t)<Zr?i>0?0:3:ri(r[0]-e)<Zr?i>0?2:1:ri(r[1]-n)<Zr?i>0?1:0:i>0?3:2}function c(t,n){return s(t.x,n.x)}function s(t,n){var e=a(t,1),r=a(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(a){var s,f,u,l,h,d,p,g,y,b,m,v=a,_=bi(),x={point:w,lineStart:function(){x.point=k,f&&f.push(u=[]);b=!0,y=!1,p=g=NaN},lineEnd:function(){s&&(k(l,h),d&&y&&_.rejoin(),s.push(_.result()));x.point=w,y&&v.lineEnd()},polygonStart:function(){v=_,s=[],f=[],m=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=f.length;e<i;++e)for(var o,a,c=f[e],s=1,u=c.length,l=c[0],h=l[0],d=l[1];s<u;++s)o=h,a=d,h=(l=c[s])[0],d=l[1],a<=r?d>r&&(h-o)*(r-a)>(d-a)*(t-o)&&++n:d<=r&&(h-o)*(r-a)<(d-a)*(t-o)&&--n;return n}(),e=m&&n,i=(s=wi(s)).length;(e||i)&&(a.polygonStart(),e&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&_i(s,c,n,o,a),a.polygonEnd());v=a,s=f=u=null}};function w(t,n){i(t,n)&&v.point(t,n)}function k(o,a){var c=i(o,a);if(f&&u.push([o,a]),b)l=o,h=a,d=c,b=!1,c&&(v.lineStart(),v.point(o,a));else if(c&&y)v.point(o,a);else{var s=[p=Math.max(Mi,Math.min(ki,p)),g=Math.max(Mi,Math.min(ki,g))],_=[o=Math.max(Mi,Math.min(ki,o)),a=Math.max(Mi,Math.min(ki,a))];!function(t,n,e,r,i,o){var a,c=t[0],s=t[1],f=0,u=1,l=n[0]-c,h=n[1]-s;if(a=e-c,l||!(a>0)){if(a/=l,l<0){if(a<f)return;a<u&&(u=a)}else if(l>0){if(a>u)return;a>f&&(f=a)}if(a=i-c,l||!(a<0)){if(a/=l,l<0){if(a>u)return;a>f&&(f=a)}else if(l>0){if(a<f)return;a<u&&(u=a)}if(a=r-s,h||!(a>0)){if(a/=h,h<0){if(a<f)return;a<u&&(u=a)}else if(h>0){if(a>u)return;a>f&&(f=a)}if(a=o-s,h||!(a<0)){if(a/=h,h<0){if(a>u)return;a>f&&(f=a)}else if(h>0){if(a<f)return;a<u&&(u=a)}return f>0&&(t[0]=c+f*l,t[1]=s+f*h),u<1&&(n[0]=c+u*l,n[1]=s+u*h),!0}}}}}(s,_,t,n,e,r)?c&&(v.lineStart(),v.point(o,a),m=!1):(y||(v.lineStart(),v.point(s[0],s[1])),v.point(_[0],_[1]),c||v.lineEnd(),m=!1)}p=o,g=a,y=c}return x}}var Ti=t=>t;function Ai(t,n){t&&Ei.hasOwnProperty(t.type)&&Ei[t.type](t,n)}var Si={Feature:function(t,n){Ai(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Ai(e[r].geometry,n)}},Ei={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Ni(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Ni(e[r],n,0)},Polygon:function(t,n){Ci(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Ci(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Ai(e[r],n)}};function Ni(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function Ci(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Ni(t[e],n,1);n.polygonEnd()}function Li(t,n){t&&Si.hasOwnProperty(t.type)?Si[t.type](t,n):Ai(t,n)}class Di{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let e=0;for(let r=0;r<this._n&&r<32;r++){const i=n[r],o=t+i,a=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);a&&(n[e++]=a),t=o}return n[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let n,e,r,i=this._n,o=0;if(i>0){for(o=t[--i];i>0&&(n=o,e=t[--i],o=n+e,r=e-(o-n),!r););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(e=2*r,n=o+e,e==n-o&&(o=n))}return o}}var zi,Oi,Fi,ji,Ri=new Di,Pi=new Di,Ui={point:yi,lineStart:yi,lineEnd:yi,polygonStart:function(){Ui.lineStart=Ii,Ui.lineEnd=Wi},polygonEnd:function(){Ui.lineStart=Ui.lineEnd=Ui.point=yi,Ri.add(ri(Pi)),Pi=new Di},result:function(){var t=Ri/2;return Ri=new Di,t}};function Ii(){Ui.point=qi}function qi(t,n){Ui.point=Bi,zi=Fi=t,Oi=ji=n}function Bi(t,n){Pi.add(ji*t-Fi*n),Fi=t,ji=n}function Wi(){Bi(zi,Oi)}var Hi=Ui,Yi=1/0,Vi=Yi,Xi=-Yi,Zi=Xi,Gi={point:function(t,n){t<Yi&&(Yi=t);t>Xi&&(Xi=t);n<Vi&&(Vi=n);n>Zi&&(Zi=n)},lineStart:yi,lineEnd:yi,polygonStart:yi,polygonEnd:yi,result:function(){var t=[[Yi,Vi],[Xi,Zi]];return Xi=Zi=-(Vi=Yi=1/0),t}};var Qi,Ji,Ki,to,no=Gi,eo=0,ro=0,io=0,oo=0,ao=0,co=0,so=0,fo=0,uo=0,lo={point:ho,lineStart:po,lineEnd:bo,polygonStart:function(){lo.lineStart=mo,lo.lineEnd=vo},polygonEnd:function(){lo.point=ho,lo.lineStart=po,lo.lineEnd=bo},result:function(){var t=uo?[so/uo,fo/uo]:co?[oo/co,ao/co]:io?[eo/io,ro/io]:[NaN,NaN];return eo=ro=io=oo=ao=co=so=fo=uo=0,t}};function ho(t,n){eo+=t,ro+=n,++io}function po(){lo.point=go}function go(t,n){lo.point=yo,ho(Ki=t,to=n)}function yo(t,n){var e=t-Ki,r=n-to,i=hi(e*e+r*r);oo+=i*(Ki+t)/2,ao+=i*(to+n)/2,co+=i,ho(Ki=t,to=n)}function bo(){lo.point=ho}function mo(){lo.point=_o}function vo(){xo(Qi,Ji)}function _o(t,n){lo.point=xo,ho(Qi=Ki=t,Ji=to=n)}function xo(t,n){var e=t-Ki,r=n-to,i=hi(e*e+r*r);oo+=i*(Ki+t)/2,ao+=i*(to+n)/2,co+=i,so+=(i=to*t-Ki*n)*(Ki+t),fo+=i*(to+n),uo+=3*i,ho(Ki=t,to=n)}var wo=lo;function ko(t){this._context=t}ko.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,ti)}},result:yi};var Mo,$o,To,Ao,So,Eo=new Di,No={point:yi,lineStart:function(){No.point=Co},lineEnd:function(){Mo&&Lo($o,To),No.point=yi},polygonStart:function(){Mo=!0},polygonEnd:function(){Mo=null},result:function(){var t=+Eo;return Eo=new Di,t}};function Co(t,n){No.point=Lo,$o=Ao=t,To=So=n}function Lo(t,n){Ao-=t,So-=n,Eo.add(hi(Ao*Ao+So*So)),Ao=t,So=n}var Do=No;let zo,Oo,Fo,jo;class Ro{constructor(t){this._append=null==t?Po:function(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return Po;if(n!==zo){const t=10**n;zo=n,Oo=function(n){let e=1;this._+=n[0];for(const r=n.length;e<r;++e)this._+=Math.round(arguments[e]*t)/t+n[e]}}return Oo}(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:this._append`M${t},${n}`,this._point=1;break;case 1:this._append`L${t},${n}`;break;default:if(this._append`M${t},${n}`,this._radius!==Fo||this._append!==Oo){const t=this._radius,n=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,Fo=t,Oo=this._append,jo=this._,this._=n}this._+=jo}}result(){const t=this._;return this._="",t.length?t:null}}function Po(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function Uo(t,n){let e,r,i=3,o=4.5;function a(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),Li(t,e(r))),r.result()}return a.area=function(t){return Li(t,e(Hi)),Hi.result()},a.measure=function(t){return Li(t,e(Do)),Do.result()},a.bounds=function(t){return Li(t,e(no)),no.result()},a.centroid=function(t){return Li(t,e(wo)),wo.result()},a.projection=function(n){return arguments.length?(e=null==n?(t=null,Ti):(t=n).stream,a):t},a.context=function(t){return arguments.length?(r=null==t?(n=null,new Ro(i)):new ko(n=t),"function"!=typeof o&&r.pointRadius(o),a):n},a.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),a):o},a.digits=function(t){if(!arguments.length)return i;if(null==t)i=null;else{const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);i=n}return null===n&&(r=new Ro(i)),a},a.projection(t).digits(i).context(n)}function Io(t){return[oi(t[1],t[0]),gi(t[2])]}function qo(t){var n=t[0],e=t[1],r=ai(e);return[r*ai(n),r*ui(n),ui(e)]}function Bo(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Wo(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Ho(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Yo(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Vo(t){var n=hi(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function Xo(t){return ri(t[0])<=Qr?t[0]:li(t[0])*((ri(t[0])+Qr)%ti-Qr)}function Zo(t,n,e,r){return function(i){var o,a,c,s=n(i),f=bi(),u=n(f),l=!1,h={point:d,lineStart:g,lineEnd:y,polygonStart:function(){h.point=b,h.lineStart=m,h.lineEnd=v,a=[],o=[]},polygonEnd:function(){h.point=d,h.lineStart=g,h.lineEnd=y,a=wi(a);var t=function(t,n){var e=Xo(n),r=n[1],i=ui(r),o=[ui(e),-ai(e),0],a=0,c=0,s=new Di;1===i?r=Jr+Zr:-1===i&&(r=-Jr-Zr);for(var f=0,u=t.length;f<u;++f)if(h=(l=t[f]).length)for(var l,h,d=l[h-1],p=Xo(d),g=d[1]/2+Kr,y=ui(g),b=ai(g),m=0;m<h;++m,p=_,y=w,b=k,d=v){var v=l[m],_=Xo(v),x=v[1]/2+Kr,w=ui(x),k=ai(x),M=_-p,$=M>=0?1:-1,T=$*M,A=T>Qr,S=y*w;if(s.add(oi(S*$*ui(T),b*k+S*ai(T))),a+=A?M+$*ti:M,A^p>=e^_>=e){var E=Wo(qo(d),qo(v));Vo(E);var N=Wo(o,E);Vo(N);var C=(A^M>=0?-1:1)*gi(N[2]);(r>C||r===C&&(E[0]||E[1]))&&(c+=A^M>=0?1:-1)}}return(a<-Zr||a<Zr&&s<-Gr)^1&c}(o,r);a.length?(l||(i.polygonStart(),l=!0),_i(a,Qo,t,e,i)):t&&(l||(i.polygonStart(),l=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(n,e){t(n,e)&&i.point(n,e)}function p(t,n){s.point(t,n)}function g(){h.point=p,s.lineStart()}function y(){h.point=d,s.lineEnd()}function b(t,n){c.push([t,n]),u.point(t,n)}function m(){u.lineStart(),c=[]}function v(){b(c[0][0],c[0][1]),u.lineEnd();var t,n,e,r,s=u.clean(),h=f.result(),d=h.length;if(c.pop(),o.push(c),c=null,d)if(1&s){if((n=(e=h[0]).length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else d>1&&2&s&&h.push(h.pop().concat(h.shift())),a.push(h.filter(Go))}return h}}function Go(t){return t.length>1}function Qo(t,n){return((t=t.x)[0]<0?t[1]-Jr-Zr:Jr-t[1])-((n=n.x)[0]<0?n[1]-Jr-Zr:Jr-n[1])}var Jo=Zo(function(){return!0},function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,a){var c=o>0?Qr:-Qr,s=ri(o-e);ri(s-Qr)<Zr?(t.point(e,r=(r+a)/2>0?Jr:-Jr),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(c,r),t.point(o,r),n=0):i!==c&&s>=Qr&&(ri(e-i)<Zr&&(e-=i*Zr),ri(o-c)<Zr&&(o-=c*Zr),r=function(t,n,e,r){var i,o,a=ui(t-e);return ri(a)>Zr?ii((ui(n)*(o=ai(r))*ui(e)-ui(r)*(i=ai(n))*ui(t))/(i*o*a)):(n+r)/2}(e,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(c,r),n=0),t.point(e=o,r=a),i=c},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}},function(t,n,e,r){var i;if(null==t)i=e*Jr,r.point(-Qr,i),r.point(0,i),r.point(Qr,i),r.point(Qr,0),r.point(Qr,-i),r.point(0,-i),r.point(-Qr,-i),r.point(-Qr,0),r.point(-Qr,i);else if(ri(t[0]-n[0])>Zr){var o=t[0]<n[0]?Qr:-Qr;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])},[-Qr,-Jr]);function Ko(t,n,e,r,i,o){if(e){var a=ai(n),c=ui(n),s=r*e;null==i?(i=n+r*ti,o=n-s/2):(i=ta(a,i),o=ta(a,o),(r>0?i<o:i>o)&&(i+=r*ti));for(var f,u=i;r>0?u>o:u<o;u-=s)f=Io([a,-c*ai(u),-c*ui(u)]),t.point(f[0],f[1])}}function ta(t,n){(n=qo(n))[0]-=t,Vo(n);var e=pi(-n[1]);return((-n[2]<0?-e:e)+ti-Zr)%ti}function na(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function ea(t,n){return ri(t)>Qr&&(t-=Math.round(t/ti)*ti),[t,n]}function ra(t,n,e){return(t%=ti)?n||e?na(oa(t),aa(n,e)):oa(t):n||e?aa(n,e):ea}function ia(t){return function(n,e){return ri(n+=t)>Qr&&(n-=Math.round(n/ti)*ti),[n,e]}}function oa(t){var n=ia(t);return n.invert=ia(-t),n}function aa(t,n){var e=ai(t),r=ui(t),i=ai(n),o=ui(n);function a(t,n){var a=ai(n),c=ai(t)*a,s=ui(t)*a,f=ui(n),u=f*e+c*r;return[oi(s*i-u*o,c*e-f*r),gi(u*i+s*o)]}return a.invert=function(t,n){var a=ai(n),c=ai(t)*a,s=ui(t)*a,f=ui(n),u=f*i-s*o;return[oi(s*i+f*o,c*e+u*r),gi(u*e-c*r)]},a}function ca(t){return{stream:sa(t)}}function sa(t){return function(n){var e=new fa;for(var r in t)e[r]=t[r];return e.stream=n,e}}function fa(){}function ua(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Li(e,t.stream(no)),n(no.result()),null!=r&&t.clipExtent(r),t}function la(t,n,e){return ua(t,function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),a=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,c=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([a,c])},e)}function ha(t,n,e){return la(t,[[0,0],n],e)}function da(t,n,e){return ua(t,function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,a=-i*e[0][1];t.scale(150*i).translate([o,a])},e)}function pa(t,n,e){return ua(t,function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],a=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,a])},e)}ea.invert=ea,fa.prototype={constructor:fa,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var ga=16,ya=ai(30*ei);function ba(t,n){return+n?function(t,n){function e(r,i,o,a,c,s,f,u,l,h,d,p,g,y){var b=f-r,m=u-i,v=b*b+m*m;if(v>4*n&&g--){var _=a+h,x=c+d,w=s+p,k=hi(_*_+x*x+w*w),M=gi(w/=k),$=ri(ri(w)-1)<Zr||ri(o-l)<Zr?(o+l)/2:oi(x,_),T=t($,M),A=T[0],S=T[1],E=A-r,N=S-i,C=m*E-b*N;(C*C/v>n||ri((b*E+m*N)/v-.5)>.3||a*h+c*d+s*p<ya)&&(e(r,i,o,a,c,s,A,S,$,_/=k,x/=k,w,g,y),y.point(A,S),e(A,S,$,_,x,w,f,u,l,h,d,p,g,y))}}return function(n){var r,i,o,a,c,s,f,u,l,h,d,p,g={point:y,lineStart:b,lineEnd:v,polygonStart:function(){n.polygonStart(),g.lineStart=_},polygonEnd:function(){n.polygonEnd(),g.lineStart=b}};function y(e,r){e=t(e,r),n.point(e[0],e[1])}function b(){u=NaN,g.point=m,n.lineStart()}function m(r,i){var o=qo([r,i]),a=t(r,i);e(u,l,f,h,d,p,u=a[0],l=a[1],f=r,h=o[0],d=o[1],p=o[2],ga,n),n.point(u,l)}function v(){g.point=y,n.lineEnd()}function _(){b(),g.point=x,g.lineEnd=w}function x(t,n){m(r=t,n),i=u,o=l,a=h,c=d,s=p,g.point=m}function w(){e(u,l,f,h,d,p,i,o,r,a,c,s,ga,n),g.lineEnd=v,v()}return g}}(t,n):function(t){return sa({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}var ma=sa({point:function(t,n){this.stream.point(t*ei,n*ei)}});function va(t,n,e,r,i,o){if(!o)return function(t,n,e,r,i){function o(o,a){return[n+t*(o*=r),e-t*(a*=i)]}return o.invert=function(o,a){return[(o-n)/t*r,(e-a)/t*i]},o}(t,n,e,r,i);var a=ai(o),c=ui(o),s=a*t,f=c*t,u=a/t,l=c/t,h=(c*e-a*n)/t,d=(c*n+a*e)/t;function p(t,o){return[s*(t*=r)-f*(o*=i)+n,e-f*t-s*o]}return p.invert=function(t,n){return[r*(u*t-l*n+h),i*(d-l*t-u*n)]},p}function _a(t){return xa(function(){return t})()}function xa(t){var n,e,r,i,o,a,c,s,f,u,l=150,h=480,d=250,p=0,g=0,y=0,b=0,m=0,v=0,_=1,x=1,w=null,k=Jo,M=null,$=Ti,T=.5;function A(t){return s(t[0]*ei,t[1]*ei)}function S(t){return(t=s.invert(t[0],t[1]))&&[t[0]*ni,t[1]*ni]}function E(){var t=va(l,0,0,_,x,v).apply(null,n(p,g)),r=va(l,h-t[0],d-t[1],_,x,v);return e=ra(y,b,m),c=na(n,r),s=na(e,c),a=ba(c,T),N()}function N(){return f=u=null,A}return A.stream=function(t){return f&&u===t?f:f=ma(function(t){return sa({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(k(a($(u=t)))))},A.preclip=function(t){return arguments.length?(k=t,w=void 0,N()):k},A.postclip=function(t){return arguments.length?($=t,M=r=i=o=null,N()):$},A.clipAngle=function(t){return arguments.length?(k=+t?function(t){var n=ai(t),e=2*ei,r=n>0,i=ri(n)>Zr;function o(t,e){return ai(t)*ai(e)>n}function a(t,e,r){var i=[1,0,0],o=Wo(qo(t),qo(e)),a=Bo(o,o),c=o[0],s=a-c*c;if(!s)return!r&&t;var f=n*a/s,u=-n*c/s,l=Wo(i,o),h=Yo(i,f);Ho(h,Yo(o,u));var d=l,p=Bo(h,d),g=Bo(d,d),y=p*p-g*(Bo(h,h)-1);if(!(y<0)){var b=hi(y),m=Yo(d,(-p-b)/g);if(Ho(m,h),m=Io(m),!r)return m;var v,_=t[0],x=e[0],w=t[1],k=e[1];x<_&&(v=_,_=x,x=v);var M=x-_,$=ri(M-Qr)<Zr;if(!$&&k<w&&(v=w,w=k,k=v),$||M<Zr?$?w+k>0^m[1]<(ri(m[0]-_)<Zr?w:k):w<=m[1]&&m[1]<=k:M>Qr^(_<=m[0]&&m[0]<=x)){var T=Yo(d,(-p+b)/g);return Ho(T,h),[m,Io(T)]}}}function c(n,e){var i=r?t:Qr-t,o=0;return n<-i?o|=1:n>i&&(o|=2),e<-i?o|=4:e>i&&(o|=8),o}return Zo(o,function(t){var n,e,s,f,u;return{lineStart:function(){f=s=!1,u=1},point:function(l,h){var d,p=[l,h],g=o(l,h),y=r?g?0:c(l,h):g?c(l+(l<0?Qr:-Qr),h):0;if(!n&&(f=s=g)&&t.lineStart(),g!==s&&(!(d=a(n,p))||mi(n,d)||mi(p,d))&&(p[2]=1),g!==s)u=0,g?(t.lineStart(),d=a(p,n),t.point(d[0],d[1])):(d=a(n,p),t.point(d[0],d[1],2),t.lineEnd()),n=d;else if(i&&n&&r^g){var b;y&e||!(b=a(p,n,!0))||(u=0,r?(t.lineStart(),t.point(b[0][0],b[0][1]),t.point(b[1][0],b[1][1]),t.lineEnd()):(t.point(b[1][0],b[1][1]),t.lineEnd(),t.lineStart(),t.point(b[0][0],b[0][1],3)))}!g||n&&mi(n,p)||t.point(p[0],p[1]),n=p,s=g,e=y},lineEnd:function(){s&&t.lineEnd(),n=null},clean:function(){return u|(f&&s)<<1}}},function(n,r,i,o){Ko(o,t,e,i,n,r)},r?[0,-t]:[-Qr,t-Qr])}(w=t*ei):(w=null,Jo),N()):w*ni},A.clipExtent=function(t){return arguments.length?($=null==t?(M=r=i=o=null,Ti):$i(M=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),N()):null==M?null:[[M,r],[i,o]]},A.scale=function(t){return arguments.length?(l=+t,E()):l},A.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],E()):[h,d]},A.center=function(t){return arguments.length?(p=t[0]%360*ei,g=t[1]%360*ei,E()):[p*ni,g*ni]},A.rotate=function(t){return arguments.length?(y=t[0]%360*ei,b=t[1]%360*ei,m=t.length>2?t[2]%360*ei:0,E()):[y*ni,b*ni,m*ni]},A.angle=function(t){return arguments.length?(v=t%360*ei,E()):v*ni},A.reflectX=function(t){return arguments.length?(_=t?-1:1,E()):_<0},A.reflectY=function(t){return arguments.length?(x=t?-1:1,E()):x<0},A.precision=function(t){return arguments.length?(a=ba(c,T=t*t),N()):hi(T)},A.fitExtent=function(t,n){return la(A,t,n)},A.fitSize=function(t,n){return ha(A,t,n)},A.fitWidth=function(t,n){return da(A,t,n)},A.fitHeight=function(t,n){return pa(A,t,n)},function(){return n=t.apply(this,arguments),A.invert=n.invert&&S,E()}}function wa(t){var n=0,e=Qr/3,r=xa(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*ei,e=t[1]*ei):[n*ni,e*ni]},i}function ka(t,n){var e=ui(t),r=(e+ui(n))/2;if(ri(r)<Zr)return function(t){var n=ai(t);function e(t,e){return[t*n,ui(e)/n]}return e.invert=function(t,e){return[t/n,gi(e*n)]},e}(t);var i=1+e*(2*r-e),o=hi(i)/r;function a(t,n){var e=hi(i-2*r*ui(n))/r;return[e*ui(t*=r),o-e*ai(t)]}return a.invert=function(t,n){var e=o-n,a=oi(t,ri(e))*li(e);return e*r<0&&(a-=Qr*li(t)*li(e)),[a/r,gi((i-(t*t+e*e)*r*r)/(2*r))]},a}function Ma(){return wa(ka).scale(155.424).center([0,33.6442])}function $a(){return Ma().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Ta(){var t,n,e,r,i,o,a=$a(),c=Ma().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=Ma().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f={point:function(t,n){o=[t,n]}};function u(t){var n=t[0],a=t[1];return o=null,e.point(n,a),o||(r.point(n,a),o)||(i.point(n,a),o)}function l(){return t=n=null,u}return u.invert=function(t){var n=a.scale(),e=a.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?c:i>=.166&&i<.234&&r>=-.214&&r<-.115?s:a).invert(t)},u.stream=function(e){return t&&n===e?t:(r=[a.stream(n=e),c.stream(e),s.stream(e)],i=r.length,t={point:function(t,n){for(var e=-1;++e<i;)r[e].point(t,n)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},u.precision=function(t){return arguments.length?(a.precision(t),c.precision(t),s.precision(t),l()):a.precision()},u.scale=function(t){return arguments.length?(a.scale(t),c.scale(.35*t),s.scale(t),u.translate(a.translate())):a.scale()},u.translate=function(t){if(!arguments.length)return a.translate();var n=a.scale(),o=+t[0],u=+t[1];return e=a.translate(t).clipExtent([[o-.455*n,u-.238*n],[o+.455*n,u+.238*n]]).stream(f),r=c.translate([o-.307*n,u+.201*n]).clipExtent([[o-.425*n+Zr,u+.12*n+Zr],[o-.214*n-Zr,u+.234*n-Zr]]).stream(f),i=s.translate([o-.205*n,u+.212*n]).clipExtent([[o-.214*n+Zr,u+.166*n+Zr],[o-.115*n-Zr,u+.234*n-Zr]]).stream(f),l()},u.fitExtent=function(t,n){return la(u,t,n)},u.fitSize=function(t,n){return ha(u,t,n)},u.fitWidth=function(t,n){return da(u,t,n)},u.fitHeight=function(t,n){return pa(u,t,n)},u.scale(1070)}function Aa(t){return function(n,e){var r=ai(n),i=ai(e),o=t(r*i);return o===1/0?[2,0]:[o*i*ui(n),o*ui(e)]}}function Sa(t){return function(n,e){var r=hi(n*n+e*e),i=t(r),o=ui(i),a=ai(i);return[oi(n*o,r*a),gi(r&&e*o/r)]}}var Ea=Aa(function(t){return hi(2/(1+t))});function Na(){return _a(Ea).scale(124.75).clipAngle(179.999)}Ea.invert=Sa(function(t){return 2*gi(t/2)});var Ca=Aa(function(t){return(t=pi(t))&&t/ui(t)});function La(){return _a(Ca).scale(79.4188).clipAngle(179.999)}function Da(t,n){return[t,si(di((Jr+n)/2))]}function za(){return Oa(Da).scale(961/ti)}function Oa(t){var n,e,r,i=_a(t),o=i.center,a=i.scale,c=i.translate,s=i.clipExtent,f=null;function u(){var o=Qr*a(),c=i(function(t){function n(n){return(n=t(n[0]*ei,n[1]*ei))[0]*=ni,n[1]*=ni,n}return t=ra(t[0]*ei,t[1]*ei,t.length>2?t[2]*ei:0),n.invert=function(n){return(n=t.invert(n[0]*ei,n[1]*ei))[0]*=ni,n[1]*=ni,n},n}(i.rotate()).invert([0,0]));return s(null==f?[[c[0]-o,c[1]-o],[c[0]+o,c[1]+o]]:t===Da?[[Math.max(c[0]-o,f),n],[Math.min(c[0]+o,e),r]]:[[f,Math.max(c[1]-o,n)],[e,Math.min(c[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),u()):a()},i.translate=function(t){return arguments.length?(c(t),u()):c()},i.center=function(t){return arguments.length?(o(t),u()):o()},i.clipExtent=function(t){return arguments.length?(null==t?f=n=e=r=null:(f=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),u()):null==f?null:[[f,n],[e,r]]},u()}function Fa(t){return di((Jr+t)/2)}function ja(t,n){var e=ai(t),r=t===n?ui(t):si(e/ai(n))/si(Fa(n)/Fa(t)),i=e*fi(Fa(t),r)/r;if(!r)return Da;function o(t,n){i>0?n<-Jr+Zr&&(n=-Jr+Zr):n>Jr-Zr&&(n=Jr-Zr);var e=i/fi(Fa(n),r);return[e*ui(r*t),i-e*ai(r*t)]}return o.invert=function(t,n){var e=i-n,o=li(r)*hi(t*t+e*e),a=oi(t,ri(e))*li(e);return e*r<0&&(a-=Qr*li(t)*li(e)),[a/r,2*ii(fi(i/o,1/r))-Jr]},o}function Ra(){return wa(ja).scale(109.5).parallels([30,30])}function Pa(t,n){return[t,n]}function Ua(){return _a(Pa).scale(152.63)}function Ia(t,n){var e=ai(t),r=t===n?ui(t):(e-ai(n))/(n-t),i=e/r+t;if(ri(r)<Zr)return Pa;function o(t,n){var e=i-n,o=r*t;return[e*ui(o),i-e*ai(o)]}return o.invert=function(t,n){var e=i-n,o=oi(t,ri(e))*li(e);return e*r<0&&(o-=Qr*li(t)*li(e)),[o/r,i-li(r)*hi(t*t+e*e)]},o}function qa(){return wa(Ia).scale(131.154).center([0,13.9389])}Ca.invert=Sa(function(t){return t}),Da.invert=function(t,n){return[t,2*ii(ci(n))-Jr]},Pa.invert=Pa;var Ba=1.340264,Wa=-.081106,Ha=893e-6,Ya=.003796,Va=hi(3)/2;function Xa(t,n){var e=gi(Va*ui(n)),r=e*e,i=r*r*r;return[t*ai(e)/(Va*(Ba+3*Wa*r+i*(7*Ha+9*Ya*r))),e*(Ba+Wa*r+i*(Ha+Ya*r))]}function Za(){return _a(Xa).scale(177.158)}function Ga(t,n){var e=ai(n),r=ai(t)*e;return[e*ui(t)/r,ui(n)/r]}function Qa(){return _a(Ga).scale(144.049).clipAngle(60)}function Ja(t,n){return[ai(n)*ui(t),ui(n)]}function Ka(){return _a(Ja).scale(249.5).clipAngle(90+Zr)}function tc(t,n){var e=ai(n),r=1+ai(t)*e;return[e*ui(t)/r,ui(n)/r]}function nc(){return _a(tc).scale(250).clipAngle(142)}function ec(t,n){return[si(di((Jr+n)/2)),-t]}function rc(){var t=Oa(ec),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90]).scale(159.155)}function ic(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}function oc(t){return function(n,e){var r=t((n=We(n)).h,(e=We(e)).h),i=tr(n.s,e.s),o=tr(n.l,e.l),a=tr(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=i(t),n.l=o(t),n.opacity=a(t),n+""}}}Xa.invert=function(t,n){for(var e,r=n,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=e=(r*(Ba+Wa*i+o*(Ha+Ya*i))-n)/(Ba+3*Wa*i+o*(7*Ha+9*Ya*i)))*r)*i*i,!(ri(e)<Gr));++a);return[Va*t*(Ba+3*Wa*i+o*(7*Ha+9*Ya*i))/ai(r),gi(ui(r)/Va)]},Ga.invert=Sa(ii),Ja.invert=Sa(gi),tc.invert=Sa(function(t){return 2*ii(t)}),ec.invert=function(t,n){return[-n,2*ii(ci(t))-Jr]};var ac=oc(Je);oc(tr);const cc=Math.PI/180,sc=180/Math.PI,fc=.96422,uc=.82521,lc=4/29,hc=6/29,dc=3*hc*hc,pc=hc*hc*hc;function gc(t){if(t instanceof bc)return new bc(t.l,t.a,t.b,t.opacity);if(t instanceof Mc)return $c(t);t instanceof Fe||(t=ze(t));var n,e,r=xc(t.r),i=xc(t.g),o=xc(t.b),a=mc((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?n=e=a:(n=mc((.4360747*r+.3850649*i+.1430804*o)/fc),e=mc((.0139322*r+.0971045*i+.7141733*o)/uc)),new bc(116*a-16,500*(n-a),200*(a-e),t.opacity)}function yc(t,n,e,r){return 1===arguments.length?gc(t):new bc(t,n,e,null==r?1:r)}function bc(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function mc(t){return t>pc?Math.pow(t,1/3):t/dc+lc}function vc(t){return t>hc?t*t*t:dc*(t-lc)}function _c(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function xc(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function wc(t){if(t instanceof Mc)return new Mc(t.h,t.c,t.l,t.opacity);if(t instanceof bc||(t=gc(t)),0===t.a&&0===t.b)return new Mc(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*sc;return new Mc(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function kc(t,n,e,r){return 1===arguments.length?wc(t):new Mc(t,n,e,null==r?1:r)}function Mc(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function $c(t){if(isNaN(t.h))return new bc(t.l,0,0,t.opacity);var n=t.h*cc;return new bc(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}function Tc(t){return function(n,e){var r=t((n=kc(n)).h,(e=kc(e)).h),i=tr(n.c,e.c),o=tr(n.l,e.l),a=tr(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=i(t),n.l=o(t),n.opacity=a(t),n+""}}}de(bc,yc,pe(ge,{brighter(t){return new bc(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker(t){return new bc(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new Fe(_c(3.1338561*(n=fc*vc(n))-1.6168667*(t=1*vc(t))-.4906146*(e=uc*vc(e))),_c(-.9787684*n+1.9161415*t+.033454*e),_c(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),de(Mc,kc,pe(ge,{brighter(t){return new Mc(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker(t){return new Mc(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb(){return $c(this).rgb()}}));var Ac=Tc(Je);Tc(tr);function Sc(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=Lc(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}function Ec(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function Nc(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=Lc(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}function Cc(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}function Lc(t,n){var e,r,i=typeof n;return null==n||"boolean"===i?Ge(n):("number"===i?ee:"string"===i?(e=Ce(n))?(n=e,nr):ar:n instanceof Ce?nr:n instanceof Date?Ec:(r=n,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(n)?Sc:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?Nc:ee:Cc))(t,n)}function Dc(t,n){void 0===n&&(n=t,t=Lc);for(var e=0,r=n.length-1,i=n[0],o=new Array(r<0?0:r);e<r;)o[e]=t(i,i=n[++e]);return function(t){var n=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[n](t-n)}}function zc(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}const Oc=Math.PI,Fc=2*Oc,jc=1e-6,Rc=Fc-jc;function Pc(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}class Uc{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?Pc:function(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return Pc;const e=10**n;return function(t){this._+=t[0];for(let n=1,r=t.length;n<r;++n)this._+=Math.round(arguments[n]*e)/e+t[n]}}(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,e,r){this._append`Q${+t},${+n},${this._x1=+e},${this._y1=+r}`}bezierCurveTo(t,n,e,r,i,o){this._append`C${+t},${+n},${+e},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,e,r,i){if(t=+t,n=+n,e=+e,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,c=e-t,s=r-n,f=o-t,u=a-n,l=f*f+u*u;if(null===this._x1)this._append`M${this._x1=t},${this._y1=n}`;else if(l>jc)if(Math.abs(u*c-s*f)>jc&&i){let h=e-o,d=r-a,p=c*c+s*s,g=h*h+d*d,y=Math.sqrt(p),b=Math.sqrt(l),m=i*Math.tan((Oc-Math.acos((p+l-g)/(2*y*b)))/2),v=m/b,_=m/y;Math.abs(v-1)>jc&&this._append`L${t+v*f},${n+v*u}`,this._append`A${i},${i},0,0,${+(u*h>f*d)},${this._x1=t+_*c},${this._y1=n+_*s}`}else this._append`L${this._x1=t},${this._y1=n}`;else;}arc(t,n,e,r,i,o){if(t=+t,n=+n,o=!!o,(e=+e)<0)throw new Error(`negative radius: ${e}`);let a=e*Math.cos(r),c=e*Math.sin(r),s=t+a,f=n+c,u=1^o,l=o?r-i:i-r;null===this._x1?this._append`M${s},${f}`:(Math.abs(this._x1-s)>jc||Math.abs(this._y1-f)>jc)&&this._append`L${s},${f}`,e&&(l<0&&(l=l%Fc+Fc),l>Rc?this._append`A${e},${e},0,1,${u},${t-a},${n-c}A${e},${e},0,1,${u},${this._x1=s},${this._y1=f}`:l>jc&&this._append`A${e},${e},0,${+(l>=Oc)},${u},${this._x1=t+e*Math.cos(i)},${this._y1=n+e*Math.sin(i)}`)}rect(t,n,e,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${e=+e}v${+r}h${-e}Z`}toString(){return this._}}function Ic(t=3){return new Uc(+t)}function qc(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function Bc(t,n){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof n?this.interpolator(n):this.range(n)}return this}const Wc=Symbol("implicit");function Hc(){var t=new b,n=[],e=[],r=Wc;function i(i){let o=t.get(i);if(void 0===o){if(r!==Wc)return r;t.set(i,o=n.push(i)-1)}return e[o%e.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new b;for(const r of e)t.has(r)||t.set(r,n.push(r)-1);return i},i.range=function(t){return arguments.length?(e=Array.from(t),i):e.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Hc(n,e).unknown(r)},qc.apply(i,arguments),i}function Yc(){var t,n,e=Hc().unknown(void 0),r=e.domain,i=e.range,o=0,a=1,c=!1,s=0,f=0,u=.5;function l(){var e=r().length,l=a<o,h=l?a:o,d=l?o:a;t=(d-h)/Math.max(1,e-s+2*f),c&&(t=Math.floor(t)),h+=(d-h-t*(e-s))*u,n=t*(1-s),c&&(h=Math.round(h),n=Math.round(n));var p=V(e).map(function(n){return h+t*n});return i(l?p.reverse():p)}return delete e.unknown,e.domain=function(t){return arguments.length?(r(t),l()):r()},e.range=function(t){return arguments.length?([o,a]=t,o=+o,a=+a,l()):[o,a]},e.rangeRound=function(t){return[o,a]=t,o=+o,a=+a,c=!0,l()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(c=!!t,l()):c},e.padding=function(t){return arguments.length?(s=Math.min(1,f=+t),l()):s},e.paddingInner=function(t){return arguments.length?(s=Math.min(1,t),l()):s},e.paddingOuter=function(t){return arguments.length?(f=+t,l()):f},e.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),l()):u},e.copy=function(){return Yc(r(),[o,a]).round(c).paddingInner(s).paddingOuter(f).align(u)},qc.apply(l(),arguments)}function Vc(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Vc(n())},t}function Xc(){return Vc(Yc.apply(null,arguments).paddingInner(1))}function Zc(t){return+t}var Gc=[0,1];function Qc(t){return t}function Jc(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function Kc(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=Jc(i,r),o=e(a,o)):(r=Jc(r,i),o=e(o,a)),function(t){return o(r(t))}}function ts(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=Jc(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=u(t,n,1,r)-1;return o[e](i[e](n))}}function ns(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function es(){var t,n,e,r,i,o,a=Gc,c=Gc,s=Lc,f=Qc;function u(){var t=Math.min(a.length,c.length);return f!==Qc&&(f=function(t,n){var e;return t>n&&(e=t,t=n,n=e),function(e){return Math.max(t,Math.min(n,e))}}(a[0],a[t-1])),r=t>2?ts:Kc,i=o=null,l}function l(n){return null==n||isNaN(n=+n)?e:(i||(i=r(a.map(t),c,s)))(t(f(n)))}return l.invert=function(e){return f(n((o||(o=r(c,a.map(t),ee)))(e)))},l.domain=function(t){return arguments.length?(a=Array.from(t,Zc),u()):a.slice()},l.range=function(t){return arguments.length?(c=Array.from(t),u()):c.slice()},l.rangeRound=function(t){return c=Array.from(t),s=ic,u()},l.clamp=function(t){return arguments.length?(f=!!t||Qc,u()):f!==Qc},l.interpolate=function(t){return arguments.length?(s=t,u()):s},l.unknown=function(t){return arguments.length?(e=t,l):e},function(e,r){return t=e,n=r,u()}}function rs(){return es()(Qc,Qc)}function is(t,n,e,r){var i,o=nt(t,n,e);switch((r=Rr(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Or(n)/3)))-Or(Math.abs(t)))}(o,a))||(r.precision=i),Hr(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Or(n)-Or(t))+1}(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Or(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Wr(r)}function os(t){var n=t.domain;return t.ticks=function(t){var e=n();return K(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return is(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i,o=n(),a=0,c=o.length-1,s=o[a],f=o[c],u=10;for(f<s&&(i=s,s=f,f=i,i=a,a=c,c=i);u-- >0;){if((i=tt(s,f,e))===r)return o[a]=s,o[c]=f,n(o);if(i>0)s=Math.floor(s/i)*i,f=Math.ceil(f/i)*i;else{if(!(i<0))break;s=Math.ceil(s*i)/i,f=Math.floor(f*i)/i}r=i}return t},t}function as(){var t=rs();return t.copy=function(){return ns(t,as())},qc.apply(t,arguments),os(t)}function cs(t){var n;function e(t){return null==t||isNaN(t=+t)?n:t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=Array.from(n,Zc),e):t.slice()},e.unknown=function(t){return arguments.length?(n=t,e):n},e.copy=function(){return cs(t).unknown(n)},t=arguments.length?Array.from(t,Zc):[0,1],os(e)}function ss(t,n){var e,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(e=r,r=i,i=e,e=o,o=a,a=e),t[r]=n.floor(o),t[i]=n.ceil(a),t}function fs(t){return Math.log(t)}function us(t){return Math.exp(t)}function ls(t){return-Math.log(-t)}function hs(t){return-Math.exp(-t)}function ds(t){return isFinite(t)?+("1e"+t):t<0?0:t}function ps(t){return(n,e)=>-t(-n,e)}function gs(t){const n=t(fs,us),e=n.domain;let r,i,o=10;function a(){return r=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),n=>Math.log(n)/t)}(o),i=function(t){return 10===t?ds:t===Math.E?Math.exp:n=>Math.pow(t,n)}(o),e()[0]<0?(r=ps(r),i=ps(i),t(ls,hs)):t(fs,us),n}return n.base=function(t){return arguments.length?(o=+t,a()):o},n.domain=function(t){return arguments.length?(e(t),a()):e()},n.ticks=t=>{const n=e();let a=n[0],c=n[n.length-1];const s=c<a;s&&([a,c]=[c,a]);let f,u,l=r(a),h=r(c);const d=null==t?10:+t;let p=[];if(!(o%1)&&h-l<d){if(l=Math.floor(l),h=Math.ceil(h),a>0){for(;l<=h;++l)for(f=1;f<o;++f)if(u=l<0?f/i(-l):f*i(l),!(u<a)){if(u>c)break;p.push(u)}}else for(;l<=h;++l)for(f=o-1;f>=1;--f)if(u=l>0?f/i(-l):f*i(l),!(u<a)){if(u>c)break;p.push(u)}2*p.length<d&&(p=K(a,c,d))}else p=K(l,h,Math.min(h-l,d)).map(i);return s?p.reverse():p},n.tickFormat=(t,e)=>{if(null==t&&(t=10),null==e&&(e=10===o?"s":","),"function"!=typeof e&&(o%1||null!=(e=Rr(e)).precision||(e.trim=!0),e=Wr(e)),t===1/0)return e;const a=Math.max(1,o*t/n.ticks().length);return t=>{let n=t/i(Math.round(r(t)));return n*o<o-.5&&(n*=o),n<=a?e(t):""}},n.nice=()=>e(ss(e(),{floor:t=>i(Math.floor(r(t))),ceil:t=>i(Math.ceil(r(t)))})),n}function ys(){const t=gs(es()).domain([1,10]);return t.copy=()=>ns(t,ys()).base(t.base()),qc.apply(t,arguments),t}function bs(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function ms(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function vs(t){var n=1,e=t(bs(n),ms(n));return e.constant=function(e){return arguments.length?t(bs(n=+e),ms(n)):n},os(e)}function _s(){var t=vs(es());return t.copy=function(){return ns(t,_s()).constant(t.constant())},qc.apply(t,arguments)}function xs(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function ws(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ks(t){return t<0?-t*t:t*t}function Ms(t){var n=t(Qc,Qc),e=1;return n.exponent=function(n){return arguments.length?1===(e=+n)?t(Qc,Qc):.5===e?t(ws,ks):t(xs(e),xs(1/e)):e},os(n)}function $s(){var t=Ms(es());return t.copy=function(){return ns(t,$s()).exponent(t.exponent())},qc.apply(t,arguments),t}function Ts(){var t,n=[],e=[],i=[];function o(){var t=0,r=Math.max(1,e.length);for(i=new Array(r-1);++t<r;)i[t-1]=j(n,t/r);return a}function a(n){return null==n||isNaN(n=+n)?t:e[u(i,n)]}return a.invertExtent=function(t){var r=e.indexOf(t);return r<0?[NaN,NaN]:[r>0?i[r-1]:n[0],r<i.length?i[r]:n[n.length-1]]},a.domain=function(t){if(!arguments.length)return n.slice();n=[];for(let e of t)null==e||isNaN(e=+e)||n.push(e);return n.sort(r),o()},a.range=function(t){return arguments.length?(e=Array.from(t),o()):e.slice()},a.unknown=function(n){return arguments.length?(t=n,a):t},a.quantiles=function(){return i.slice()},a.copy=function(){return Ts().domain(n).range(e).unknown(t)},qc.apply(a,arguments)}function As(){var t,n=[.5],e=[0,1],r=1;function i(i){return null!=i&&i<=i?e[u(n,i,0,r)]:t}return i.domain=function(t){return arguments.length?(n=Array.from(t),r=Math.min(n.length,e.length-1),i):n.slice()},i.range=function(t){return arguments.length?(e=Array.from(t),r=Math.min(n.length,e.length-1),i):e.slice()},i.invertExtent=function(t){var r=e.indexOf(t);return[n[r-1],n[r]]},i.unknown=function(n){return arguments.length?(t=n,i):t},i.copy=function(){return As().domain(n).range(e).unknown(t)},qc.apply(i,arguments)}const Ss=1e3,Es=6e4,Ns=36e5,Cs=864e5,Ls=6048e5,Ds=2592e6,zs=31536e6,Os=new Date,Fs=new Date;function js(t,n,e,r){function i(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return i.floor=n=>(t(n=new Date(+n)),n),i.ceil=e=>(t(e=new Date(e-1)),n(e,1),t(e),e),i.round=t=>{const n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=(t,e)=>(n(t=new Date(+t),null==e?1:Math.floor(e)),t),i.range=(e,r,o)=>{const a=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return a;let c;do{a.push(c=new Date(+e)),n(e,o),t(e)}while(c<e&&e<r);return a},i.filter=e=>js(n=>{if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)},(t,r)=>{if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););}),e&&(i.count=(n,r)=>(Os.setTime(+n),Fs.setTime(+r),t(Os),t(Fs),Math.floor(e(Os,Fs))),i.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?n=>r(n)%t===0:n=>i.count(0,n)%t===0):i:null)),i}const Rs=js(()=>{},(t,n)=>{t.setTime(+t+n)},(t,n)=>n-t);Rs.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?js(n=>{n.setTime(Math.floor(n/t)*t)},(n,e)=>{n.setTime(+n+e*t)},(n,e)=>(e-n)/t):Rs:null);Rs.range;const Ps=js(t=>{t.setTime(t-t.getMilliseconds())},(t,n)=>{t.setTime(+t+n*Ss)},(t,n)=>(n-t)/Ss,t=>t.getUTCSeconds()),Us=(Ps.range,js(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ss)},(t,n)=>{t.setTime(+t+n*Es)},(t,n)=>(n-t)/Es,t=>t.getMinutes())),Is=(Us.range,js(t=>{t.setUTCSeconds(0,0)},(t,n)=>{t.setTime(+t+n*Es)},(t,n)=>(n-t)/Es,t=>t.getUTCMinutes())),qs=(Is.range,js(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ss-t.getMinutes()*Es)},(t,n)=>{t.setTime(+t+n*Ns)},(t,n)=>(n-t)/Ns,t=>t.getHours())),Bs=(qs.range,js(t=>{t.setUTCMinutes(0,0,0)},(t,n)=>{t.setTime(+t+n*Ns)},(t,n)=>(n-t)/Ns,t=>t.getUTCHours())),Ws=(Bs.range,js(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Es)/Cs,t=>t.getDate()-1)),Hs=(Ws.range,js(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/Cs,t=>t.getUTCDate()-1)),Ys=(Hs.range,js(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/Cs,t=>Math.floor(t/Cs)));Ys.range;function Vs(t){return js(n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+7*n)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Es)/Ls)}const Xs=Vs(0),Zs=Vs(1),Gs=Vs(2),Qs=Vs(3),Js=Vs(4),Ks=Vs(5),tf=Vs(6);Xs.range,Zs.range,Gs.range,Qs.range,Js.range,Ks.range,tf.range;function nf(t){return js(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+7*n)},(t,n)=>(n-t)/Ls)}const ef=nf(0),rf=nf(1),of=nf(2),af=nf(3),cf=nf(4),sf=nf(5),ff=nf(6),uf=(ef.range,rf.range,of.range,af.range,cf.range,sf.range,ff.range,js(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,n)=>{t.setMonth(t.getMonth()+n)},(t,n)=>n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear()),t=>t.getMonth())),lf=(uf.range,js(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCMonth(t.getUTCMonth()+n)},(t,n)=>n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear()),t=>t.getUTCMonth())),hf=(lf.range,js(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n)},(t,n)=>n.getFullYear()-t.getFullYear(),t=>t.getFullYear()));hf.every=t=>isFinite(t=Math.floor(t))&&t>0?js(n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e*t)}):null;hf.range;const df=js(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)},(t,n)=>n.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());df.every=t=>isFinite(t=Math.floor(t))&&t>0?js(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null;df.range;function pf(t,n,e,r,i,a){const c=[[Ps,1,Ss],[Ps,5,5e3],[Ps,15,15e3],[Ps,30,3e4],[a,1,Es],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,Ns],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Cs],[r,2,1728e5],[e,1,Ls],[n,1,Ds],[n,3,7776e6],[t,1,zs]];function s(n,e,r){const i=Math.abs(e-n)/r,a=o(([,,t])=>t).right(c,i);if(a===c.length)return t.every(nt(n/zs,e/zs,r));if(0===a)return Rs.every(Math.max(nt(n,e,r),1));const[s,f]=c[i/c[a-1][2]<c[a][2]/i?a-1:a];return s.every(f)}return[function(t,n,e){const r=n<t;r&&([t,n]=[n,t]);const i=e&&"function"==typeof e.range?e:s(t,n,e),o=i?i.range(t,+n+1):[];return r?o.reverse():o},s]}const[gf,yf]=pf(df,lf,ef,Ys,Bs,Is),[bf,mf]=pf(hf,uf,Xs,Ws,qs,Us);function vf(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function _f(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function xf(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}var wf,kf,Mf,$f={"-":"",_:" ",0:"0"},Tf=/^\s*\d+/,Af=/^%/,Sf=/[\\^$*+?|[\]().{}]/g;function Ef(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function Nf(t){return t.replace(Sf,"\\$&")}function Cf(t){return new RegExp("^(?:"+t.map(Nf).join("|")+")","i")}function Lf(t){return new Map(t.map((t,n)=>[t.toLowerCase(),n]))}function Df(t,n,e){var r=Tf.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function zf(t,n,e){var r=Tf.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Of(t,n,e){var r=Tf.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function Ff(t,n,e){var r=Tf.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function jf(t,n,e){var r=Tf.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Rf(t,n,e){var r=Tf.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Pf(t,n,e){var r=Tf.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Uf(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function If(t,n,e){var r=Tf.exec(n.slice(e,e+1));return r?(t.q=3*r[0]-3,e+r[0].length):-1}function qf(t,n,e){var r=Tf.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Bf(t,n,e){var r=Tf.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function Wf(t,n,e){var r=Tf.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function Hf(t,n,e){var r=Tf.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function Yf(t,n,e){var r=Tf.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function Vf(t,n,e){var r=Tf.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function Xf(t,n,e){var r=Tf.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function Zf(t,n,e){var r=Tf.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function Gf(t,n,e){var r=Af.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function Qf(t,n,e){var r=Tf.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function Jf(t,n,e){var r=Tf.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function Kf(t,n){return Ef(t.getDate(),n,2)}function tu(t,n){return Ef(t.getHours(),n,2)}function nu(t,n){return Ef(t.getHours()%12||12,n,2)}function eu(t,n){return Ef(1+Ws.count(hf(t),t),n,3)}function ru(t,n){return Ef(t.getMilliseconds(),n,3)}function iu(t,n){return ru(t,n)+"000"}function ou(t,n){return Ef(t.getMonth()+1,n,2)}function au(t,n){return Ef(t.getMinutes(),n,2)}function cu(t,n){return Ef(t.getSeconds(),n,2)}function su(t){var n=t.getDay();return 0===n?7:n}function fu(t,n){return Ef(Xs.count(hf(t)-1,t),n,2)}function uu(t){var n=t.getDay();return n>=4||0===n?Js(t):Js.ceil(t)}function lu(t,n){return t=uu(t),Ef(Js.count(hf(t),t)+(4===hf(t).getDay()),n,2)}function hu(t){return t.getDay()}function du(t,n){return Ef(Zs.count(hf(t)-1,t),n,2)}function pu(t,n){return Ef(t.getFullYear()%100,n,2)}function gu(t,n){return Ef((t=uu(t)).getFullYear()%100,n,2)}function yu(t,n){return Ef(t.getFullYear()%1e4,n,4)}function bu(t,n){var e=t.getDay();return Ef((t=e>=4||0===e?Js(t):Js.ceil(t)).getFullYear()%1e4,n,4)}function mu(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+Ef(n/60|0,"0",2)+Ef(n%60,"0",2)}function vu(t,n){return Ef(t.getUTCDate(),n,2)}function _u(t,n){return Ef(t.getUTCHours(),n,2)}function xu(t,n){return Ef(t.getUTCHours()%12||12,n,2)}function wu(t,n){return Ef(1+Hs.count(df(t),t),n,3)}function ku(t,n){return Ef(t.getUTCMilliseconds(),n,3)}function Mu(t,n){return ku(t,n)+"000"}function $u(t,n){return Ef(t.getUTCMonth()+1,n,2)}function Tu(t,n){return Ef(t.getUTCMinutes(),n,2)}function Au(t,n){return Ef(t.getUTCSeconds(),n,2)}function Su(t){var n=t.getUTCDay();return 0===n?7:n}function Eu(t,n){return Ef(ef.count(df(t)-1,t),n,2)}function Nu(t){var n=t.getUTCDay();return n>=4||0===n?cf(t):cf.ceil(t)}function Cu(t,n){return t=Nu(t),Ef(cf.count(df(t),t)+(4===df(t).getUTCDay()),n,2)}function Lu(t){return t.getUTCDay()}function Du(t,n){return Ef(rf.count(df(t)-1,t),n,2)}function zu(t,n){return Ef(t.getUTCFullYear()%100,n,2)}function Ou(t,n){return Ef((t=Nu(t)).getUTCFullYear()%100,n,2)}function Fu(t,n){return Ef(t.getUTCFullYear()%1e4,n,4)}function ju(t,n){var e=t.getUTCDay();return Ef((t=e>=4||0===e?cf(t):cf.ceil(t)).getUTCFullYear()%1e4,n,4)}function Ru(){return"+0000"}function Pu(){return"%"}function Uu(t){return+t}function Iu(t){return Math.floor(+t/1e3)}function qu(t){return new Date(t)}function Bu(t){return t instanceof Date?+t:+new Date(+t)}function Wu(t,n,e,r,i,o,a,c,s,f){var u=rs(),l=u.invert,h=u.domain,d=f(".%L"),p=f(":%S"),g=f("%I:%M"),y=f("%I %p"),b=f("%a %d"),m=f("%b %d"),v=f("%B"),_=f("%Y");function x(t){return(s(t)<t?d:c(t)<t?p:a(t)<t?g:o(t)<t?y:r(t)<t?i(t)<t?b:m:e(t)<t?v:_)(t)}return u.invert=function(t){return new Date(l(t))},u.domain=function(t){return arguments.length?h(Array.from(t,Bu)):h().map(qu)},u.ticks=function(n){var e=h();return t(e[0],e[e.length-1],null==n?10:n)},u.tickFormat=function(t,n){return null==n?x:f(n)},u.nice=function(t){var e=h();return t&&"function"==typeof t.range||(t=n(e[0],e[e.length-1],null==t?10:t)),t?h(ss(e,t)):u},u.copy=function(){return ns(u,Wu(t,n,e,r,i,o,a,c,s,f))},u}function Hu(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Yu(){var t,n,e,r,i,o,a,c=0,s=.5,f=1,u=1,l=Qc,h=!1;function d(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-n)*(u*t<u*n?r:i),l(h?Math.max(0,Math.min(1,t)):t))}function p(t){return function(n){var e,r,i;return arguments.length?([e,r,i]=n,l=Dc(t,[e,r,i]),d):[l(0),l(.5),l(1)]}}return d.domain=function(a){return arguments.length?([c,s,f]=a,t=o(c=+c),n=o(s=+s),e=o(f=+f),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),u=n<t?-1:1,d):[c,s,f]},d.clamp=function(t){return arguments.length?(h=!!t,d):h},d.interpolator=function(t){return arguments.length?(l=t,d):l},d.range=p(Lc),d.rangeRound=p(ic),d.unknown=function(t){return arguments.length?(a=t,d):a},function(a){return o=a,t=a(c),n=a(s),e=a(f),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),u=n<t?-1:1,d}}function Vu(){var t=os(Yu()(Qc));return t.copy=function(){return Hu(t,Vu())},Bc.apply(t,arguments)}function Xu(){var t=gs(Yu()).domain([.1,1,10]);return t.copy=function(){return Hu(t,Xu()).base(t.base())},Bc.apply(t,arguments)}function Zu(){var t=vs(Yu());return t.copy=function(){return Hu(t,Zu()).constant(t.constant())},Bc.apply(t,arguments)}function Gu(){var t=Ms(Yu());return t.copy=function(){return Hu(t,Gu()).exponent(t.exponent())},Bc.apply(t,arguments)}function Qu(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e}!function(t){wf=function(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,c=t.months,s=t.shortMonths,f=Cf(i),u=Lf(i),l=Cf(o),h=Lf(o),d=Cf(a),p=Lf(a),g=Cf(c),y=Lf(c),b=Cf(s),m=Lf(s),v={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return c[t.getMonth()]},c:null,d:Kf,e:Kf,f:iu,g:gu,G:bu,H:tu,I:nu,j:eu,L:ru,m:ou,M:au,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Uu,s:Iu,S:cu,u:su,U:fu,V:lu,w:hu,W:du,x:null,X:null,y:pu,Y:yu,Z:mu,"%":Pu},_={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return c[t.getUTCMonth()]},c:null,d:vu,e:vu,f:Mu,g:Ou,G:ju,H:_u,I:xu,j:wu,L:ku,m:$u,M:Tu,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Uu,s:Iu,S:Au,u:Su,U:Eu,V:Cu,w:Lu,W:Du,x:null,X:null,y:zu,Y:Fu,Z:Ru,"%":Pu},x={a:function(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=p.get(r[0].toLowerCase()),e+r[0].length):-1},A:function(t,n,e){var r=l.exec(n.slice(e));return r?(t.w=h.get(r[0].toLowerCase()),e+r[0].length):-1},b:function(t,n,e){var r=b.exec(n.slice(e));return r?(t.m=m.get(r[0].toLowerCase()),e+r[0].length):-1},B:function(t,n,e){var r=g.exec(n.slice(e));return r?(t.m=y.get(r[0].toLowerCase()),e+r[0].length):-1},c:function(t,e,r){return M(t,n,e,r)},d:Bf,e:Bf,f:Zf,g:Pf,G:Rf,H:Hf,I:Hf,j:Wf,L:Xf,m:qf,M:Yf,p:function(t,n,e){var r=f.exec(n.slice(e));return r?(t.p=u.get(r[0].toLowerCase()),e+r[0].length):-1},q:If,Q:Qf,s:Jf,S:Vf,u:zf,U:Of,V:Ff,w:Df,W:jf,x:function(t,n,r){return M(t,e,n,r)},X:function(t,n,e){return M(t,r,n,e)},y:Pf,Y:Rf,Z:Uf,"%":Gf};function w(t,n){return function(e){var r,i,o,a=[],c=-1,s=0,f=t.length;for(e instanceof Date||(e=new Date(+e));++c<f;)37===t.charCodeAt(c)&&(a.push(t.slice(s,c)),null!=(i=$f[r=t.charAt(++c)])?r=t.charAt(++c):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),a.push(r),s=c+1);return a.push(t.slice(s,c)),a.join("")}}function k(t,n){return function(e){var r,i,o=xf(1900,void 0,1);if(M(o,t,e+="",0)!=e.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(n&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=_f(xf(o.y,0,1))).getUTCDay(),r=i>4||0===i?rf.ceil(r):rf(r),r=Hs.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=vf(xf(o.y,0,1))).getDay(),r=i>4||0===i?Zs.ceil(r):Zs(r),r=Ws.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?_f(xf(o.y,0,1)).getUTCDay():vf(xf(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,_f(o)):vf(o)}}function M(t,n,e,r){for(var i,o,a=0,c=n.length,s=e.length;a<c;){if(r>=s)return-1;if(37===(i=n.charCodeAt(a++))){if(i=n.charAt(a++),!(o=x[i in $f?n.charAt(a++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return v.x=w(e,v),v.X=w(r,v),v.c=w(n,v),_.x=w(e,_),_.X=w(r,_),_.c=w(n,_),{format:function(t){var n=w(t+="",v);return n.toString=function(){return t},n},parse:function(t){var n=k(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=w(t+="",_);return n.toString=function(){return t},n},utcParse:function(t){var n=k(t+="",!0);return n.toString=function(){return t},n}}}(t),kf=wf.format,wf.parse,Mf=wf.utcFormat,wf.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Ju=Qu("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Ku=Qu("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),tl=Qu("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),nl=Qu("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),el=Qu("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),rl=Qu("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),il=Qu("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),ol=Qu("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),al=Qu("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),cl=Qu("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),sl=Qu("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),fl=t=>rr(t[t.length-1]),ul=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Qu),ll=fl(ul),hl=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Qu),dl=fl(hl),pl=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Qu),gl=fl(pl),yl=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Qu),bl=fl(yl),ml=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Qu),vl=fl(ml),_l=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Qu),xl=fl(_l),wl=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Qu),kl=fl(wl),Ml=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Qu),$l=fl(Ml),Tl=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Qu),Al=fl(Tl),Sl=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Qu),El=fl(Sl),Nl=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Qu),Cl=fl(Nl),Ll=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Qu),Dl=fl(Ll),zl=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Qu),Ol=fl(zl),Fl=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Qu),jl=fl(Fl),Rl=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Qu),Pl=fl(Rl),Ul=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Qu),Il=fl(Ul),ql=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Qu),Bl=fl(ql),Wl=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Qu),Hl=fl(Wl),Yl=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Qu),Vl=fl(Yl),Xl=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Qu),Zl=fl(Xl),Gl=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Qu),Ql=fl(Gl),Jl=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Qu),Kl=fl(Jl),th=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Qu),nh=fl(th),eh=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Qu),rh=fl(eh),ih=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Qu),oh=fl(ih),ah=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Qu),ch=fl(ah),sh=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Qu),fh=fl(sh);function uh(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}var lh=-.14861,hh=1.78277,dh=-.29227,ph=-.90649,gh=1.97294,yh=gh*ph,bh=gh*hh,mh=hh*dh-ph*lh;function vh(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof _h)return new _h(t.h,t.s,t.l,t.opacity);t instanceof Fe||(t=ze(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(mh*r+yh*n-bh*e)/(mh+yh-bh),o=r-i,a=(gh*(e-i)-dh*o)/ph,c=Math.sqrt(a*a+o*o)/(gh*i*(1-i)),s=c?Math.atan2(a,o)*sc-120:NaN;return new _h(s<0?s+360:s,c,i,t.opacity)}(t):new _h(t,n,e,null==r?1:r)}function _h(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function xh(t){return function n(e){function r(n,r){var i=t((n=vh(n)).h,(r=vh(r)).h),o=tr(n.s,r.s),a=tr(n.l,r.l),c=tr(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=a(Math.pow(t,e)),n.opacity=c(t),n+""}}return e=+e,r.gamma=n,r}(1)}de(_h,vh,pe(ge,{brighter(t){return t=null==t?be:Math.pow(be,t),new _h(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?ye:Math.pow(ye,t),new _h(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*cc,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new Fe(255*(n+e*(lh*r+hh*i)),255*(n+e*(dh*r+ph*i)),255*(n+e*(gh*r)),this.opacity)}}));xh(Je);var wh=xh(tr),kh=wh(vh(300,.5,0),vh(-240,.5,1)),Mh=wh(vh(-100,.75,.35),vh(80,1.5,.8)),$h=wh(vh(260,.75,.35),vh(80,1.5,.8)),Th=vh();function Ah(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return Th.h=360*t-100,Th.s=1.5-1.5*n,Th.l=.8-.9*n,Th+""}var Sh=Oe(),Eh=Math.PI/3,Nh=2*Math.PI/3;function Ch(t){var n;return t=(.5-t)*Math.PI,Sh.r=255*(n=Math.sin(t))*n,Sh.g=255*(n=Math.sin(t+Eh))*n,Sh.b=255*(n=Math.sin(t+Nh))*n,Sh+""}function Lh(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function Dh(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}var zh=Dh(Qu("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Oh=Dh(Qu("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Fh=Dh(Qu("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),jh=Dh(Qu("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Rh(t){return"string"==typeof t?new kn([[document.querySelector(t)]],[document.documentElement]):new kn([[t]],wn)}Array.prototype.slice;function Ph(t){return function(){return t}}function Uh(t){this._context=t}function Ih(t){return new Uh(t)}function qh(t){return t[0]}function Bh(t){return t[1]}function Wh(t,n){var e=Ph(!0),r=null,i=Ih,o=null,a=function(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(null==e)n=null;else{const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);n=t}return t},()=>new Uc(n)}(c);function c(c){var s,f,u,l=(c=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(c)).length,h=!1;for(null==r&&(o=i(u=a())),s=0;s<=l;++s)!(s<l&&e(f=c[s],s,c))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,s,c),+n(f,s,c));if(u)return o=null,u+""||null}return t="function"==typeof t?t:void 0===t?qh:Ph(t),n="function"==typeof n?n:void 0===n?Bh:Ph(n),c.x=function(n){return arguments.length?(t="function"==typeof n?n:Ph(+n),c):t},c.y=function(t){return arguments.length?(n="function"==typeof t?t:Ph(+t),c):n},c.defined=function(t){return arguments.length?(e="function"==typeof t?t:Ph(!!t),c):e},c.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),c):i},c.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),c):r},c}Uh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};Math.abs,Math.atan2;const Hh=Math.cos,Yh=(Math.max,Math.min),Vh=Math.sin,Xh=Math.sqrt,Zh=Math.PI,Gh=2*Zh;const Qh=Xh(3);var Jh={draw(t,n){const e=.59436*Xh(n+Yh(n/28,.75)),r=e/2,i=r*Qh;t.moveTo(0,e),t.lineTo(0,-e),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},Kh={draw(t,n){const e=Xh(n/Zh);t.moveTo(e,0),t.arc(0,0,e,0,Gh)}},td={draw(t,n){const e=Xh(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}};const nd=Xh(1/3),ed=2*nd;var rd={draw(t,n){const e=Xh(n/ed),r=e*nd;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},id={draw(t,n){const e=.62625*Xh(n);t.moveTo(0,-e),t.lineTo(e,0),t.lineTo(0,e),t.lineTo(-e,0),t.closePath()}},od={draw(t,n){const e=.87559*Xh(n-Yh(n/7,2));t.moveTo(-e,0),t.lineTo(e,0),t.moveTo(0,e),t.lineTo(0,-e)}},ad={draw(t,n){const e=Xh(n),r=-e/2;t.rect(r,r,e,e)}},cd={draw(t,n){const e=.4431*Xh(n);t.moveTo(e,e),t.lineTo(e,-e),t.lineTo(-e,-e),t.lineTo(-e,e),t.closePath()}};const sd=Vh(Zh/10)/Vh(7*Zh/10),fd=Vh(Gh/10)*sd,ud=-Hh(Gh/10)*sd;var ld={draw(t,n){const e=Xh(.8908130915292852*n),r=fd*e,i=ud*e;t.moveTo(0,-e),t.lineTo(r,i);for(let o=1;o<5;++o){const n=Gh*o/5,a=Hh(n),c=Vh(n);t.lineTo(c*e,-a*e),t.lineTo(a*r-c*i,c*r+a*i)}t.closePath()}};const hd=Xh(3);var dd={draw(t,n){const e=-Xh(n/(3*hd));t.moveTo(0,2*e),t.lineTo(-hd*e,-e),t.lineTo(hd*e,-e),t.closePath()}};const pd=Xh(3);var gd={draw(t,n){const e=.6824*Xh(n),r=e/2,i=e*pd/2;t.moveTo(0,-e),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}};const yd=-.5,bd=Xh(3)/2,md=1/Xh(12),vd=3*(md/2+1);var _d={draw(t,n){const e=Xh(n/vd),r=e/2,i=e*md,o=r,a=e*md+e,c=-o,s=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(c,s),t.lineTo(yd*r-bd*i,bd*r+yd*i),t.lineTo(yd*o-bd*a,bd*o+yd*a),t.lineTo(yd*c-bd*s,bd*c+yd*s),t.lineTo(yd*r+bd*i,yd*i-bd*r),t.lineTo(yd*o+bd*a,yd*a-bd*o),t.lineTo(yd*c+bd*s,yd*s-bd*c),t.closePath()}},xd={draw(t,n){const e=.6189*Xh(n-Yh(n/6,1.7));t.moveTo(-e,-e),t.lineTo(e,e),t.moveTo(-e,e),t.lineTo(e,-e)}};const wd=[Kh,td,rd,ad,ld,dd,_d],kd=[Kh,od,xd,gd,Jh,cd,id];function Md(){}function $d(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function Td(t){this._context=t}function Ad(t){this._context=t}function Sd(t){this._context=t}Td.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$d(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$d(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},Ad.prototype={areaStart:Md,areaEnd:Md,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:$d(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},Sd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:$d(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};class Ed{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n)}this._x0=t,this._y0=n}}function Nd(t,n){this._basis=new Td(t),this._beta=n}Nd.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r,i=t[0],o=n[0],a=t[e]-i,c=n[e]-o,s=-1;++s<=e;)r=s/e,this._basis.point(this._beta*t[s]+(1-this._beta)*(i+r*a),this._beta*n[s]+(1-this._beta)*(o+r*c));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var Cd=function t(n){function e(t){return 1===n?new Td(t):new Nd(t,n)}return e.beta=function(n){return t(+n)},e}(.85);function Ld(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function Dd(t,n){this._context=t,this._k=(1-n)/6}Dd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ld(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:Ld(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var zd=function t(n){function e(t){return new Dd(t,n)}return e.tension=function(n){return t(+n)},e}(0);function Od(t,n){this._context=t,this._k=(1-n)/6}Od.prototype={areaStart:Md,areaEnd:Md,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Ld(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Fd=function t(n){function e(t){return new Od(t,n)}return e.tension=function(n){return t(+n)},e}(0);function jd(t,n){this._context=t,this._k=(1-n)/6}jd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ld(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Rd=function t(n){function e(t){return new jd(t,n)}return e.tension=function(n){return t(+n)},e}(0);function Pd(t,n,e){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>1e-12){var c=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,s=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*c-t._x0*t._l12_2a+t._x2*t._l01_2a)/s,i=(i*c-t._y0*t._l12_2a+t._y2*t._l01_2a)/s}if(t._l23_a>1e-12){var f=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*f+t._x1*t._l23_2a-n*t._l12_2a)/u,a=(a*f+t._y1*t._l23_2a-e*t._l12_2a)/u}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function Ud(t,n){this._context=t,this._alpha=n}Ud.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:Pd(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Id=function t(n){function e(t){return n?new Ud(t,n):new Dd(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function qd(t,n){this._context=t,this._alpha=n}qd.prototype={areaStart:Md,areaEnd:Md,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Pd(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Bd=function t(n){function e(t){return n?new qd(t,n):new Od(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function Wd(t,n){this._context=t,this._alpha=n}Wd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Pd(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Hd=function t(n){function e(t){return n?new Wd(t,n):new jd(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function Yd(t){this._context=t}function Vd(t){return t<0?-1:1}function Xd(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(e-t._y1)/(i||r<0&&-0),c=(o*i+a*r)/(r+i);return(Vd(o)+Vd(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(c))||0}function Zd(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function Gd(t,n,e){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,c=(o-r)/3;t._context.bezierCurveTo(r+c,i+c*n,o-c,a-c*e,o,a)}function Qd(t){this._context=t}function Jd(t){this._context=new Kd(t)}function Kd(t){this._context=t}function tp(t){this._context=t}function np(t){var n,e,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],n=1;n<r-1;++n)i[n]=1,o[n]=4,a[n]=4*t[n]+2*t[n+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)e=i[n]/o[n-1],o[n]-=e,a[n]-=e*a[n-1];for(i[r-1]=a[r-1]/o[r-1],n=r-2;n>=0;--n)i[n]=(a[n]-i[n+1])/o[n];for(o[r-1]=(t[r]+i[r-1])/2,n=0;n<r-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}function ep(t,n){this._context=t,this._t=n}function rp(t,n,e){this.k=t,this.x=n,this.y=e}Yd.prototype={areaStart:Md,areaEnd:Md,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}},Qd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Gd(this,this._t0,Zd(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,Gd(this,Zd(this,e=Xd(this,t,n)),e);break;default:Gd(this,this._t0,e=Xd(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(Jd.prototype=Object.create(Qd.prototype)).point=function(t,n){Qd.prototype.point.call(this,n,t)},Kd.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}},tp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var r=np(t),i=np(n),o=0,a=1;a<e;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],n[a]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}},ep.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}},rp.prototype={constructor:rp,scale:function(t){return 1===t?this:new rp(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new rp(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new rp(1,0,0);function ip(t){return null!=t&&!Number.isNaN(t)}function op(t,n){return+ip(n)-+ip(t)||r(t,n)}function ap(t,n){return+ip(n)-+ip(t)||i(t,n)}function cp(t){return null!=t&&""!=`${t}`}function sp(t){return isFinite(t)?t:NaN}function fp(t){return t>0&&isFinite(t)?t:NaN}function up(t){return t<0&&isFinite(t)?t:NaN}rp.prototype;const lp=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function hp(t,n){return lp.test(t+="")?new Date(t):"function"==typeof n?n(t):n}function dp(t){if(null==t)return;return i(t[0],t[t.length-1])}const pp=1e3,gp=6e4,yp=36e5,bp=864e5,mp=7*bp,vp=30*bp,_p=365*bp,xp=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",pp],["5 seconds",5e3],["15 seconds",15e3],["30 seconds",3e4],["minute",gp],["5 minutes",3e5],["15 minutes",9e5],["30 minutes",18e5],["hour",yp],["3 hours",108e5],["6 hours",216e5],["12 hours",432e5],["day",bp],["2 days",2*bp],["week",mp],["2 weeks",2*mp],["month",vp],["3 months",3*vp],["6 months",6*vp],["year",_p],["2 years",2*_p],["5 years",5*_p],["10 years",10*_p],["20 years",20*_p],["50 years",50*_p],["100 years",100*_p]],wp=new Map([["second",pp],["minute",gp],["hour",yp],["day",bp],["monday",mp],["tuesday",mp],["wednesday",mp],["thursday",mp],["friday",mp],["saturday",mp],["sunday",mp],["week",mp],["month",vp],["year",_p]]),kp=new Map([["second",Ps],["minute",Us],["hour",qs],["day",Ws],["monday",Zs],["tuesday",Gs],["wednesday",Qs],["thursday",Js],["friday",Ks],["saturday",tf],["sunday",Xs],["week",Xs],["month",uf],["year",hf]]),Mp=new Map([["second",Ps],["minute",Is],["hour",Bs],["day",Ys],["monday",rf],["tuesday",of],["wednesday",af],["thursday",cf],["friday",sf],["saturday",ff],["sunday",ef],["week",ef],["month",lf],["year",df]]),$p=Symbol("intervalDuration"),Tp=Symbol("intervalType");for(const[it,Mw]of kp)Mw[$p]=wp.get(it),Mw[Tp]="time";for(const[it,Mw]of Mp)Mw[$p]=wp.get(it),Mw[Tp]="utc";const Ap=[["year",df,"utc"],["month",lf,"utc"],["day",Ys,"utc",6*vp],["hour",Bs,"utc",3*bp],["minute",Is,"utc",216e5],["second",Ps,"utc",18e5]],Sp=[["year",hf,"time"],["month",uf,"time"],["day",Ws,"time",6*vp],["hour",qs,"time",3*bp],["minute",Us,"time",216e5],["second",Ps,"time",18e5]],Ep=[Ap[0],Sp[0],Ap[1],Sp[1],Ap[2],Sp[2],...Ap.slice(3)];function Np(t){let n=`${t}`.toLowerCase();n.endsWith("s")&&(n=n.slice(0,-1));let e=1;const r=/^(?:(\d+)\s+)/.exec(n);switch(r&&(n=n.slice(r[0].length),e=+r[1]),n){case"quarter":n="month",e*=3;break;case"half":n="month",e*=6}let i=Mp.get(n);if(!i)throw new Error(`unknown interval: ${t}`);if(e>1&&!i.every)throw new Error(`non-periodic interval: ${n}`);return[n,e]}function Cp(t){return Dp(Np(t),"time")}function Lp(t){return Dp(Np(t),"utc")}function Dp([t,n],e){let r=("time"===e?kp:Mp).get(t);return n>1&&(r=r.every(n),r[$p]=wp.get(t)*n,r[Tp]=e),r}function zp(t,n){if(!(n>1))return;const e=t[$p];if(!xp.some(([,t])=>t===e))return;if(e%bp===0&&bp<e&&e<vp)return;const[r]=xp[o(([,t])=>Math.log(t)).center(xp,Math.log(e*n))];return("time"===t[Tp]?Cp:Lp)(r)}function Op(t,n,e){const r="time"===n?kf:Mf;if(null==e)return r("year"===t?"%Y":"month"===t?"%Y-%m":"day"===t?"%Y-%m-%d":"hour"===t||"minute"===t?"%Y-%m-%dT%H:%M":"second"===t?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=function(t){return"left"===t||"right"===t?(t,n)=>`\n${t}\n${n}`:"top"===t?(t,n)=>`${n}\n${t}`:(t,n)=>`${t}\n${n}`}(e);switch(t){case"millisecond":return jp(r(".%L"),r(":%M:%S"),i);case"second":return jp(r(":%S"),r("%-I:%M"),i);case"minute":return jp(r("%-I:%M"),r("%p"),i);case"hour":return jp(r("%-I %p"),r("%b %-d"),i);case"day":return jp(r("%-d"),r("%b"),i);case"month":return jp(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function Fp(t,n,e){const r=E(function(t,n=Y){const e=[];let r,i=!1;for(const o of t)i&&e.push(n(r,o)),r=o,i=!0;return e}(n,(t,n)=>Math.abs(n-t)));if(r<1e3)return Op("millisecond","utc",e);for(const[i,o,a,c]of function(t){return"time"===t?Sp:"utc"===t?Ap:Ep}(t)){if(r>c)break;if("hour"===i&&!r)break;if(n.every(t=>o.floor(t)>=t))return Op(i,a,e)}}function jp(t,n,e){return(r,i,o)=>{const a=t(r,i),c=n(r,i),s=i-dp(o);return i!==s&&void 0!==o[s]&&c===n(o[s],s)?a:e(a,c)}}const Rp=Object.getPrototypeOf(Uint8Array),Pp=Object.prototype.toString,Up=Symbol("reindex");function Ip(t,n,e){const r=typeof n;return"string"===r?qp(t,Hp(n),e):"function"===r?qp(t,n,e):"number"===r||n instanceof Date||"boolean"===r?fg(t,Kp(n),e):"function"==typeof n?.transform?Bp(n.transform(t),e):function(t,n){return null!=t&&n?mg(t,n):t}(Bp(n,e),t?.[Up])}function qp(t,n,e){return fg(t,e?.prototype instanceof Rp?function(t){return(n,e)=>ng(t(n,e))}(n):n,e)}function Bp(t,n){return void 0===n?sg(t):t instanceof n?t:n.prototype instanceof Rp&&!(t instanceof Rp)?n.from(t,ng):n.from(t)}const Wp=[null],Hp=t=>n=>n[t],Yp={transform:bg},Vp={transform:t=>t},Xp=()=>!0,Zp=t=>null==t?t:`${t}`,Gp=t=>null==t?t:+t,Qp=t=>t?t[0]:void 0,Jp=t=>t?t[1]:void 0,Kp=t=>()=>t;function tg(t){return t instanceof Rp?t:fg(t,ng,Float64Array)}function ng(t){return null==t?NaN:Number(t)}function eg(t){return fg(t,rg)}function rg(t){return t instanceof Date&&!isNaN(t)?t:"string"==typeof t?hp(t):null==t||isNaN(t=+t)?void 0:new Date(t)}function ig(t,n){return void 0===t&&(t=n),null===t?[void 0,"none"]:Rg(t)?[void 0,t]:[t,void 0]}function og(t,n){return void 0===t&&(t=n),null===t||"number"==typeof t?[void 0,t]:[t,void 0]}function ag(t,n,e){if(null!=t)return cg(t,n,e)}function cg(t,n,e){const r=`${t}`.toLowerCase();if(!e.includes(r))throw new Error(`invalid ${n}: ${t}`);return r}function sg(t){return null==t||t instanceof Array||t instanceof Rp?t:Array.from(t)}function fg(t,n,e=Array){return null==t?t:t instanceof e?t.map(n):e.from(t,n)}function ug(t,n=Array){return t instanceof n?t.slice():n.from(t)}function lg(t){return t?.toString===Pp}function hg(t){return lg(t)&&(void 0!==t.type||void 0!==t.domain)}function dg(t){return lg(t)&&"function"!=typeof t.transform}function pg(t){return dg(t)&&void 0===t.value&&void 0===t.channel}function gg(t,n){return void 0===t&&void 0===n?[Qp,Jp]:[t,n]}function yg({z:t,fill:n,stroke:e}={}){return void 0===t&&([t]=ig(n)),void 0===t&&([t]=ig(e)),t}function bg(t){const n=t.length,e=new Uint32Array(n);for(let r=0;r<n;++r)e[r]=r;return e}function mg(t,n){return fg(n,n=>t[n],t.constructor)}function vg(t,n,e){return t.subarray?t.subarray(n,e):t.slice(n,e)}function _g(t){return null!==t&&"object"==typeof t?t.valueOf():t}function xg(t){let n;return[{transform:()=>n,label:kg(t)},t=>n=t]}function wg(t){return null==t?[t]:xg(t)}function kg(t,n){return"string"==typeof t?t:t&&void 0!==t.label?t.label:n}function Mg(t,n){return{transform(e){const r=t.transform(e),i=n.transform(e);return Dg(r)||Dg(i)?fg(r,(t,n)=>new Date((+r[n]+ +i[n])/2)):fg(r,(t,n)=>(+r[n]+ +i[n])/2,Float64Array)},label:t.label}}function $g(t,n){const e=Tg(t,n);return e&&(t=>ip(t)?e.floor(t):t)}function Tg(t,n){if(null!=t){if("number"==typeof t)return function(t){t=+t,0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const n=Math.abs(t);return t<0?{floor:t=>Math.floor(t*n)/n,offset:(t,e=1)=>(t*n+Math.floor(e))/n,range:(t,e)=>V(Math.ceil(t*n),e*n).map(t=>t/n)}:{floor:t=>Math.floor(t/n)*n,offset:(t,e=1)=>t+n*Math.floor(e),range:(t,e)=>V(Math.ceil(t/n),e/n).map(t=>t*n)}}(t);if("string"==typeof t)return("time"===n?Cp:Lp)(t);if("function"!=typeof t.floor)throw new Error("invalid interval; missing floor method");if("function"!=typeof t.offset)throw new Error("invalid interval; missing offset method");return t}}function Ag(t,n){if((t=Tg(t,n))&&"function"!=typeof t.range)throw new Error("invalid interval: missing range method");return t}function Sg(t){return"function"==typeof t?.range}function Eg(t){return void 0===t||dg(t)?t:{value:t}}function Ng(t){return t&&"function"==typeof t[Symbol.iterator]}function Cg(t){for(const n of t)if(null!=n)return"object"!=typeof n||n instanceof Date}function Lg(t){for(const n of t){if(null==n)continue;const t=typeof n;return"string"===t||"boolean"===t}}function Dg(t){for(const n of t)if(null!=n)return n instanceof Date}function zg(t){for(const n of t)if(null!=n)return"string"==typeof n&&isNaN(n)&&hp(n)}function Og(t){for(const n of t)if(null!=n){if("string"!=typeof n)return!1;if(n.trim())return!isNaN(n)}}function Fg(t,n){let e;for(const r of t)if(null!=r){if(!n(r))return!1;e=!0}return e}const jg=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function Rg(t){return"string"==typeof t&&(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||jg.has(t))}function Pg(t){return"number"==typeof t&&(0<=t&&t<=1||isNaN(t))}function Ug(t){return null==t||Ig(t)}function Ig(t){return/^\s*none\s*$/i.test(t)}function qg(t,n){return ag(t,n,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function Bg(t="middle"){return qg(t,"frameAnchor")}function Wg(t){return Ng(t)?function(t){console.warn("named iterables are deprecated; please use an object instead");const n=new Set;return Object.fromEntries(Array.from(t,t=>{const{name:e}=t;if(null==e)throw new Error("missing name");const r=`${e}`;if("__proto__"===r)throw new Error(`illegal name: ${r}`);if(n.has(r))throw new Error(`duplicate name: ${r}`);return n.add(r),[e,t]}))}(t):t}function Hg(t){return!0===t?t="frame":!1===t?t=null:null!=t&&(t=cg(t,"clip",["frame","sphere"])),t}const Yg=Symbol("position"),Vg=Symbol("color"),Xg=Symbol("radius"),Zg=Symbol("length"),Gg=Symbol("opacity"),Qg=Symbol("symbol"),Jg=Symbol("projection"),Kg=new Map([["x",Yg],["y",Yg],["fx",Yg],["fy",Yg],["r",Xg],["color",Vg],["opacity",Gg],["symbol",Qg],["length",Zg],["projection",Jg]]);function ty(t){return t===Yg||t===Jg}const ny=2/Math.sqrt(3),ey={draw(t,n){const e=Math.sqrt(n/Math.PI),r=e*ny,i=r/2;t.moveTo(0,r),t.lineTo(e,i),t.lineTo(e,-i),t.lineTo(0,-r),t.lineTo(-e,-i),t.lineTo(-e,i),t.closePath()}},ry=new Map([["asterisk",Jh],["circle",Kh],["cross",td],["diamond",rd],["diamond2",id],["hexagon",ey],["plus",od],["square",ad],["square2",cd],["star",ld],["times",xd],["triangle",dd],["triangle2",gd],["wye",_d]]);function iy(t){return t&&"function"==typeof t.draw}function oy(t){return!!iy(t)||"string"==typeof t&&ry.has(t.toLowerCase())}function ay(t){if(null==t||iy(t))return t;const n=ry.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid symbol: ${t}`)}function cy(t,...n){for(const{name:e}of t)if(n.includes(e))return!0;return!1}function sy(t,n,e=fy){const r=Object.entries(t);return null!=n.title&&void 0===t.title&&r.push(["title",_y]),null!=n.href&&void 0===t.href&&r.push(["href",vy]),r.filter(([,t])=>void 0!==t).map(([t,r])=>null===r?function(t){return{name:t,initialize(){},scope(){},reduce(){}}}(t):e(t,r,n))}function fy(t,n,e,r=uy){let i;lg(n)&&"reduce"in n&&(i=n.scale,n=n.reduce);const o=r(t,n,e),[a,c]=xg(o.label);let s;return{name:t,output:void 0===i?a:{value:a,scale:i},initialize(t){o.initialize(t),s=c([])},scope(t,n){o.scope(t,n)},reduce(t,n){s.push(o.reduce(t,n))}}}function uy(t,n,e,r=hy){const i=function(t,n){if(void 0!==n[t])return n[t];switch(t){case"x1":case"x2":t="x";break;case"y1":case"y2":t="y"}return n[t]}(t,e),o=r(n,i);let a,c;return{label:kg(o===wy?null:i,o.label),initialize(t){a=void 0===i?t:Ip(t,i),"data"===o.scope&&(c=o.reduceIndex(bg(t),a))},scope(t,n){o.scope===t&&(c=o.reduceIndex(n,a))},reduce(t,n){return null==o.scope?o.reduceIndex(t,a,n):o.reduceIndex(t,a,c,n)}}}function ly(t,n){return n?M(t,t=>n[t]):[[,t]]}function hy(t,n,e=dy){if(null==t)return e(t);if("function"==typeof t.reduceIndex)return t;if("function"==typeof t.reduce&&lg(t))return function(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}(t);if("function"==typeof t)return r=t,{reduceIndex(t,n,e){return r(mg(n,t),e)}};var r;if(/^p\d{2}$/i.test(t))return yy(function(t){const n=+`${t}`.slice(1)/100;return(t,e)=>F(t,n,e)}(t));switch(`${t}`.toLowerCase()){case"first":return vy;case"last":return xy;case"identity":return my;case"count":return wy;case"distinct":return ky;case"sum":return null==n?wy:My;case"proportion":return $y(n,"data");case"proportion-facet":return $y(n,"facet");case"deviation":return yy(g);case"min":return yy(N);case"min-index":return yy(W);case"max":return yy(E);case"max-index":return yy(I);case"mean":return by(q);case"median":return by(B);case"variance":return yy(p);case"mode":return yy(H)}return e(t)}function dy(t){throw new Error(`invalid reduce: ${t}`)}function py(t,n){for(const e in n){const r=n[e];if(void 0!==r&&!t.some(t=>t.name===e))return r}}function gy(t,n,e){if(n){const e=n.output.transform(),r=(t,n)=>op(e[t],e[n]);t.forEach(t=>t.sort(r))}e&&t.forEach(t=>t.reverse())}function yy(t){return{reduceIndex(n,e){return t(n,t=>e[t])}}}function by(t){return{reduceIndex(n,e){const r=t(n,t=>e[t]);return Dg(e)?new Date(r):r}}}const my={reduceIndex(t,n){return mg(n,t)}},vy={reduceIndex(t,n){return n[t[0]]}},_y={reduceIndex(t,n){const e=C($(t,t=>t.length,t=>n[t]),Jp),r=e.slice(-5).reverse();if(r.length<e.length){const t=e.slice(0,-4);r[4]=[` ${t.length.toLocaleString("en-US")} more`,X(t,Jp)]}return r.map(([t,n])=>`${t} (${n.toLocaleString("en-US")})`).join("\n")}},xy={reduceIndex(t,n){return n[t[t.length-1]]}},wy={label:"Frequency",reduceIndex(t){return t.length}},ky={label:"Distinct",reduceIndex(t,n){const e=new m;for(const r of t)e.add(n[r]);return e.size}},My=yy(X);function $y(t,n){return null==t?{scope:n,label:"Frequency",reduceIndex:(t,n,e=1)=>t.length/e}:{scope:n,reduceIndex:(t,n,e=1)=>X(t,t=>n[t])/e}}const Ty={reduceIndex(t,n,{z:e}){return e}};function Ay(t,{scale:n,type:e,value:r,filter:i,hint:o,label:a=kg(r)},c){return void 0===o&&"function"==typeof r?.transform&&(o=r.hint),Sy(c,{scale:n,type:e,value:Ip(t,r),label:a,filter:i,hint:o})}function Sy(t,n){const{scale:e,value:r}=n;if(!0===e||"auto"===e)switch(t){case"fill":case"stroke":case"color":n.scale=!0!==e&&Fg(r,Rg)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":n.scale=!0!==e&&Fg(r,Pg)?null:"opacity";break;case"symbol":!0!==e&&Fg(r,oy)?(n.scale=null,n.value=fg(r,ay)):n.scale="symbol";break;default:n.scale=Kg.has(t)?t:null}else if(!1===e)n.scale=null;else if(null!=e&&!Kg.has(e))throw new Error(`unknown scale: ${e}`);return n}function Ey(t,n){for(const e in t){const r=t[e];if(r.scale===n)return r}}function Ny(t,n){const e=t.original;if(e===t)return n;const r=n.value,i=n.value=[];for(let o=0;o<e.length;++o){const n=r[e[o][0]];for(const e of t[o])i[e]=n}return n}function Cy(t,n,e){const r=Ly(t,n);return fg(Ly(t,e),(t,n)=>Math.abs(t-r[n]),Float64Array)}function Ly(t,n,e){let r=t[n];if(r||void 0===e||(r=t[e]),r)return r.value;throw new Error(`missing channel: ${n}`)}function Dy(t){if(null==t||"function"==typeof t)return t;switch(`${t}`.toLowerCase()){case"ascending":return zy;case"descending":return Oy}throw new Error(`invalid order: ${t}`)}function zy([t,n],[e,r]){return op(n,r)||op(t,e)}function Oy([t,n],[e,r]){return ap(n,r)||op(t,e)}function Fy(t,n){let e=t[n];if(e){for(;e.source;)e=e.source;return null===e.source?null:e}}const jy=new Map([["accent",Ku],["category10",Ju],["dark2",tl],["observable10",nl],["paired",el],["pastel1",rl],["pastel2",il],["set1",ol],["set2",al],["set3",cl],["tableau10",sl]]);const Ry=new Map([...jy,["brbg",Uy(ul,ll)],["prgn",Uy(hl,dl)],["piyg",Uy(pl,gl)],["puor",Uy(yl,bl)],["rdbu",Uy(ml,vl)],["rdgy",Uy(_l,xl)],["rdylbu",Uy(wl,kl)],["rdylgn",Uy(Ml,$l)],["spectral",Uy(Tl,Al)],["burd",Iy(ml,vl)],["buylrd",Iy(wl,kl)],["blues",Py(Jl,Kl)],["greens",Py(th,nh)],["greys",Py(eh,rh)],["oranges",Py(sh,fh)],["purples",Py(ih,oh)],["reds",Py(ah,ch)],["turbo",qy(Lh)],["viridis",qy(zh)],["magma",qy(Oh)],["inferno",qy(Fh)],["plasma",qy(jh)],["cividis",qy(uh)],["cubehelix",qy(kh)],["warm",qy(Mh)],["cool",qy($h)],["bugn",Py(Sl,El)],["bupu",Py(Nl,Cl)],["gnbu",Py(Ll,Dl)],["orrd",Py(zl,Ol)],["pubu",Py(Rl,Pl)],["pubugn",Py(Fl,jl)],["purd",Py(Ul,Il)],["rdpu",Py(ql,Bl)],["ylgn",Py(Yl,Vl)],["ylgnbu",Py(Wl,Hl)],["ylorbr",Py(Xl,Zl)],["ylorrd",Py(Gl,Ql)],["rainbow",By(Ah)],["sinebow",By(Ch)]]);function Py(t,n){return({length:e})=>1===e?[t[3][1]]:2===e?[t[3][1],t[3][2]]:(e=Math.max(3,Math.floor(e)))>9?zc(n,e):t[e]}function Uy(t,n){return({length:e})=>2===e?[t[3][0],t[3][2]]:(e=Math.max(3,Math.floor(e)))>11?zc(n,e):t[e]}function Iy(t,n){return({length:e})=>2===e?[t[3][2],t[3][0]]:(e=Math.max(3,Math.floor(e)))>11?zc(t=>n(1-t),e):t[e].slice().reverse()}function qy(t){return({length:n})=>zc(t,Math.max(2,Math.floor(n)))}function By(t){return({length:n})=>zc(t,Math.floor(n)+1).slice(0,-1)}function Wy(t){const n=`${t}`.toLowerCase();if(!Ry.has(n))throw new Error(`unknown ordinal scheme: ${n}`);return Ry.get(n)}function Hy(t,n){const e=Wy(t),r="function"==typeof e?e({length:n}):e;return r.length!==n?r.slice(0,n):r}const Yy=new Map([["brbg",ll],["prgn",dl],["piyg",gl],["puor",bl],["rdbu",vl],["rdgy",xl],["rdylbu",kl],["rdylgn",$l],["spectral",Al],["burd",t=>vl(1-t)],["buylrd",t=>kl(1-t)],["blues",Kl],["greens",nh],["greys",rh],["purples",oh],["reds",ch],["oranges",fh],["turbo",Lh],["viridis",zh],["magma",Oh],["inferno",Fh],["plasma",jh],["cividis",uh],["cubehelix",kh],["warm",Mh],["cool",$h],["bugn",El],["bupu",Cl],["gnbu",Dl],["orrd",Ol],["pubugn",jl],["pubu",Pl],["purd",Il],["rdpu",Bl],["ylgnbu",Hl],["ylgn",Vl],["ylorbr",Zl],["ylorrd",Ql],["rainbow",Ah],["sinebow",Ch]]);function Vy(t){const n=`${t}`.toLowerCase();if(!Yy.has(n))throw new Error(`unknown quantitative scheme: ${n}`);return Yy.get(n)}const Xy=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);const Zy=t=>n=>t(1-n),Gy=[0,1],Qy=new Map([["number",ee],["rgb",nr],["hsl",ac],["hcl",Ac],["lab",function(t,n){var e=tr((t=yc(t)).l,(n=yc(n)).l),r=tr(t.a,n.a),i=tr(t.b,n.b),o=tr(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=r(n),t.b=i(n),t.opacity=o(n),t+""}}]]);function Jy(t){const n=`${t}`.toLowerCase();if(!Qy.has(n))throw new Error(`unknown interpolator: ${n}`);return Qy.get(n)}function Ky(t,n,e,{type:r,nice:i,clamp:o,zero:a,domain:c=ab(t,e),unknown:s,round:f,scheme:u,interval:l,range:h=(Kg.get(t)===Xg?sb(e,c):Kg.get(t)===Zg?fb(e,c):Kg.get(t)===Gg?Gy:void 0),interpolate:d=(Kg.get(t)===Vg?null==u&&void 0!==h?nr:Vy(void 0!==u?u:"cyclical"===r?"rainbow":"turbo"):f?ic:ee),reverse:p}){if(l=Ag(l,r),"cyclical"!==r&&"sequential"!==r||(r="linear"),"function"!=typeof d&&(d=Jy(d)),p=!!p,void 0!==h){if((c=sg(c)).length!==(h=sg(h)).length){if(1===d.length)throw new Error("invalid piecewise interpolator");d=Dc(d,h),h=void 0}}if(1===d.length?(p&&(d=Zy(d),p=!1),void 0===h&&2===(h=Float64Array.from(c,(t,n)=>n/(c.length-1))).length&&(h=Gy),n.interpolate((h===Gy?Kp:hb)(d))):n.interpolate(d),a){const[t,n]=y(c);if(t>0||n<0){(dp(c=ug(c))||1)===Math.sign(t)?c[0]=0:c[c.length-1]=0}}return p&&(c=et(c)),n.domain(c).unknown(s),i&&(n.nice(function(t,n){return!0===t?void 0:"number"==typeof t?t:function(t,n){if((t=Ag(t,n))&&"function"!=typeof t.ceil)throw new Error("invalid interval: missing ceil method");return t}(t,n)}(i,r)),c=n.domain()),void 0!==h&&n.range(h),o&&n.clamp(o),{type:r,domain:c,range:h,scale:n,interpolate:d,interval:l}}function tb(t,n,{exponent:e=1,...r}){return Ky(t,$s().exponent(e),n,{...r,type:"pow"})}function nb(t,n,{base:e=10,domain:r=ub(n),...i}){return Ky(t,ys().base(e),n,{...i,domain:r})}function eb(t,n,{constant:e=1,...r}){return Ky(t,_s().constant(e),n,r)}function rb(t,n,{range:e,quantiles:r=(void 0===e?5:(e=[...e]).length),n:i=r,scheme:o="rdylbu",domain:a=lb(n),unknown:c,interpolate:s,reverse:f}){return void 0===e&&(e=void 0!==s?zc(s,i):Kg.get(t)===Vg?Hy(o,i):void 0),a.length>0&&(a=Ts(a,void 0===e?{length:i}:e).quantiles()),ib(t,n,{domain:a,range:e,reverse:f,unknown:c})}function ib(t,n,{domain:e=[0],unknown:r,scheme:o="rdylbu",interpolate:a,range:c=(void 0!==a?zc(a,e.length+1):Kg.get(t)===Vg?Hy(o,e.length+1):void 0),reverse:s}){const f=dp(e=sg(e));if(!isNaN(f)&&!function(t,n){for(let e=1,r=t.length,o=t[0];e<r;++e){const r=i(o,o=t[e]);if(0!==r&&r!==n)return!1}return!0}(e,f))throw new Error(`the ${t} scale has a non-monotonic domain`);return s&&(c=et(c)),{type:"threshold",scale:As(f<0?et(e):e,void 0===c?[]:c).unknown(r),domain:e,range:c}}function ob(t,n=sp){return t.length?[N(t,({value:t})=>void 0===t?t:N(t,n)),E(t,({value:t})=>void 0===t?t:E(t,n))]:[0,1]}function ab(t,n){const e=Kg.get(t);return(e===Xg||e===Gg||e===Zg?cb:ob)(n)}function cb(t){return[0,t.length?E(t,({value:t})=>void 0===t?t:E(t,sp)):1]}function sb(t,n){const e=t.find(({radius:t})=>void 0!==t);if(void 0!==e)return[0,e.radius];const r=F(t,.5,({value:t})=>void 0===t?NaN:F(t,.25,fp)),i=n.map(t=>3*Math.sqrt(t/r)),o=30/E(i);return o<1?i.map(t=>t*o):i}function fb(t,n){const e=B(t,({value:t})=>void 0===t?NaN:B(t,Math.abs)),r=n.map(t=>12*t/e),i=60/E(r);return i<1?r.map(t=>t*i):r}function ub(t){for(const{value:n}of t)if(void 0!==n)for(let e of n){if(e>0)return ob(t,fp);if(e<0)return ob(t,up)}return[1,10]}function lb(t){const n=[];for(const{value:e}of t)if(void 0!==e)for(const t of e)n.push(t);return n}function hb(t){return(n,e)=>r=>t(n+r*(e-n))}let db,pb=0;function gb(t){t!==db&&(db=t,console.warn(t),++pb)}function yb(t,n,e,r,{type:o,nice:a,clamp:c,domain:s=ob(r),unknown:f,pivot:u=0,scheme:l,range:h,symmetric:d=!0,interpolate:p=(Kg.get(t)===Vg?null==l&&void 0!==h?nr:Vy(void 0!==l?l:"rdbu"):ee),reverse:g}){u=+u,s=sg(s);let[y,b]=s;if(s.length>2&&gb(`Warning: the diverging ${t} scale domain contains extra elements.`),i(y,b)<0&&([y,b]=[b,y],g=!g),y=Math.min(y,u),b=Math.max(b,u),"function"!=typeof p&&(p=Jy(p)),void 0!==h&&(p=1===p.length?hb(p)(...h):Dc(p,h)),g&&(p=Zy(p)),d){const t=e.apply(u),n=t-e.apply(y),r=e.apply(b)-t;n<r?y=e.invert(t-r):n>r&&(b=e.invert(t+n))}return n.domain([y,u,b]).unknown(f).interpolator(p),c&&n.clamp(c),a&&n.nice(a),{type:o,domain:[y,b],pivot:u,interpolate:p,scale:n}}function bb(t,n,e){return yb(t,Vu(),xb,n,e)}function mb(t,n,{exponent:e=1,...r}){return yb(t,Gu().exponent(e=+e),function(t){return.5===t?kb:{apply(n){return Math.sign(n)*Math.pow(Math.abs(n),t)},invert(n){return Math.sign(n)*Math.pow(Math.abs(n),1/t)}}}(e),n,{...r,type:"diverging-pow"})}function vb(t,n,{base:e=10,pivot:r=1,domain:i=ob(n,r<0?up:fp),...o}){return yb(t,Xu().base(e=+e),wb,n,{domain:i,pivot:r,...o})}function _b(t,n,{constant:e=1,...r}){return yb(t,Zu().constant(e=+e),function(t){return{apply(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))},invert(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}}(e),n,r)}const xb={apply(t){return t},invert(t){return t}},wb={apply:Math.log,invert:Math.exp},kb={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function Mb(t,n,e,r){return Ky(t,n,e,r)}function $b(t,n,e){return Mb(t,function(){return qc.apply(Wu(bf,mf,hf,uf,Xs,Ws,qs,Us,Ps,kf).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}(),n,e)}function Tb(t,n,e){return Mb(t,function(){return qc.apply(Wu(gf,yf,df,lf,ef,Hs,Bs,Is,Ps,Mf).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}(),n,e)}const Ab=Symbol("ordinal");function Sb(t,n,e,{type:r,interval:i,domain:o,range:a,reverse:c,hint:s}){return i=Ag(i,r),void 0===o&&(o=Cb(e,i,t)),"categorical"!==r&&r!==Ab||(r="ordinal"),c&&(o=et(o)),o=n.domain(o).domain(),void 0!==a&&("function"==typeof a&&(a=a(o)),n.range(a)),{type:r,domain:o,range:a,scale:n,hint:s,interval:i}}function Eb(t,n,{type:e,interval:r,domain:i,range:o,scheme:a,unknown:c,...s}){let f;if(r=Ag(r,e),void 0===i&&(i=Cb(n,r,t)),Kg.get(t)===Qg)f=function(t){return{fill:Lb(t,"fill"),stroke:Lb(t,"stroke")}}(n),o=void 0===o?function(t){return Ug(t.fill)?kd:wd}(f):fg(o,ay);else if(Kg.get(t)===Vg&&(void 0!==o||"ordinal"!==e&&e!==Ab||(o=function(t,n="greys"){const e=new Set,[r,i]=Hy(n,2);for(const o of t)if(null!=o)if(!0===o)e.add(i);else{if(!1!==o)return;e.add(r)}return[...e]}(i,a),void 0!==o&&(a=void 0)),void 0===a&&void 0===o&&(a="ordinal"===e?"turbo":"observable10"),void 0!==a))if(void 0!==o){const t=Vy(a),n=o[0],e=o[1]-o[0];o=({length:r})=>zc(r=>t(n+e*r),r)}else o=Wy(a);if(c===Wc)throw new Error(`implicit unknown on ${t} scale is not supported`);return Sb(t,Hc().unknown(c),n,{...s,type:e,domain:i,range:o,hint:f})}function Nb(t,n,e,r){let{round:i}=e;return void 0!==i&&t.round(i=!!i),(t=Sb(r,t,n,e)).round=i,t}function Cb(t,n,e){const r=new m;for(const{value:i,domain:o}of t){if(void 0!==o)return o();if(void 0!==i)for(const t of i)r.add(t)}if(void 0!==n){const[t,e]=y(r).map(n.floor,n);return n.range(t,n.offset(e))}if(r.size>1e4&&Kg.get(e)===Yg)throw new Error(`implicit ordinal domain of ${e} scale has more than 10,000 values`);return C(r,op)}function Lb(t,n){let e;for(const{hint:r}of t){const t=r?.[n];if(void 0!==t)if(void 0===e)e=t;else if(e!==t)return}return e}function Db(t,{label:n,inset:e=0,insetTop:r=e,insetRight:i=e,insetBottom:o=e,insetLeft:a=e,round:c,nice:s,clamp:f,zero:u,align:l,padding:h,projection:d,facet:{label:p=n}={},...g}={}){const y={};for(const[b,m]of t){const t=g[b],e=qb(b,m,{round:Kg.get(b)===Yg?c:void 0,nice:s,clamp:f,zero:u,align:l,padding:h,projection:d,...t});if(e){let{label:c=("fx"===b||"fy"===b?p:n),percent:s,transform:f,inset:u,insetTop:l=(void 0!==u?u:"y"===b?r:0),insetRight:h=(void 0!==u?u:"x"===b?i:0),insetBottom:d=(void 0!==u?u:"y"===b?o:0),insetLeft:g=(void 0!==u?u:"x"===b?a:0)}=t||{};if(null==f)f=void 0;else if("function"!=typeof f)throw new Error("invalid scale transform; not a function");e.percent=!!s,e.label=void 0===c?Ob(m,e):c,e.transform=f,"x"===b||"fx"===b?(e.insetLeft=+g,e.insetRight=+h):"y"!==b&&"fy"!==b||(e.insetTop=+l,e.insetBottom=+d),y[b]=e}}return y}function zb(t){const n={},e={scales:n};for(const[r,i]of Object.entries(t)){const{scale:t,type:o,interval:a,label:c}=i;n[r]=Jb(i),e[r]=t,t.type=o,null!=a&&(t.interval=a),null!=c&&(t.label=c)}return e}function Ob(t=[],n){let e;for(const{label:r}of t)if(void 0!==r)if(void 0===e)e=r;else if(e!==r)return;if(void 0!==e)return!Vb(n)&&n.percent&&(e=`${e} (%)`),{inferred:!0,toString:()=>e}}function Fb(t){const{marginTop:n,marginRight:e,marginBottom:r,marginLeft:i,width:o,height:a,facet:{marginTop:c,marginRight:s,marginBottom:f,marginLeft:u}}=t;return{marginTop:Math.max(n,c),marginRight:Math.max(e,s),marginBottom:Math.max(r,f),marginLeft:Math.max(i,u),width:o,height:a}}function jb({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:c,height:s}=Fb(e);return{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:t?t.scale.bandwidth()+a+i:c,height:n?n.scale.bandwidth()+r+o:s,facet:{width:c,height:s}}}function Rb(t,n){if(void 0===t.range){const{insetLeft:e,insetRight:r}=t,{width:i,marginLeft:o=0,marginRight:a=0}=n,c=o+e,s=i-a-r;t.range=[c,Math.max(c,s)],Vb(t)||(t.range=Ib(t)),t.scale.range(t.range)}Ub(t)}function Pb(t,n){if(void 0===t.range){const{insetTop:e,insetBottom:r}=t,{height:i,marginTop:o=0,marginBottom:a=0}=n,c=o+e,s=i-a-r;t.range=[Math.max(c,s),c],Vb(t)?t.range.reverse():t.range=Ib(t),t.scale.range(t.range)}Ub(t)}function Ub(t){void 0===t.round&&function({type:t}){return"point"===t||"band"===t}(t)&&function({scale:t}){const n=t.domain().length,[e,r]=t.range(),i=t.paddingInner?t.paddingInner():1,o=t.paddingOuter?t.paddingOuter():t.padding(),a=n-i,c=Math.abs(r-e)/Math.max(1,a+2*o);return(c-Math.floor(c))*a}(t)<=30&&t.scale.round(!0)}function Ib(t){const n=t.scale.domain().length+Xb(t);if(!(n>2))return t.range;const[e,r]=t.range;return Array.from({length:n},(t,i)=>e+i/(n-1)*(r-e))}function qb(t,n=[],e={}){const r=function(t,n,{type:e,domain:r,range:i,scheme:o,pivot:a,projection:c}){if(e=Wb(e),"fx"===t||"fy"===t)return"band";"x"!==t&&"y"!==t||null==c||(e=Hb);for(const f of n){const t=Wb(f.type);if(void 0!==t)if(void 0===e)e=t;else if(e!==t)throw new Error(`scale incompatible with channel: ${e} !== ${t}`)}if(e===Hb)return;if(void 0!==e)return e;if(void 0===r&&!n.some(({value:t})=>void 0!==t))return;const s=Kg.get(t);if(s===Xg)return"sqrt";if(s===Gg||s===Zg)return"linear";if(s===Qg)return"ordinal";if((r||i||[]).length>2)return Yb(s);if(void 0!==r){if(Lg(r))return Yb(s);if(Dg(r))return"utc"}else{const t=n.map(({value:t})=>t).filter(t=>void 0!==t);if(t.some(Lg))return Yb(s);if(t.some(Dg))return"utc"}if(s===Vg){if(null!=a||function(t){return null!=t&&Xy.has(`${t}`.toLowerCase())}(o))return"diverging";if(function(t){return null!=t&&jy.has(`${t}`.toLowerCase())}(o))return"categorical"}return"linear"}(t,n,e);if(void 0===e.type&&void 0===e.domain&&void 0===e.range&&null==e.interval&&"fx"!==t&&"fy"!==t&&Vb({type:r})){const e=n.map(({value:t})=>t).filter(t=>void 0!==t);e.some(Dg)?gb(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Bb(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${Bb(r)}".`):e.some(zg)?gb(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Bb(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${Bb(r)}".`):e.some(Og)&&gb(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Bb(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${Bb(r)}".`)}switch(e.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":e=Gb(n,e,tg);break;case"identity":switch(Kg.get(t)){case Yg:e=Gb(n,e,tg);break;case Qg:e=Gb(n,e,Qb)}break;case"utc":case"time":e=Gb(n,e,eg)}switch(r){case"diverging":return bb(t,n,e);case"diverging-sqrt":return function(t,n,e){return mb(t,n,{...e,exponent:.5})}(t,n,e);case"diverging-pow":return mb(t,n,e);case"diverging-log":return vb(t,n,e);case"diverging-symlog":return _b(t,n,e);case"categorical":case"ordinal":case Ab:return Eb(t,n,e);case"cyclical":case"sequential":case"linear":return function(t,n,e){return Ky(t,as(),n,e)}(t,n,e);case"sqrt":return function(t,n,e){return tb(t,n,{...e,exponent:.5})}(t,n,e);case"threshold":return ib(t,0,e);case"quantile":return rb(t,n,e);case"quantize":return function(t,n,{range:e,n:r=(void 0===e?5:(e=[...e]).length),scheme:i="rdylbu",domain:o=ab(t,n),unknown:a,interpolate:c,reverse:s}){const[f,u]=y(o);let l;return void 0===e?(l=K(f,u,r),l[0]<=f&&l.splice(0,1),l[l.length-1]>=u&&l.pop(),r=l.length+1,e=void 0!==c?zc(c,r):Kg.get(t)===Vg?Hy(i,r):void 0):(l=zc(ee(f,u),r+1).slice(1,-1),f instanceof Date&&(l=l.map(t=>new Date(t)))),dp(sg(o))<0&&l.reverse(),ib(t,0,{domain:l,range:e,reverse:s,unknown:a})}(t,n,e);case"pow":return tb(t,n,e);case"log":return nb(t,n,e);case"symlog":return eb(t,n,e);case"utc":return Tb(t,n,e);case"time":return $b(t,n,e);case"point":return function(t,n,{align:e=.5,padding:r=.5,...i}){return Nb(Xc().align(e).padding(r),n,i,t)}(t,n,e);case"band":return function(t,n,{align:e=.5,padding:r=.1,paddingInner:i=r,paddingOuter:o=("fx"===t||"fy"===t?0:r),...a}){return Nb(Yc().align(e).paddingInner(i).paddingOuter(o),n,a,t)}(t,n,e);case"identity":return function(t){return{type:"identity",scale:(n=Kg.get(t),n===Yg||n===Xg||n===Zg||n===Gg?cs():t=>t)};var n}(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function Bb(t){return"symbol"==typeof t?t.description:t}function Wb(t){return"string"==typeof t?`${t}`.toLowerCase():t}const Hb={toString:()=>"projection"};function Yb(t){switch(t){case Yg:return"point";case Vg:return Ab;default:return"ordinal"}}function Vb({type:t}){return"ordinal"===t||"point"===t||"band"===t||t===Ab}function Xb({type:t}){return"threshold"===t}function Zb(t){if(void 0===t)return!0;const n=t.domain(),e=t(n[0]);for(let r=1,i=n.length;r<i;++r)if(t(n[r])-e)return!1;return!0}function Gb(t,{domain:n,...e},r){for(const i of t)void 0!==i.value&&(void 0===n&&(n=i.value?.domain),i.value=r(i.value));return{domain:void 0===n?n:r(n),...e}}function Qb(t){return fg(t,ay)}function Jb({scale:t,type:n,domain:e,range:r,interpolate:i,interval:o,transform:a,percent:c,pivot:s}){if("identity"===n)return{type:"identity",apply:t=>t,invert:t=>t};const f=t.unknown?t.unknown():void 0;return{type:n,domain:ug(e),...void 0!==r&&{range:ug(r)},...void 0!==a&&{transform:a},...c&&{percent:c},...void 0!==f&&{unknown:f},...void 0!==o&&{interval:o},...void 0!==i&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...void 0!==s&&{pivot:s,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:n=>t(n),...t.invert&&{invert:n=>t.invert(n)}}}function Kb(t,n){const{fx:e,fy:r}=Db(t,n),i=e?.scale.domain(),o=r?.scale.domain();return i&&o?function(...t){const n="function"==typeof t[t.length-1]&&function(t){return n=>t(...n)}(t.pop()),e=(t=t.map(d)).map(l),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||e.some(h))return o;for(;;){o.push(i.map((n,e)=>t[e][n]));let a=r;for(;++i[a]===e[a];){if(0===a)return n?o.map(n):o;i[a--]=0}}}(i,o).map(([t,n],e)=>({x:t,y:n,i:e})):i?i.map((t,n)=>({x:t,i:n})):o?o.map((t,n)=>({y:t,i:n})):void 0}function tm(t,{fx:n,fy:e}){const r=bg(t),i=n?.value,o=e?.value;return n&&e?$(r,t=>(t.fx=i[t[0]],t.fy=o[t[0]],t),t=>i[t],t=>o[t]):n?$(r,t=>(t.fx=i[t[0]],t),t=>i[t]):$(r,t=>(t.fy=o[t[0]],t),t=>o[t])}function nm(t){const n=[],e=new Uint32Array(X(t,t=>t.length));for(const r of t){let i=0;for(const n of t)r!==n&&(e.set(n,i),i+=n.length);n.push(e.slice(0,i))}return n}const em=new Map([["top",cm],["right",um],["bottom",sm],["left",fm],["top-left",lm(cm,fm)],["top-right",lm(cm,um)],["bottom-left",lm(sm,fm)],["bottom-right",lm(sm,um)],["top-empty",function(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=om(n,r);if(o>0)return am(t,e,n[o-1])}],["right-empty",function(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=om(n,e);if(o<n.length-1)return am(t,n[o+1],r)}],["bottom-empty",function(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=om(n,r);if(o<n.length-1)return am(t,e,n[o+1])}],["left-empty",function(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=om(n,e);if(o>0)return am(t,n[o-1],r)}],["empty",function(t,n,{empty:e}){return e}]]);const rm=new WeakMap;function im(t){let n=rm.get(t);return n||rm.set(t,n=new b(fg(t,(t,n)=>[t,n]))),n}function om(t,n){return im(t).get(n)}function am(t,n,e){return function(t,n,e){return n=_g(n),e=_g(e),t.find(t=>Object.is(_g(t.x),n)&&Object.is(_g(t.y),e))}(t,n,e)?.empty}function cm(t,{y:n},{y:e}){return!n||0===om(n,e)}function sm(t,{y:n},{y:e}){return!n||om(n,e)===n.length-1}function fm(t,{x:n},{x:e}){return!n||0===om(n,e)}function um(t,{x:n},{x:e}){return!n||om(n,e)===n.length-1}function lm(t,n){return function(){return t.apply(null,arguments)&&n.apply(null,arguments)}}function hm(t,{channels:{fx:n,fy:e},groups:r}){return n&&e?t.map(({x:t,y:n})=>r.get(t)?.get(n)??[]):n?t.map(({x:t})=>r.get(t)??[]):t.map(({y:t})=>r.get(t)??[])}const dm=Math.PI,pm=2*dm;function gm({projection:t,inset:n=0,insetTop:e=n,insetRight:r=n,insetBottom:i=n,insetLeft:o=n}={},a){if(null==t)return;if("function"==typeof t.stream)return t;let c,s,f="frame";if(lg(t)){let n;if(({type:t,domain:s,inset:n,insetTop:e=(void 0!==n?n:e),insetRight:r=(void 0!==n?n:r),insetBottom:i=(void 0!==n?n:i),insetLeft:o=(void 0!==n?n:o),clip:f=f,...c}=t),null==t)return}"function"!=typeof t&&({type:t}=ym(t));const{width:u,height:l,marginLeft:h,marginRight:d,marginTop:p,marginBottom:g}=a,y=u-h-d-o-r,b=l-p-g-e-i;if(t=t?.({width:y,height:b,clip:f,...c}),null==t)return;f=function(t,n,e,r,i){if(!1===t||null==t||"number"==typeof t)return t=>t;!0===t&&(t="frame");if("frame"===`${t}`.toLowerCase())return $i(n,e,r,i);throw new Error(`unknown projection clip type: ${t}`)}(f,h,p,u-d,l-g);let m,v=h+o,_=p+e;if(null!=s){const[[n,e],[r,i]]=Uo(t).bounds(s),o=Math.min(y/(r-n),b/(i-e));o>0?(v-=(o*(n+r)-y)/2,_-=(o*(e+i)-b)/2,m=ca({point(t,n){this.stream.point(t*o+v,n*o+_)}})):gb("Warning: the projection could not be fit to the specified domain; using the default scale.")}return m??=0===v&&0===_?vm():ca({point(t,n){this.stream.point(t+v,n+_)}}),{stream:n=>t.stream(m.stream(f(n)))}}function ym(t){switch(`${t}`.toLowerCase()){case"albers-usa":return bm(Ta,.7463,.4673);case"albers":return mm($a,.7463,.4673);case"azimuthal-equal-area":return bm(Na,4,4);case"azimuthal-equidistant":return bm(La,pm,pm);case"conic-conformal":return mm(Ra,pm,pm);case"conic-equal-area":return mm(Ma,6.1702,2.9781);case"conic-equidistant":return mm(qa,7.312,3.6282);case"equal-earth":return bm(Za,5.4133,2.6347);case"equirectangular":return bm(Ua,pm,dm);case"gnomonic":return bm(Qa,3.4641,3.4641);case"identity":return{type:vm};case"reflect-y":return{type:_m};case"mercator":return bm(za,pm,pm);case"orthographic":return bm(Ka,2,2);case"stereographic":return bm(nc,2,2);case"transverse-mercator":return bm(rc,pm,pm);default:throw new Error(`unknown projection type: ${t}`)}}function bm(t,n,e){return{type:({width:r,height:i,rotate:o,precision:a=.15,clip:c})=>{const s=t();return null!=a&&s.precision?.(a),null!=o&&s.rotate?.(o),"number"==typeof c&&s.clipAngle?.(c),s.scale(Math.min(r/n,i/e)),s.translate([r/2,i/2]),s},aspectRatio:e/n}}function mm(t,n,e){const{type:r,aspectRatio:i}=bm(t,n,e);return{type:t=>{const{parallels:n,domain:e,width:i,height:o}=t,a=r(t);return null!=n&&(a.parallels(n),void 0===e&&a.fitSize([i,o],{type:"Sphere"})),a},aspectRatio:i}}const vm=Kp({stream:t=>t}),_m=Kp(ca({point(t,n){this.stream.point(t,-n)}}));function xm(t,n,e,r){const i=e[t],o=e[n],a=i.length,c=e[t]=new Float64Array(a).fill(NaN),s=e[n]=new Float64Array(a).fill(NaN);let f;const u=r.stream({point(t,n){c[f]=t,s[f]=n}});for(f=0;f<a;++f)u.point(i[f],o[f])}function wm({projection:t}={}){return null!=t&&("function"==typeof t.stream||(lg(t)&&(t=t.type),null!=t))}function km(t){const n=[],e=[],r={scale:"x",value:n},i={scale:"y",value:e},o={point(t,r){n.push(t),e.push(r)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const a of t.value)Li(a,o);return[r,i]}function Mm(t={}){const{document:n=("undefined"!=typeof window?window.document:void 0),clip:e}=t;return{document:n,clip:Hg(e)}}function $m(t,{document:n}){return Rh(hn(t).call(n.documentElement))}function Tm(t,n){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return"function"==typeof n?n(t):n;const e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return`${a=t.getUTCFullYear(),a<0?`-${Am(-a,6)}`:a>9999?`+${Am(a,6)}`:Am(a,4)}-${Am(t.getUTCMonth()+1,2)}-${Am(t.getUTCDate(),2)}${e||r||i||o?`T${Am(e,2)}:${Am(r,2)}${i||o?`:${Am(i,2)}${o?`.${Am(o,3)}`:""}`:""}Z`:""}`;var a}function Am(t,n){return`${t}`.padStart(n,"0")}function Sm(t){let n,e;return(...r)=>((e?.length!==r.length||e.some((t,n)=>t!==r[n]))&&(e=r,n=t(...r)),n)}const Em=Sm(t=>new Intl.NumberFormat(t));Sm((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{month:n}})),Sm((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{weekday:n}}));function Nm(t){return Tm(t,"Invalid Date")}const Cm=function(t="en-US"){const n=function(t="en-US"){const n=Em(t);return t=>null==t||isNaN(t)?void 0:n.format(t)}(t);return t=>(t instanceof Date?Nm:"number"==typeof t?n:Zp)(t)}(),Lm=("undefined"!=typeof window?window.devicePixelRatio>1:"undefined"==typeof it)?0:.5;let Dm=0;function zm(){return"plot-clip-"+ ++Dm}function Om(t,{title:n,href:e,ariaLabel:r,ariaDescription:i,ariaHidden:o,target:a,fill:c,fillOpacity:s,stroke:f,strokeWidth:u,strokeOpacity:l,strokeLinejoin:h,strokeLinecap:d,strokeMiterlimit:p,strokeDasharray:g,strokeDashoffset:y,opacity:b,mixBlendMode:m,imageFilter:v,paintOrder:_,pointerEvents:x,shapeRendering:w,channels:k},{ariaLabel:M,fill:$="currentColor",fillOpacity:T,stroke:A="none",strokeOpacity:S,strokeWidth:E,strokeLinecap:N,strokeLinejoin:C,strokeMiterlimit:L,paintOrder:D}){null===$&&(c=null,s=null),null===A&&(f=null,l=null),Ug($)?Ug(A)||Ug(c)&&!k?.fill||(A="none"):!Ug(A)||Ug(f)&&!k?.stroke||($="none");const[z,O]=ig(c,$),[F,j]=og(s,T),[R,P]=ig(f,A),[U,I]=og(l,S),[q,B]=og(b);Ig(P)||(void 0===u&&(u=E),void 0===d&&(d=N),void 0===h&&(h=C),void 0!==p||function(t){return/^\s*round\s*$/i.test(t)}(h)||(p=L),Ig(O)||void 0!==_||(_=D));const[W,H]=og(u);return null!==$&&(t.fill=Ym(O,"currentColor"),t.fillOpacity=Vm(j,1)),null!==A&&(t.stroke=Ym(P,"none"),t.strokeWidth=Vm(H,1),t.strokeOpacity=Vm(I,1),t.strokeLinejoin=Ym(h,"miter"),t.strokeLinecap=Ym(d,"butt"),t.strokeMiterlimit=Vm(p,4),t.strokeDasharray=Ym(g,"none"),t.strokeDashoffset=Ym(y,"0")),t.target=Zp(a),t.ariaLabel=Zp(M),t.ariaDescription=Zp(i),t.ariaHidden=Zp(o),t.opacity=Vm(B,1),t.mixBlendMode=Ym(m,"normal"),t.imageFilter=Ym(v,"none"),t.paintOrder=Ym(_,"normal"),t.pointerEvents=Ym(x,"auto"),t.shapeRendering=Ym(w,"auto"),{title:{value:n,optional:!0,filter:null},href:{value:e,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:z,scale:"auto",optional:!0},fillOpacity:{value:F,scale:"auto",optional:!0},stroke:{value:R,scale:"auto",optional:!0},strokeOpacity:{value:U,scale:"auto",optional:!0},strokeWidth:{value:W,optional:!0},opacity:{value:q,scale:"auto",optional:!0}}}function Fm(t,n){n&&t.text(t=>Cm(n[t]))}function jm(t,n){n&&t.text(([t])=>Cm(n[t]))}function Rm(t,{target:n,tip:e},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:c,strokeOpacity:s,strokeWidth:f,opacity:u,href:l}){r&&Wm(t,"aria-label",t=>r[t]),o&&Wm(t,"fill",t=>o[t]),a&&Wm(t,"fill-opacity",t=>a[t]),c&&Wm(t,"stroke",t=>c[t]),s&&Wm(t,"stroke-opacity",t=>s[t]),f&&Wm(t,"stroke-width",t=>f[t]),u&&Wm(t,"opacity",t=>u[t]),l&&Bm(t,t=>l[t],n),e||function(t,n){n&&t.filter(t=>cp(n[t])).append("title").call(Fm,n)}(t,i)}function Pm(t,{target:n,tip:e},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:c,strokeOpacity:s,strokeWidth:f,opacity:u,href:l}){r&&Wm(t,"aria-label",([t])=>r[t]),o&&Wm(t,"fill",([t])=>o[t]),a&&Wm(t,"fill-opacity",([t])=>a[t]),c&&Wm(t,"stroke",([t])=>c[t]),s&&Wm(t,"stroke-opacity",([t])=>s[t]),f&&Wm(t,"stroke-width",([t])=>f[t]),u&&Wm(t,"opacity",([t])=>u[t]),l&&Bm(t,([t])=>l[t],n),e||function(t,n){n&&t.filter(([t])=>cp(n[t])).append("title").call(jm,n)}(t,i)}function*Um(t,n,e,r){const{z:i}=e,{z:o}=r,a=function({ariaLabel:t,title:n,fill:e,fillOpacity:r,stroke:i,strokeOpacity:o,strokeWidth:a,opacity:c,href:s},{tip:f}){return[t,f?void 0:n,e,r,i,o,a,c,s].filter(t=>void 0!==t)}(r,e),c=[...n,...a];for(const s of o?function(t,n,e){const r=M(t,t=>n[t]);return void 0===e&&r.size>1+t.length>>1&&gb("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}(t,o,i):[t]){let t,n;t:for(const e of s){for(const t of c)if(!ip(t[e])){n&&n.push(-1);continue t}if(void 0!==t){n.push(e);for(let r=0;r<a.length;++r){if(_g(a[r][e])!==t[r]){yield n,t=a.map(t=>_g(t[e])),n=[e];continue t}}}else n&&(yield n),t=a.map(t=>_g(t[e])),n=[e]}n&&(yield n)}}function Im(t,n,e,r){!function(t,n,e,r){let i;const{clip:o=r.clip}=n;switch(o){case"frame":{const{width:n,height:o,marginLeft:a,marginRight:c,marginTop:s,marginBottom:f}=e,u=zm();i=`url(#${u})`,t=$m("svg:g",r).call(t=>t.append("svg:clipPath").attr("id",u).append("rect").attr("x",a).attr("y",s).attr("width",n-c-a).attr("height",o-s-f)).each(function(){this.appendChild(t.node()),t.node=()=>this});break}case"sphere":{const{projection:n}=r;if(!n)throw new Error('the "sphere" clip option requires a projection');const e=zm();i=`url(#${e})`,t.append("clipPath").attr("id",e).append("path").attr("d",Uo(n)({type:"Sphere"}));break}}Wm(t,"aria-label",n.ariaLabel),Wm(t,"aria-description",n.ariaDescription),Wm(t,"aria-hidden",n.ariaHidden),Wm(t,"clip-path",i)}(t,n,e,r),Wm(t,"fill",n.fill),Wm(t,"fill-opacity",n.fillOpacity),Wm(t,"stroke",n.stroke),Wm(t,"stroke-width",n.strokeWidth),Wm(t,"stroke-opacity",n.strokeOpacity),Wm(t,"stroke-linejoin",n.strokeLinejoin),Wm(t,"stroke-linecap",n.strokeLinecap),Wm(t,"stroke-miterlimit",n.strokeMiterlimit),Wm(t,"stroke-dasharray",n.strokeDasharray),Wm(t,"stroke-dashoffset",n.strokeDashoffset),Wm(t,"shape-rendering",n.shapeRendering),Wm(t,"filter",n.imageFilter),Wm(t,"paint-order",n.paintOrder);const{pointerEvents:i=(!1===r.pointerSticky?"none":void 0)}=n;Wm(t,"pointer-events",i)}function qm(t,n){!function(t,n,e){null!=e&&t.style(n,e)}(t,"mix-blend-mode",n.mixBlendMode),Wm(t,"opacity",n.opacity)}function Bm(t,n,e){t.each(function(t){const r=n(t);if(null!=r){const t=this.ownerDocument.createElementNS(Ct.svg,"a");t.setAttribute("fill","inherit"),t.setAttributeNS(Ct.xlink,"href",r),null!=e&&t.setAttribute("target",e),this.parentNode.insertBefore(t,this).appendChild(this)}})}function Wm(t,n,e){null!=e&&t.attr(n,e)}function Hm(t,n,{x:e,y:r},i=Lm,o=Lm){i+=n.dx,o+=n.dy,e?.bandwidth&&(i+=e.bandwidth()/2),r?.bandwidth&&(o+=r.bandwidth()/2),(i||o)&&t.attr("transform",`translate(${i},${o})`)}function Ym(t,n){if((t=Zp(t))!==n)return t}function Vm(t,n){if((t=Gp(t))!==n)return t}const Xm=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function Zm(t){if(void 0===t)return"plot-d6a7b5";if(t=`${t}`,!Xm.test(t))throw new Error(`invalid class name: ${t}`);return t}function Gm(t,n){if("string"==typeof n)t.property("style",n);else if(null!=n)for(const e of t)Object.assign(e.style,n)}function Qm({frameAnchor:t},{width:n,height:e,marginTop:r,marginRight:i,marginBottom:o,marginLeft:a}){return[/left$/.test(t)?a:/right$/.test(t)?n-i:(a+n-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?e-o:(r+e-o)/2]}function Jm({filter:t,sort:n,reverse:e,transform:r,initializer:i,...o}={},a){if(void 0===r&&(null!=t&&(r=rv(t)),null==n||pg(n)||(r=tv(r,ov(n))),e&&(r=tv(r,iv))),null!=a&&null!=i)throw new Error("transforms cannot be applied after initializers");return{...o,...(null===n||pg(n))&&{sort:n},transform:tv(r,a)}}function Km({filter:t,sort:n,reverse:e,initializer:r,...i}={},o){return void 0===r&&(null!=t&&(r=rv(t)),null==n||pg(n)||(r=nv(r,ov(n))),e&&(r=nv(r,iv))),{...i,...(null===n||pg(n))&&{sort:n},initializer:nv(r,o)}}function tv(t,n){return null==t?null===n?void 0:n:null==n?null===t?void 0:t:function(e,r,i){return({data:e,facets:r}=t.call(this,e,r,i)),n.call(this,sg(e),r,i)}}function nv(t,n){return null==t?null===n?void 0:n:null==n?null===t?void 0:t:function(e,r,i,...o){let a,c,s,f,u,l;return({data:c=e,facets:s=r,channels:a}=t.call(this,e,r,i,...o)),({data:u=c,facets:l=s,channels:f}=n.call(this,c,s,{...i,...a},...o)),{data:u,facets:l,channels:{...a,...f}}}}function ev(t,n){return(null!=t.initializer?Km:Jm)(t,n)}function rv(t){return(n,e)=>{const r=Ip(n,t);return{data:n,facets:e.map(t=>t.filter(t=>r[t]))}}}function iv(t,n){return{data:t,facets:n.map(t=>t.slice().reverse())}}function ov(t){return("function"==typeof t&&1!==t.length?av:cv)(t)}function av(t){return(n,e)=>{const r=(e,r)=>t(n[e],n[r]);return{data:n,facets:e.map(t=>t.slice().sort(r))}}}function cv(t){let n,e;({channel:n,value:t,order:e}={...Eg(t)});const r=n?.startsWith("-");if(r&&(n=n.slice(1)),void 0===e&&(e=r?ap:op),"function"!=typeof e)switch(`${e}`.toLowerCase()){case"ascending":e=op;break;case"descending":e=ap;break;default:throw new Error(`invalid order: ${e}`)}return(r,i,o)=>{let a;if(void 0===n)a=Ip(r,t);else{if(void 0===o)throw new Error("channel sort requires an initializer");if(a=o[n],!a)return{};a=a.value}const c=(t,n)=>e(a[t],a[n]);return{data:r,facets:i.map(t=>t.slice().sort(c))}}}class sv{constructor(t,n={},e={},r){const{facet:i="auto",facetAnchor:o,fx:a,fy:c,sort:s,dx:f=0,dy:u=0,margin:l=0,marginTop:h=l,marginRight:d=l,marginBottom:p=l,marginLeft:g=l,clip:y=r?.clip,channels:b,tip:m,render:v}=e;if(this.data=t,this.sort=pg(s)?s:null,this.initializer=Km(e).initializer,this.transform=this.initializer?e.transform:Jm(e).transform,null===i||!1===i?this.facet=null:(this.facet=cg(!0===i?"include":i,"facet",["auto","include","exclude","super"]),this.fx=t===Wp&&"string"==typeof a?[a]:a,this.fy=t===Wp&&"string"==typeof c?[c]:c),this.facetAnchor=function(t){if(null==t)return null;const n=em.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid facet anchor: ${t}`)}(o),n=Wg(n),void 0!==b&&(n={...lv(b),...n}),void 0!==r&&(n={...Om(this,e,r),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([n,e])=>{if(dg(e.value)){const{value:t,label:n=e.label,scale:r=e.scale}=e.value;e={...e,label:n,scale:r,value:t}}if(t===Wp&&"string"==typeof e.value){const{value:t}=e;e={...e,value:[t]}}return[n,e]}).filter(([t,{value:n,optional:e}])=>{if(null!=n)return!0;if(e)return!1;throw new Error(`missing channel value: ${t}`)})),this.dx=+f,this.dy=+u,this.marginTop=+h,this.marginRight=+d,this.marginBottom=+p,this.marginLeft=+g,this.clip=Hg(y),this.tip=function(t){return!0===t?"xy":!1===t||null==t?null:"string"==typeof t?cg(t,"tip",["x","y","xy"]):t}(m),"super"===this.facet){if(a||c)throw new Error("super-faceting cannot use fx or fy");for(const t in this.channels){const{scale:e}=n[t];if("x"===e||"y"===e)throw new Error("super-faceting cannot use x or y")}}null!=v&&(this.render=uv(v,this.render))}initialize(t,n,e){let r=sg(this.data);void 0===t&&null!=r&&(t=[bg(r)]);const i=t;null!=this.transform&&(({facets:t,data:r}=this.transform(r,t,e)),r=sg(r)),void 0!==t&&(t.original=i);const o=function(t,n){return Object.fromEntries(Object.entries(t).map(([t,e])=>[t,Ay(n,e,t)]))}(this.channels,r);return null!=this.sort&&function(t,n,e,r,i){const{order:o,reverse:a,reduce:c=!0,limit:s}=i;for(const f in i){if(!Kg.has(f))continue;let{value:u,order:l=o,reverse:h=a,reduce:d=c,limit:p=s}=Eg(i[f]);const g=u?.startsWith("-");if(g&&(u=u.slice(1)),l=void 0===l?g!==("width"===u||"height"===u)?Oy:zy:Dy(l),null==d||!1===d)continue;const y="fx"===f||"fy"===f?Ny(n,r[f]):Ey(e,f);if(!y)throw new Error(`missing channel for scale: ${f}`);const b=y.value,[v=0,_=1/0]=Ng(p)?p:p<0?[p]:[0,p];if(null==u)y.domain=()=>{let t=Array.from(new m(b));return h&&(t=t.reverse()),0===v&&_===1/0||(t=t.slice(v,_)),t};else{const n="data"===u?t:"height"===u?Cy(e,"y1","y2"):"width"===u?Cy(e,"x1","x2"):Ly(e,u,"y"===u?"y2":"x"===u?"x2":void 0),r=hy(!0===d?"max":d,n);y.domain=()=>{let t=T(bg(b),t=>r.reduceIndex(t,n),t=>b[t]);return l&&t.sort(l),h&&t.reverse(),0===v&&_===1/0||(t=t.slice(v,_)),t.map(Qp)}}}}(r,t,o,n,this.sort),{data:r,facets:t,channels:o}}filter(t,n,e){for(const r in n){const{filter:i=ip}=n[r];if(null!==i){const n=e[r];t=t.filter(t=>i(n[t]))}}return t}project(t,n,e){for(const r in t)if("x"===t[r].scale&&/^x|x$/.test(r)){const i=r.replace(/^x|x$/,"y");i in t&&"y"===t[i].scale&&xm(r,i,n,e.projection)}}scale(t,n,e){const r=function(t,n){const e=Object.fromEntries(Object.entries(t).map(([t,{scale:e,value:r}])=>{const i=null==e?null:n[e];return[t,null==i?r:fg(r,i)]}));return e.channels=t,e}(t,n);return e.projection&&this.project(t,r,e),r}}function fv(...t){return t.plot=sv.prototype.plot,t}function uv(t,n){if(null==t)return null===n?void 0:n;if(null==n)return null===t?void 0:t;if("function"!=typeof t)throw new TypeError(`invalid render transform: ${t}`);if("function"!=typeof n)throw new TypeError(`invalid render transform: ${n}`);return function(e,r,i,o,a,c){return t.call(this,e,r,i,o,a,(t,e,r,i,o)=>n.call(this,t,e,r,i,o,c))}}function lv(t){return Object.fromEntries(Object.entries(Wg(t)).map(([t,n])=>(void 0===(n="string"==typeof n?{value:n,label:t}:Eg(n)).filter&&null==n.scale&&(n={...n,filter:null}),[t,n])))}function hv(t,n){return!0===t?.tip?{...t,tip:n}:lg(t?.tip)&&void 0===t.tip.pointer?{...t,tip:{...t.tip,pointer:n}}:t}function dv({x:t,y:n,fy:e,fx:r},{projection:i,aspectRatio:o},{width:a,marginTopDefault:c,marginRightDefault:s,marginBottomDefault:f,marginLeftDefault:u}){const l=e?e.scale.domain().length:1,h=function(t){if("function"==typeof t?.stream)return.618;if(lg(t)&&(t=t.type),null!=t){if("function"!=typeof t){const{aspectRatio:n}=ym(t);if(n)return n}return.618}}(i);if(h){const t=(1.1*l-.1)/(1.1*(r?r.scale.domain().length:1)-.1)*h,n=Math.max(.1,Math.min(10,t));return Math.round((a-u-s)*n+c+f)}const d=n?Vb(n)?n.scale.domain().length:Math.max(7,17/l):1;if(null!=o){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);const i=pv("y",n)/(pv("x",t)*o),l=r?r.scale.bandwidth():1,h=e?e.scale.bandwidth():1;return(i*(l*(a-u-s)-t.insetLeft-t.insetRight)+n.insetTop+n.insetBottom)/h+c+f}return!(!n&&!e)*Math.max(1,Math.min(60,d*l))*20+30*!!r+60}function pv(t,n){if(!n)throw new Error(`aspectRatio requires ${t} scale`);const{type:e,domain:r}=n;let i;switch(e){case"linear":case"utc":case"time":i=Number;break;case"pow":{const t=n.scale.exponent();i=n=>Math.pow(n,t);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${e}`)}const[o,a]=y(r);return Math.abs(i(a)-i(o))}const gv=new WeakMap;function yv(t,n,{x:e,y:r,px:i,py:o,maxRadius:a=40,channels:c,render:s,...f}={}){return a=+a,null!=i&&(e??=null,c={...c,px:{value:i,scale:"x"}}),null!=o&&(r??=null,c={...c,py:{value:o,scale:"y"}}),{x:e,y:r,channels:c,...f,render:uv(function(e,r,i,o,c,s){const f=(c={...c,pointerSticky:!1}).ownerSVGElement,{data:u}=c.getMarkState(this);let l=gv.get(f);l||gv.set(f,l={sticky:!1,roots:[],renders:[]});let h=l.renders.push(L)-1;const{x:d,y:p,fx:g,fy:y}=r;let b=g?g(e.fx)-o.marginLeft:0,m=y?y(e.fy)-o.marginTop:0;d?.bandwidth&&(b+=d.bandwidth()/2),p?.bandwidth&&(m+=p.bandwidth()/2);const v=null!=e.fi;let _;if(v){let t=l.facetStates;t||(l.facetStates=t=new Map),_=t.get(this),_||t.set(this,_=new Map)}const[x,w]=Qm(this,o),{px:k,py:M}=i,$=k?t=>k[t]:_v(i,x),T=M?t=>M[t]:xv(i,w);let A,S,E,N;function C(t,n){if(v){if(N&&(N=cancelAnimationFrame(N)),null!=t)return _.set(e.fi,n),void(N=requestAnimationFrame(()=>{N=null;for(const[r,i]of _)if(i<n||i===n&&r<e.fi){t=null;break}L(t)}));_.delete(e.fi)}L(t)}function L(t){if(A===t&&E===l.sticky)return;A=t,E=c.pointerSticky=l.sticky;const n=null==A?[]:[A];v&&(n.fx=e.fx,n.fy=e.fy,n.fi=e.fi);const a=s(n,r,i,o,c);if(S){if(v){const t=S.parentNode,n=S.getAttribute("transform"),e=a.getAttribute("transform");n?a.setAttribute("transform",n):a.removeAttribute("transform"),e?t.setAttribute("transform",e):t.removeAttribute("transform"),a.removeAttribute("aria-label"),a.removeAttribute("aria-description"),a.removeAttribute("aria-hidden")}S.replaceWith(a)}return l.roots[h]=S=a,null==A&&_?.size>1||c.dispatchValue(null==A?null:u[A]),a}function D(r){if(l.sticky||"mouse"===r.pointerType&&1===r.buttons)return;let[i,c]=function(t,n){if(t=function(t){let n;for(;n=t.sourceEvent;)t=n;return t}(t),void 0===n&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(n.getScreenCTM().inverse())).x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}(r);i-=b,c-=m;const s=i<o.marginLeft||i>o.width-o.marginRight?1:t,f=c<o.marginTop||c>o.height-o.marginBottom?1:n;let u=null,h=a*a;for(const t of e){const n=s*($(t)-i),e=f*(T(t)-c),r=n*n+e*e;r<=h&&(u=t,h=r)}if(null!=u&&(1!==t||1!==n)){const t=$(u)-i,n=T(u)-c;h=t*t+n*n}C(u,h)}return f.addEventListener("pointerenter",D),f.addEventListener("pointermove",D),f.addEventListener("pointerdown",function(t){"mouse"===t.pointerType&&null!=A&&(l.sticky&&l.roots.some(n=>n?.contains(t.target))||(l.sticky?(l.sticky=!1,l.renders.forEach(t=>t(null))):(l.sticky=!0,L(A)),t.stopImmediatePropagation()))}),f.addEventListener("pointerleave",function(t){"mouse"===t.pointerType&&(l.sticky||C(null))}),L(null)},s)}}function bv(t){return yv(1,1,t)}function mv(t){return yv(1,.01,t)}function vv(t){return yv(.01,1,t)}function _v({x1:t,x2:n,x:e=t},r){return t&&n?e=>(t[e]+n[e])/2:e?t=>e[t]:()=>r}function xv({y1:t,y2:n,y:e=t},r){return t&&n?e=>(t[e]+n[e])/2:e?t=>e[t]:()=>r}function wv(t){return Vb(t)&&void 0===t.interval?void 0:"tabular-nums"}function kv(t,n){let{label:e=t.label,tickSize:r=6,width:i=240,height:o=44+r,marginTop:a=18,marginRight:c=0,marginBottom:s=16+r,marginLeft:f=0,style:u,ticks:l=(i-f-c)/64,tickFormat:h,fontVariant:d=wv(t),round:p=!0,opacity:g,className:y}=n;const b=Mm(n);y=Zm(y),g=og(g)[1],null===h&&(h=()=>null);const m=$m("svg",b).attr("class",`${y}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",o).attr("viewBox",`0 0 ${i} ${o}`).call(t=>t.append("style").text(`:where(.${y}-ramp) {\n  display: block;\n  height: auto;\n  height: intrinsic;\n  max-width: 100%;\n  overflow: visible;\n}\n:where(.${y}-ramp text) {\n  white-space: pre;\n}`)).call(Gm,u);let v,_=t=>t.selectAll(".tick line").attr("y1",a+s-o);const x=p?(t,n)=>t.rangeRound(n):(t,n)=>t.range(n),{type:w,domain:k,range:M,interpolate:$,scale:T,pivot:A}=t;if($){const t=void 0===M?$:Dc(1===$.length?hb($):$,M);v=x(T.copy(),zc(ee(f,i-c),Math.min(k.length+(void 0!==A),void 0===M?1/0:M.length)));const n=256,e=b.document.createElement("canvas");e.width=n,e.height=1;const r=e.getContext("2d");for(let i=0,o=n-1;i<n;++i)r.fillStyle=t(i/o),r.fillRect(i,0,1,1);m.append("image").attr("opacity",g).attr("x",f).attr("y",a).attr("width",i-f-c).attr("height",o-a-s).attr("preserveAspectRatio","none").attr("xlink:href",e.toDataURL())}else if("threshold"===w){const t=k,n=void 0===h?t=>t:"string"==typeof h?Wr(h):h;v=x(as().domain([-1,M.length-1]),[f,i-c]),m.append("g").attr("fill-opacity",g).selectAll().data(M).enter().append("rect").attr("x",(t,n)=>v(n-1)).attr("y",a).attr("width",(t,n)=>v(n)-v(n-1)).attr("height",o-a-s).attr("fill",t=>t),l=fg(t,(t,n)=>n),h=e=>n(t[e],e)}else v=x(Yc().domain(k),[f,i-c]),m.append("g").attr("fill-opacity",g).selectAll().data(k).enter().append("rect").attr("x",v).attr("y",a).attr("width",Math.max(0,v.bandwidth()-1)).attr("height",o-a-s).attr("fill",T),_=()=>{};return m.append("g").attr("transform",`translate(0,${o-s})`).call(function(t){return lt(3,t)}(v).ticks(Array.isArray(l)?null:l,"string"==typeof h?h:void 0).tickFormat("function"==typeof h?h:void 0).tickSize(r).tickValues(Array.isArray(l)?l:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",Ym(d,"normal")).call(_).call(t=>t.select(".domain").remove()),void 0!==e&&m.append("text").attr("x",f).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(e),m.node()}const Mv=Math.PI/180;function $v(t,{marker:n,markerStart:e=n,markerMid:r=n,markerEnd:i=n}={}){t.markerStart=Tv(e),t.markerMid=Tv(r),t.markerEnd=Tv(i)}function Tv(t){if(null==t||!1===t)return null;if(!0===t)return Ev;if("function"==typeof t)return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return Av("auto");case"arrow-reverse":return Av("auto-start-reverse");case"dot":return Sv;case"circle":case"circle-fill":return Ev;case"circle-stroke":return Nv;case"tick":return Cv("auto");case"tick-x":return Cv(90);case"tick-y":return Cv(0)}throw new Error(`invalid marker: ${t}`)}function Av(t){return(n,e)=>$m("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",n).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(t=>t.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function Sv(t,n){return $m("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(t=>t.append("circle").attr("r",2.5)).node()}function Ev(t,n){return $m("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(t=>t.append("circle").attr("r",3)).node()}function Nv(t,n){return $m("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call(t=>t.append("circle").attr("r",3)).node()}function Cv(t){return(n,e)=>$m("svg:marker",e).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",n).call(t=>t.append("path").attr("d","M0,-3v6")).node()}let Lv=0;function Dv(t,n,{stroke:e},r){return Ov(t,n,e&&(t=>e[t]),r)}function zv(t,n,{stroke:e},r){return Ov(t,n,e&&(([t])=>e[t]),r)}function Ov(t,{markerStart:n,markerMid:e,markerEnd:r,stroke:i},o=()=>i,a){const c=new Map;function s(t){return function(n){const e=o(n);let r=c.get(t);r||c.set(t,r=new Map);let i=r.get(e);if(!i){const n=this.parentNode.insertBefore(t(e,a),this),o="plot-marker-"+ ++Lv;n.setAttribute("id",o),r.set(e,i=`url(#${o})`)}return i}}n&&t.attr("marker-start",s(n)),e&&t.attr("marker-mid",s(e)),r&&t.attr("marker-end",s(r))}function Fv({inset:t,insetLeft:n,insetRight:e,...r}={}){return[n,e]=Rv(t,n,e),{inset:t,insetLeft:n,insetRight:e,...r}}function jv({inset:t,insetTop:n,insetBottom:e,...r}={}){return[n,e]=Rv(t,n,e),{inset:t,insetTop:n,insetBottom:e,...r}}function Rv(t,n,e){return void 0===t&&void 0===n&&void 0===e?Lm?[1,0]:[.5,.5]:[n,e]}function Pv(t,{interval:n}){return(t={...Eg(t)}).interval=Tg(void 0===t.interval?n:t.interval),t}function Uv(t,n,e,r){const{[t]:i,[`${t}1`]:o,[`${t}2`]:a}=e,{value:c,interval:s}=Pv(i,e);if(null==c||null==s&&!r)return e;const f=kg(i);if(null==s){let n;const i={transform:t=>n||(n=Ip(t,c)),label:f};return{...e,[t]:void 0,[`${t}1`]:void 0===o?i:o,[`${t}2`]:void 0!==a||o===a&&r?a:i}}let u,l;function h(t){return void 0!==l&&t===u?l:l=fg(Ip(u=t,c),t=>s.floor(t))}return n({...e,[t]:void 0,[`${t}1`]:void 0===o?{transform:h,label:f}:o,[`${t}2`]:void 0===a?{transform:t=>h(t).map(t=>s.offset(t)),label:f}:a})}function Iv(t,n,e){const{[t]:r}=e,{value:i,interval:o}=Pv(r,e);return null==i||null==o?e:n({...e,[t]:{label:kg(r),transform:t=>{const n=fg(Ip(t,i),t=>o.floor(t)),e=n.map(t=>o.offset(t));return n.map(Dg(n)?(t,n)=>null==t||isNaN(t=+t)||null==(n=e[n])||isNaN(n=+n)?void 0:new Date((t+n)/2):(t,n)=>null==t||null==(n=e[n])?NaN:(+t+ +n)/2)}}})}const qv={ariaLabel:"rule",fill:null,stroke:"currentColor"};class Bv extends sv{constructor(t,n={}){const{x:e,y1:r,y2:i,inset:o=0,insetTop:a=o,insetBottom:c=o}=n;super(t,{x:{value:e,scale:"x",optional:!0},y1:{value:r,scale:"y",optional:!0},y2:{value:i,scale:"y",optional:!0}},hv(n,"x"),qv),this.insetTop=Gp(a),this.insetBottom=Gp(c),$v(this,n)}render(t,n,e,r,i){const{x:o,y:a}=n,{x:c,y1:s,y2:f}=e,{width:u,height:l,marginTop:h,marginRight:d,marginLeft:p,marginBottom:g}=r,{insetTop:y,insetBottom:b}=this;return $m("svg:g",i).call(Im,this,r,i).call(Hm,this,{x:c&&o},Lm,0).call(n=>n.selectAll().data(t).enter().append("line").call(qm,this).attr("x1",c?t=>c[t]:(p+u-d)/2).attr("x2",c?t=>c[t]:(p+u-d)/2).attr("y1",s&&!Zb(a)?t=>s[t]+y:h+y).attr("y2",f&&!Zb(a)?a.bandwidth?t=>f[t]+a.bandwidth()-b:t=>f[t]-b:l-g-b).call(Rm,this,e).call(Dv,this,e,i)).node()}}class Wv extends sv{constructor(t,n={}){const{x1:e,x2:r,y:i,inset:o=0,insetRight:a=o,insetLeft:c=o}=n;super(t,{y:{value:i,scale:"y",optional:!0},x1:{value:e,scale:"x",optional:!0},x2:{value:r,scale:"x",optional:!0}},hv(n,"y"),qv),this.insetRight=Gp(a),this.insetLeft=Gp(c),$v(this,n)}render(t,n,e,r,i){const{x:o,y:a}=n,{y:c,x1:s,x2:f}=e,{width:u,height:l,marginTop:h,marginRight:d,marginLeft:p,marginBottom:g}=r,{insetLeft:y,insetRight:b}=this;return $m("svg:g",i).call(Im,this,r,i).call(Hm,this,{y:c&&a},0,Lm).call(n=>n.selectAll().data(t).enter().append("line").call(qm,this).attr("x1",s&&!Zb(o)?t=>s[t]+y:p+y).attr("x2",f&&!Zb(o)?o.bandwidth?t=>f[t]+o.bandwidth()-b:t=>f[t]-b:u-d-b).attr("y1",c?t=>c[t]:(h+l-g)/2).attr("y2",c?t=>c[t]:(h+l-g)/2).call(Rm,this,e).call(Dv,this,e,i)).node()}}function Hv(t,n){let{x:e=Vp,y:r,y1:i,y2:o,...a}=function(t={}){return Uv("y",jv,t)}(n);return[i,o]=Vv(r,i,o),new Bv(t,{...a,x:e,y1:i,y2:o})}function Yv(t,n){let{y:e=Vp,x:r,x1:i,x2:o,...a}=function(t={}){return Uv("x",Fv,t)}(n);return[i,o]=Vv(r,i,o),new Wv(t,{...a,y:e,x1:i,x2:o})}function Vv(t,n,e){if(null==t){if(void 0===n){if(void 0!==e)return[0,e]}else if(void 0===e)return[0,n]}else{if(void 0===n)return void 0===e?[0,t]:[t,e];if(void 0===e)return[t,n]}return[n,e]}function Xv(t,...n){let e=n.length;for(let r=0,i=!0;r<e;++r)"function"!=typeof n[r]&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+n[r]+t[r+1]),n.splice(r,1),--r,--e);return r=>{let i=t[0];for(let o=0;o<e;++o)i+=n[o](r)+t[o+1];return i}}const Zv={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"};class Gv extends sv{constructor(t,n={}){const{x:e,y:r,text:i=(Ng(t)&&Cg(t)?Vp:Yp),frameAnchor:o,textAnchor:a=(/right$/i.test(o)?"end":/left$/i.test(o)?"start":"middle"),lineAnchor:c=(/^top/i.test(o)?"top":/^bottom/i.test(o)?"bottom":"middle"),lineHeight:s=1,lineWidth:f=1/0,textOverflow:u,monospace:l,fontFamily:h=(l?"ui-monospace, monospace":void 0),fontSize:d,fontStyle:p,fontVariant:g,fontWeight:y,rotate:b}=n,[m,v]=og(b,0),[_,x]=function(t){return null==t||"number"==typeof t?[void 0,t]:"string"!=typeof t?[t,void 0]:(t=t.trim().toLowerCase(),r_.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}(d);var w;if(super(t,{x:{value:e,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},fontSize:{value:_,optional:!0},rotate:{value:(w=m,null==w?null:{transform:t=>Ip(t,w,Float64Array),label:kg(w)}),optional:!0},text:{value:i,filter:cp,optional:!0}},n,Zv),this.rotate=v,this.textAnchor=Ym(a,"middle"),this.lineAnchor=cg(c,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+s,this.lineWidth=+f,this.textOverflow=Qv(u),this.monospace=!!l,this.fontFamily=Zp(h),this.fontSize=x,this.fontStyle=Zp(p),this.fontVariant=Zp(g),this.fontWeight=Zp(y),this.frameAnchor=Bg(o),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${f}`);this.splitLines=s_(this),this.clipLine=f_(this)}render(t,n,e,r,i){const{x:o,y:a}=n,{x:c,y:s,rotate:f,text:u,title:l,fontSize:h}=e,{rotate:d}=this,[p,g]=Qm(this,r);return $m("svg:g",i).call(Im,this,r,i).call(e_,this,u,r).call(Hm,this,{x:c&&o,y:s&&a}).call(n=>n.selectAll().data(t).enter().append("text").call(qm,this).call(Jv,this,u,l).attr("transform",Xv`translate(${c?t=>c[t]:p},${s?t=>s[t]:g})${f?t=>` rotate(${f[t]})`:d?` rotate(${d})`:""}`).call(Wm,"font-size",h&&(t=>h[t])).call(Rm,this,e)).node()}}function Qv(t){return null==t?null:cg(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function Jv(t,n,e,r){if(!e)return;const{lineAnchor:i,lineHeight:o,textOverflow:a,splitLines:c,clipLine:s}=n;t.each(function(t){const n=c(Cm(e[t])??"").map(s),f=n.length,u="top"===i?.71:"bottom"===i?1-f:(164-100*f)/200;if(f>1){let t=0;for(let e=0;e<f;++e){if(++t,!n[e])continue;const r=this.ownerDocument.createElementNS(Ct.svg,"tspan");r.setAttribute("x",0),e===t-1?r.setAttribute("y",(u+e)*o+"em"):r.setAttribute("dy",t*o+"em"),r.textContent=n[e],this.appendChild(r),t=0}}else u&&this.setAttribute("y",u*o+"em"),this.textContent=n[0];if(a&&!r&&n[0]!==e[t]){const n=this.ownerDocument.createElementNS(Ct.svg,"title");n.textContent=e[t],this.appendChild(n)}})}function Kv(t,{x:n,y:e,...r}={}){return void 0===r.frameAnchor&&([n,e]=gg(n,e)),new Gv(t,{...r,x:n,y:e})}function t_(t,{x:n=Vp,...e}={}){return new Gv(t,function(t={}){return Iv("y",jv,t)}({...e,x:n}))}function n_(t,{y:n=Vp,...e}={}){return new Gv(t,function(t={}){return Iv("x",Fv,t)}({...e,y:n}))}function e_(t,n,e){Wm(t,"text-anchor",n.textAnchor),Wm(t,"font-family",n.fontFamily),Wm(t,"font-size",n.fontSize),Wm(t,"font-style",n.fontStyle),Wm(t,"font-variant",void 0===n.fontVariant?function(t){return t&&(function(t){for(const n of t)if(null!=n)return"number"==typeof n}(t)||Dg(t))?"tabular-nums":void 0}(e):n.fontVariant),Wm(t,"font-weight",n.fontWeight)}const r_=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function i_(t,n,e){const r=[];let i,o=0;for(const[a,c,s]of function*(t){let n=0,e=0;const r=t.length;for(;e<r;){let r=1;switch(t[e]){case"":case"-":++e,yield[n,e,!1],n=e;break;case" ":for(yield[n,e,!1];" "===t[++e];);n=e;break;case"\r":"\n"===t[e+1]&&++r;case"\n":yield[n,e,!0],e+=r,n=e;break;default:++e}}yield[n,e,!0]}(t))void 0===i&&(i=a),o>i&&e(t,i,c)>n&&(r.push(t.slice(i,o)+(""===t[o-1]?"-":"")),i=a),s?(r.push(t.slice(i,c)),i=void 0):o=c;return r}const o_={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"":31,"":31,"":47,"":47,"":82};function a_(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=y_(t,i))r+=o_[t[i]]??(m_(t,i)?120:o_.e);return r}function c_(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=y_(t,i))r+=m_(t,i)?126:63;return r}function s_({monospace:t,lineWidth:n,textOverflow:e}){if(null!=e||n==1/0)return t=>t.split(/\r\n?|\n/g);const r=t?c_:a_,i=100*n;return t=>i_(t,i,r)}function f_({monospace:t,lineWidth:n,textOverflow:e}){if(null==e||n==1/0)return t=>t;const r=t?c_:a_,i=100*n;switch(e){case"clip-start":return t=>d_(t,i,r,"");case"clip-end":return t=>h_(t,i,r,"");case"ellipsis-start":return t=>d_(t,i,r,u_);case"ellipsis-middle":return t=>function(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const o=e(r)/2,[a,c]=l_(t,n/2,e,o),[s]=l_(t,i-n/2-c+o,e,-o);return s<0?r:t.slice(0,a).trimEnd()+r+t.slice(y_(t,s)).trimStart()}(t,i,r,u_);case"ellipsis-end":return t=>h_(t,i,r,u_)}}const u_="";function l_(t,n,e,r){const i=[];let o=0;for(let a=0,c=0,s=t.length;a<s;a=c){c=y_(t,a);const s=e(t,a,c);if(o+s>n){for(o+=r;o>n&&a>0;)c=a,a=i.pop(),o-=e(t,a,c);return[a,n-o]}o+=s,i.push(a)}return[-1,0]}function h_(t,n,e,r){t=t.trim();const i=e(r),[o]=l_(t,n,e,i);return o<0?t:t.slice(0,o).trimEnd()+r}function d_(t,n,e,r){const i=e(t=t.trim());if(i<=n)return t;const o=e(r),[a]=l_(t,i-n+o,e,-o);return a<0?r:r+t.slice(y_(t,a)).trimStart()}const p_=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,g_=/\p{Extended_Pictographic}/uy;function y_(t,n){return n+=function(t,n){const e=t.charCodeAt(n);if(e>=55296&&e<56320){const e=t.charCodeAt(n+1);return e>=56320&&e<57344}return!1}(t,n)?2:1,function(t,n){return!b_(t,n)&&(p_.lastIndex=n,p_.test(t))}(t,n)&&(n=p_.lastIndex),function(t,n){return 8205===t.charCodeAt(n)}(t,n)?y_(t,n+1):n}function b_(t,n){return t.charCodeAt(n)<128}function m_(t,n){return!b_(t,n)&&(g_.lastIndex=n,g_.test(t))}const v_={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},__=3.5,x_=5*__,w_={draw(t,n,e){const r=n*e/x_;t.moveTo(0,0),t.lineTo(0,-n),t.moveTo(-r,r-n),t.lineTo(0,-n),t.lineTo(r,r-n)}},k_={draw(t,n,e){t.moveTo(-e,0),t.lineTo(0,-n),t.lineTo(e,0)}},M_=new Map([["arrow",w_],["spike",k_]]);class $_ extends sv{constructor(t,n={}){const{x:e,y:r,r:i=__,length:o,rotate:a,shape:c=w_,anchor:s="middle",frameAnchor:f}=n,[u,l]=og(o,12),[h,d]=og(a,0);super(t,{x:{value:e,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},length:{value:u,scale:"length",optional:!0},rotate:{value:h,optional:!0}},n,v_),this.r=+i,this.length=l,this.rotate=d,this.shape=function(t){if(function(t){return t&&"function"==typeof t.draw}(t))return t;const n=M_.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid shape: ${t}`)}(c),this.anchor=cg(s,"anchor",["start","middle","end"]),this.frameAnchor=Bg(f)}render(t,n,e,r,i){const{x:o,y:a}=n,{x:c,y:s,length:f,rotate:u}=e,{length:l,rotate:h,anchor:d,shape:p,r:g}=this,[y,b]=Qm(this,r);return $m("svg:g",i).call(Im,this,r,i).call(Hm,this,{x:c&&o,y:s&&a}).call(n=>n.selectAll().data(t).enter().append("path").call(qm,this).attr("transform",Xv`translate(${c?t=>c[t]:y},${s?t=>s[t]:b})${u?t=>` rotate(${u[t]})`:h?` rotate(${h})`:""}${"start"===d?"":"end"===d?f?t=>` translate(0,${f[t]})`:` translate(0,${l})`:f?t=>` translate(0,${f[t]/2})`:` translate(0,${l/2})`}`).attr("d",f?t=>{const n=Ic();return p.draw(n,f[t],g),n}:(()=>{const t=Ic();return p.draw(t,l,g),t})()).call(Rm,this,e)).node()}}function T_(t,n={}){const{x:e=Vp,...r}=n;return new $_(t,{...r,x:e})}function A_(t,n={}){const{y:e=Vp,...r}=n;return new $_(t,{...r,y:e})}function S_(t,n){return arguments.length<2&&!Ng(t)&&(n=t,t=null),void 0===n&&(n={}),[t,n]}function E_({anchor:t}={},n){return void 0===t?n[0]:cg(t,"anchor",n)}function N_(t){return E_(t,["left","right"])}function C_(t){return E_(t,["right","left"])}function L_(t){return E_(t,["bottom","top"])}function D_(t){return E_(t,["top","bottom"])}function z_(){const[t,n]=S_(...arguments);return R_("y",N_(n),t,n)}function O_(){const[t,n]=S_(...arguments);return R_("fy",C_(n),t,n)}function F_(){const[t,n]=S_(...arguments);return P_("x",L_(n),t,n)}function j_(){const[t,n]=S_(...arguments);return P_("fx",D_(n),t,n)}function R_(t,n,e,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:c=1,fill:s=r,fillOpacity:f=i,textAnchor:u,textStroke:l,textStrokeOpacity:h,textStrokeWidth:d,tickSize:p=("y"===t?6:0),tickPadding:g,tickRotate:y,x:b,margin:m,marginTop:v=(void 0===m?20:m),marginRight:_=(void 0===m?"right"===n?40:0:m),marginBottom:x=(void 0===m?20:m),marginLeft:w=(void 0===m?"left"===n?40:0:m),label:k,labelAnchor:M,labelArrow:$,labelOffset:T,...A}){return p=Gp(p),g=Gp(g),y=Gp(y),void 0!==M&&(M=cg(M,"labelAnchor",["center","top","bottom"])),$=ix($),fv(p&&!Ug(o)?function(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=n+("y"===t?"-empty":""),frameAnchor:c=n,tickSize:s,inset:f=0,insetLeft:u=f,insetRight:l=f,dx:h=0,y:d=("y"===t?void 0:null),...p}){return X_(A_,t,e,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:o,facetAnchor:a,frameAnchor:c,y:d,...p,dx:"left"===n?+h-Lm+ +u:+h+Lm-l,anchor:"start",length:s,shape:"left"===n?tx:nx})}(t,n,e,{stroke:o,strokeOpacity:a,strokeWidth:c,tickSize:p,tickPadding:g,tickRotate:y,x:b,...A}):null,Ug(s)?null:function(t,n,e,{facetAnchor:r=n+("y"===t?"-empty":""),frameAnchor:i=n,tickSize:o,tickRotate:a=0,tickPadding:c=Math.max(3,9-o)+(Math.abs(a)>60?4*Math.cos(a*Mv):0),text:s,textAnchor:f=(Math.abs(a)>60?"middle":"left"===n?"end":"start"),lineAnchor:u=(a>60?"top":a<-60?"bottom":"middle"),fontVariant:l,inset:h=0,insetLeft:d=h,insetRight:p=h,dx:g=0,y:y=("y"===t?void 0:null),...b}){return X_(n_,t,e,{ariaLabel:`${t}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:s,textAnchor:f,lineAnchor:u,fontVariant:l,rotate:a,y:y,...b,dx:"left"===n?+g-o-c+ +d:+g+ +o+ +c-p},function(t,e,r,i,o){void 0===l&&(this.fontVariant=ex(t)),void 0===s&&(o.text=Z_(t,e,r,i,n))})}(t,n,e,{fill:s,fillOpacity:f,stroke:l,strokeOpacity:h,strokeWidth:d,textAnchor:u,tickSize:p,tickPadding:g,tickRotate:y,x:b,marginTop:v,marginRight:_,marginBottom:x,marginLeft:w,...A}),Ug(s)||null===k?null:Kv([],V_({fill:s,fillOpacity:f,...A},function(e,r,i,o,a){const c=o[t],{marginTop:s,marginRight:f,marginBottom:u,marginLeft:l}="y"===t&&a.inset||a,h=M??(c.bandwidth?"center":"top"),d=T??("right"===n?f:l)-3;return"center"===h?(this.textAnchor=void 0,this.lineAnchor="right"===n?"bottom":"top",this.frameAnchor=n,this.rotate=-90):(this.textAnchor="right"===n?"end":"start",this.lineAnchor=h,this.frameAnchor=`${h}-${n}`,this.rotate=0),this.dy="top"===h?3-s:"bottom"===h?u-3:0,this.dx="right"===n?d:-d,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[rx(t,c,{anchor:n,label:k,labelAnchor:h,labelArrow:$})]}}}})))}function P_(t,n,e,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:c=1,fill:s=r,fillOpacity:f=i,textAnchor:u,textStroke:l,textStrokeOpacity:h,textStrokeWidth:d,tickSize:p=("x"===t?6:0),tickPadding:g,tickRotate:y,y:b,margin:m,marginTop:v=(void 0===m?"top"===n?30:0:m),marginRight:_=(void 0===m?20:m),marginBottom:x=(void 0===m?"bottom"===n?30:0:m),marginLeft:w=(void 0===m?20:m),label:k,labelAnchor:M,labelArrow:$,labelOffset:T,...A}){return p=Gp(p),g=Gp(g),y=Gp(y),void 0!==M&&(M=cg(M,"labelAnchor",["center","left","right"])),$=ix($),fv(p&&!Ug(o)?function(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=n+("x"===t?"-empty":""),frameAnchor:c=n,tickSize:s,inset:f=0,insetTop:u=f,insetBottom:l=f,dy:h=0,x:d=("x"===t?void 0:null),...p}){return X_(T_,t,e,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:o,strokeLinecap:i,facetAnchor:a,frameAnchor:c,x:d,...p,dy:"bottom"===n?+h-Lm-l:+h+Lm+ +u,anchor:"start",length:s,shape:"bottom"===n?J_:K_})}(t,n,e,{stroke:o,strokeOpacity:a,strokeWidth:c,tickSize:p,tickPadding:g,tickRotate:y,y:b,...A}):null,Ug(s)?null:function(t,n,e,{facetAnchor:r=n+("x"===t?"-empty":""),frameAnchor:i=n,tickSize:o,tickRotate:a=0,tickPadding:c=Math.max(3,9-o)+(Math.abs(a)>=10?4*Math.cos(a*Mv):0),text:s,textAnchor:f=(Math.abs(a)>=10?a<0^"bottom"===n?"start":"end":"middle"),lineAnchor:u=(Math.abs(a)>=10?"middle":"bottom"===n?"top":"bottom"),fontVariant:l,inset:h=0,insetTop:d=h,insetBottom:p=h,dy:g=0,x:y=("x"===t?void 0:null),...b}){return X_(t_,t,e,{ariaLabel:`${t}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:void 0===s?null:s,textAnchor:f,lineAnchor:u,fontVariant:l,rotate:a,x:y,...b,dy:"bottom"===n?+g+ +o+ +c-p:+g-o-c+ +d},function(t,e,r,i,o){void 0===l&&(this.fontVariant=ex(t)),void 0===s&&(o.text=Z_(t,e,r,i,n))})}(t,n,e,{fill:s,fillOpacity:f,stroke:l,strokeOpacity:h,strokeWidth:d,textAnchor:u,tickSize:p,tickPadding:g,tickRotate:y,y:b,marginTop:v,marginRight:_,marginBottom:x,marginLeft:w,...A}),Ug(s)||null===k?null:Kv([],V_({fill:s,fillOpacity:f,...A},function(e,r,i,o,a){const c=o[t],{marginTop:s,marginRight:f,marginBottom:u,marginLeft:l}="x"===t&&a.inset||a,h=M??(c.bandwidth?"center":"right"),d=T??("top"===n?s:u)-3;return"center"===h?(this.frameAnchor=n,this.textAnchor=void 0):(this.frameAnchor=`${n}-${h}`,this.textAnchor="right"===h?"end":"start"),this.lineAnchor=n,this.dy="top"===n?-d:d,this.dx="right"===h?f-3:"left"===h?3-l:0,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[rx(t,c,{anchor:n,label:k,labelAnchor:h,labelArrow:$})]}}}})))}function U_(){const[t,n]=S_(...arguments);return W_("y",N_(n),t,n)}function I_(){const[t,n]=S_(...arguments);return W_("fy",C_(n),t,n)}function q_(){const[t,n]=S_(...arguments);return H_("x",L_(n),t,n)}function B_(){const[t,n]=S_(...arguments);return H_("fx",D_(n),t,n)}function W_(t,n,e,{y:r=("y"===t?void 0:null),x:i=null,x1:o=("left"===n?i:null),x2:a=("right"===n?i:null),...c}){return X_(Yv,t,e,{ariaLabel:`${t}-grid`,ariaHidden:!0},{y:r,x1:o,x2:a,...Y_(c)})}function H_(t,n,e,{x:r=("x"===t?void 0:null),y:i=null,y1:o=("top"===n?i:null),y2:a=("bottom"===n?i:null),...c}){return X_(Hv,t,e,{ariaLabel:`${t}-grid`,ariaHidden:!0},{x:r,y1:o,y2:a,...Y_(c)})}function Y_({color:t="currentColor",opacity:n=.1,stroke:e=t,strokeOpacity:r=n,strokeWidth:i=1,...o}){return{stroke:e,strokeOpacity:r,strokeWidth:i,...o}}function V_({fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:c,pointerEvents:s,shapeRendering:f,clip:u=!1},l){return[,t]=ig(t),[,n]=og(n),{facet:"super",x:null,y:null,fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:c,pointerEvents:s,shapeRendering:f,clip:u,initializer:l}}function X_(t,n,e,r,i,o){let a;const c=Km(i).initializer,s=t(e,Km({...i,initializer:function(t,e,r,c,s,f){const u=null==t&&("fx"===n||"fy"===n),{[n]:l}=c;if(!l)throw new Error(`missing scale: ${n}`);const h=l.domain();let{interval:d,ticks:p,tickFormat:g,tickSpacing:b=("x"===n?80:35)}=i;if("string"==typeof p&&ox(l)&&(d=p,p=void 0),void 0===p&&(p=Ag(d,l.type)??function(t,n){const[e,r]=y(t.range());return(r-e)/n}(l,b)),null==t){if(Ng(p))t=sg(p);else if(Sg(p))t=Q_(p,...y(h));else if(l.interval){let n=l.interval;if(l.ticks){const[e,r]=y(h);n=zp(n,(r-e)/n[$p]/p)??n,t=Q_(n,e,r)}else{n=zp(n,(t=h).length/p)??n,n!==l.interval&&(t=Q_(n,...y(t)))}if(n===l.interval){const n=Math.round(t.length/p);n>1&&(t=t.filter((t,e)=>e%n===0))}}else t=l.ticks?l.ticks(p):h;if(!l.ticks&&t.length&&t!==h){const e=new m(h);(t=t.filter(t=>e.has(t))).length||gb(`Warning: the ${n}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}"y"===n||"x"===n?e=[bg(t)]:a[n]={scale:n,value:Vp}}o?.call(this,l,t,p,g,a);const v=Object.fromEntries(Object.entries(a).map(([n,e])=>[n,{...e,value:Ip(t,e.value)}]));return u&&(e=f.filterFacets(t,v)),{data:t,facets:e,channels:v}}},c));return null==e?(a=s.channels,s.channels={}):a={},void 0!==r&&Object.assign(s,r),void 0===s.clip&&(s.clip=!1),s}function Z_(t,n,e,r,i){return{value:G_(t,n,e,r,i)}}function G_(t,n,e,r,i){return"function"!=typeof r||"log"===t.type&&t.tickFormat?void 0===r&&n&&Dg(n)?Fp(t.type,n,i)??Cm:t.tickFormat?t.tickFormat("number"==typeof e?e:null,r):void 0===r?Cm:"string"==typeof r?(Dg(t.domain())?Mf:Wr)(r):Kp(r):r}function Q_(t,n,e){return t.range(n,t.offset(t.floor(e)))}const J_={draw(t,n){t.moveTo(0,0),t.lineTo(0,n)}},K_={draw(t,n){t.moveTo(0,0),t.lineTo(0,-n)}},tx={draw(t,n){t.moveTo(0,0),t.lineTo(-n,0)}},nx={draw(t,n){t.moveTo(0,0),t.lineTo(n,0)}};function ex(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function rx(t,n,{anchor:e,label:r=n.label,labelAnchor:i,labelArrow:o}={}){if(!(null==r||r.inferred&&ox(n)&&/^(date|time|year)$/i.test(r))){if(r=String(r),"auto"===o&&(o=(!n.bandwidth||n.interval)&&!/[]/.test(r)),!o)return r;if(!0===o){const e=function(t){return Math.sign(dp(t.domain()))*Math.sign(dp(t.range()))}(n);e&&(o=/x$/.test(t)||"center"===i?/x$/.test(t)===e<0?"left":"right":e<0?"up":"down")}switch(o){case"left":return` ${r}`;case"right":return`${r} `;case"up":return"right"===e?`${r} `:` ${r}`;case"down":return"right"===e?`${r} `:` ${r}`}return r}}function ix(t="auto"){return!Ug(t)&&("boolean"==typeof t?t:cg(t,"labelArrow",["auto","up","right","down","left"]))}function ox(t){return Dg(t.domain())}function ax(t,n){if(null==n)return n;const e=t(n);if(!e)throw new Error(`scale not found: ${n}`);return e}function cx(t,n={},e){let{columns:r,tickFormat:i,fontVariant:o=wv(t),swatchSize:a=15,swatchWidth:c=a,swatchHeight:s=a,marginLeft:f=0,className:u,style:l,width:h}=n;const d=Mm(n);u=Zm(u),i=G_(t.scale,t.domain,void 0,i);const p=$m("div",d).attr("class",`${u}-swatches ${u}-swatches-${null!=r?"columns":"wrap"}`);let g;return null!=r?(g=`:where(.${u}-swatches-columns .${u}-swatch) {\n  display: flex;\n  align-items: center;\n  break-inside: avoid;\n  padding-bottom: 1px;\n}\n:where(.${u}-swatches-columns .${u}-swatch::before) {\n  flex-shrink: 0;\n}\n:where(.${u}-swatches-columns .${u}-swatch-label) {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}`,p.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${u}-swatch`).call(e,t,c,s).call(t=>t.append("div").attr("class",`${u}-swatch-label`).attr("title",i).text(i))):(g=`:where(.${u}-swatches-wrap) {\n  display: flex;\n  align-items: center;\n  min-height: 33px;\n  flex-wrap: wrap;\n}\n:where(.${u}-swatches-wrap .${u}-swatch) {\n  display: inline-flex;\n  align-items: center;\n  margin-right: 1em;\n}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${u}-swatch`).call(e,t,c,s).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(t=>t.insert("style","*").text(`:where(.${u}-swatches) {\n  font-family: system-ui, sans-serif;\n  font-size: 10px;\n  margin-bottom: 0.5em;\n}\n:where(.${u}-swatch > svg) {\n  margin-right: 0.5em;\n  overflow: visible;\n}\n${g}`)).style("margin-left",f?+f+"px":null).style("width",void 0===h?null:+h+"px").style("font-variant",Ym(o,"normal")).call(Gm,l).node()}const sx=new Map([["symbol",function(t,{fill:n=(void 0!==t.hint?.fill?t.hint.fill:"none"),fillOpacity:e=1,stroke:r=(void 0!==t.hint?.stroke?t.hint.stroke:Ug(n)?"currentColor":"none"),strokeOpacity:i=1,strokeWidth:o=1.5,r:a=4.5,...c}={},s){const[f,u]=ig(n),[l,h]=ig(r),d=ax(s,f),p=ax(s,l),g=a*a*Math.PI;return e=og(e)[1],i=og(i)[1],o=og(o)[1],cx(t,c,(n,r,a,c)=>n.append("svg").attr("viewBox","-8 -8 16 16").attr("width",a).attr("height",c).attr("fill","color"===f?t=>d.scale(t):u).attr("fill-opacity",e).attr("stroke","color"===l?t=>p.scale(t):h).attr("stroke-opacity",i).attr("stroke-width",o).append("path").attr("d",n=>{const e=Ic();return t.scale(n).draw(e,g),e}))}],["color",ux],["opacity",function({type:t,interpolate:n,...e},{legend:r=!0,color:i=Oe(0,0,0),...o}){if(!n)throw new Error(`${t} opacity scales are not supported`);!0===r&&(r="ramp");if("ramp"!==`${r}`.toLowerCase())throw new Error(`${r} opacity legends are not supported`);return ux({type:t,...e,interpolate:lx(i)},{legend:r,...o})}]]);function fx({className:t,...n},{label:e,ticks:r,tickFormat:i}={},o){return function(t={},...n){let e=t;for(const r of n)for(const n in r)if(void 0===e[n]){const i=r[n];e===t?e={...e,[n]:i}:e[n]=i}return e}(o,{className:t,...n},{label:e,ticks:r,tickFormat:i})}function ux(t,{legend:n=!0,...e}){if(!0===n&&(n="ordinal"===t.type?"swatches":"ramp"),void 0!==t.domain)switch(`${n}`.toLowerCase()){case"swatches":return function(t,{opacity:n,...e}={}){if(!Vb(t)&&!Xb(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return cx(t,e,(t,e,r,i)=>t.append("svg").attr("width",r).attr("height",i).attr("fill",e.scale).attr("fill-opacity",og(n)[1]).append("rect").attr("width","100%").attr("height","100%"))}(t,e);case"ramp":return kv(t,e);default:throw new Error(`unknown legend type: ${n}`)}}function lx(t){const{r:n,g:e,b:r}=Oe(t)||Oe(0,0,0);return t=>`rgba(${n},${e},${r},${t})`}const hx={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},dx={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class px extends sv{constructor(t={}){const{anchor:n=null,inset:e=0,insetTop:r=e,insetRight:i=e,insetBottom:o=e,insetLeft:a=e,rx:c,ry:s}=t;super(Wp,void 0,t,null==n?hx:dx),this.anchor=ag(n,"anchor",["top","right","bottom","left"]),this.insetTop=Gp(r),this.insetRight=Gp(i),this.insetBottom=Gp(o),this.insetLeft=Gp(a),this.rx=Gp(c),this.ry=Gp(s)}render(t,n,e,r,i){const{marginTop:o,marginRight:a,marginBottom:c,marginLeft:s,width:f,height:u}=r,{anchor:l,insetTop:h,insetRight:d,insetBottom:p,insetLeft:g,rx:y,ry:b}=this,m=s+g,v=f-a-d,_=o+h,x=u-c-p;return $m(l?"svg:line":"svg:rect",i).datum(0).call(Im,this,r,i).call(qm,this).call(Rm,this,e).call(Hm,this,{}).call("left"===l?t=>t.attr("x1",m).attr("x2",m).attr("y1",_).attr("y2",x):"right"===l?t=>t.attr("x1",v).attr("x2",v).attr("y1",_).attr("y2",x):"top"===l?t=>t.attr("x1",m).attr("x2",v).attr("y1",_).attr("y2",_):"bottom"===l?t=>t.attr("x1",m).attr("x2",v).attr("y1",x).attr("y2",x):t=>t.attr("x",m).attr("y",_).attr("width",v-m).attr("height",x-_).attr("rx",y).attr("ry",b)).node()}}const gx={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},yx=new Set(["geometry","href","src","ariaLabel","scales"]);class bx extends sv{constructor(t,n={}){n.tip&&(n={...n,tip:!1}),void 0===n.title&&Ng(t)&&Cg(t)&&(n={...n,title:Vp});const{x:e,y:r,x1:i,x2:o,y1:a,y2:c,anchor:s,preferredAnchor:f="bottom",monospace:u,fontFamily:l=(u?"ui-monospace, monospace":void 0),fontSize:h,fontStyle:d,fontVariant:p,fontWeight:g,lineHeight:y=1,lineWidth:b=20,frameAnchor:m,format:v,textAnchor:_="start",textOverflow:x,textPadding:w=8,title:k,pointerSize:M=12,pathFilter:$="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(t,{x:{value:null!=i&&null!=o?null:e,scale:"x",optional:!0},y:{value:null!=a&&null!=c?null:r,scale:"y",optional:!0},x1:{value:i,scale:"x",optional:null==o},y1:{value:a,scale:"y",optional:null==c},x2:{value:o,scale:"x",optional:null==i},y2:{value:c,scale:"y",optional:null==a},title:{value:k,optional:!0}},n,gx),this.anchor=qg(s,"anchor"),this.preferredAnchor=qg(f,"preferredAnchor"),this.frameAnchor=Bg(m),this.textAnchor=Ym(_,"middle"),this.textPadding=+w,this.pointerSize=+M,this.pathFilter=Zp($),this.lineHeight=+y,this.lineWidth=+b,this.textOverflow=Qv(x),this.monospace=!!u,this.fontFamily=Zp(l),this.fontSize=Gp(h),this.fontStyle=Zp(d),this.fontVariant=Zp(p),this.fontWeight=Zp(g);for(const T in gx)T in this.channels&&(this[T]=gx[T]);this.splitLines=s_(this),this.clipLine=f_(this),this.format="string"==typeof v||"function"==typeof v?{title:v}:{...v}}render(t,n,e,r,i){const o=this,{x:a,y:c,fx:s,fy:f}=n,{ownerSVGElement:u,document:l}=i,{anchor:h,monospace:d,lineHeight:p,lineWidth:g}=this,{textPadding:y,pointerSize:b,pathFilter:m}=this,{marginTop:v,marginLeft:_}=r,{x1:x,y1:w,x2:k,y2:M,x:$=x??k,y:T=w??M}=e,A=s?s(t.fx)-_:0,S=f?f(t.fy)-v:0,[E,N]=Qm(this,r),C=_v(e,E),L=xv(e,N),D=d?c_:a_,z=D(u_);let O,F;"title"in e?(O=vx.call(this,{title:e.channels.title},n),F=xx):(O=vx.call(this,e.channels,n),F=wx);const j=$m("svg:g",i).call(Im,this,r,i).call(e_,this).call(Hm,this,{x:$&&a,y:T&&c}).call(r=>r.selectAll().data(t).enter().append("g").attr("transform",t=>`translate(${Math.round(C(t))},${Math.round(L(t))})`).call(qm,this).call(t=>t.append("path").attr("filter",m)).call(r=>r.append("text").each(function(r){const i=Rh(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const a=F.call(o,r,t,O,n,e);if("string"==typeof a)for(const t of o.splitLines(a))R(i,{value:o.clipLine(t)});else{const t=new Set;for(const n of a){const{label:e=""}=n;e&&t.has(e)||(t.add(e),R(i,n))}}})));function R(t,{label:n,value:e,color:r,opacity:i}){n??="",e??="";const o=null!=r||null!=i;let a,c=100*g;const[s]=l_(n,c,D,z);if(s>=0)n=n.slice(0,s).trimEnd()+u_,a=e.trim(),e="";else{(n||!e&&!o)&&(e=" "+e);const[t]=l_(e,c-D(n),D,z);t>=0&&(a=e.trim(),e=e.slice(0,t).trimEnd()+u_)}const f=t.append("tspan").attr("x",0).attr("dy",`${p}em`).text("");n&&f.append("tspan").attr("font-weight","bold").text(n),e&&f.append(()=>l.createTextNode(e)),o&&f.append("tspan").text(" ").attr("fill",r).attr("fill-opacity",i).style("user-select","none"),a&&f.append("title").text(a)}function P(){const{width:t,height:n}=r.facet??r;j.selectChildren().each(function(e){let{x:r,width:i,height:a}=this.getBBox();i=Math.round(i),a=Math.round(a);let c=h;if(void 0===c){const r=C(e)+A,s=L(e)+S,f=r+i+b+2*y<t,u=r-i-b-2*y>0,l=s+a+b+2*y<n,h=s-a-b-2*y>0;c=f&&u?l&&h?o.preferredAnchor:h?"bottom":"top":l&&h?f?"left":"right":(f||u)&&(l||h)?`${h?"bottom":"top"}-${f?"left":"right"}`:o.preferredAnchor}const s=this.firstChild,f=this.lastChild;if(s.setAttribute("d",function(t,n,e,r,i){const o=r+2*e,a=i+2*e;switch(t){case"middle":return`M${-o/2},${-a/2}h${o}v${a}h${-o}z`;case"top-left":return`M0,0l${n},${n}h${o-n}v${a}h${-o}z`;case"top":return`M0,0l${n/2},${n/2}h${(o-n)/2}v${a}h${-o}v${-a}h${(o-n)/2}z`;case"top-right":return`M0,0l${-n},${n}h${n-o}v${a}h${o}z`;case"right":return`M0,0l${-n/2},${-n/2}v${n/2-a/2}h${-o}v${a}h${o}v${n/2-a/2}z`;case"bottom-left":return`M0,0l${n},${-n}h${o-n}v${-a}h${-o}z`;case"bottom":return`M0,0l${n/2},${-n/2}h${(o-n)/2}v${-a}h${-o}v${a}h${(o-n)/2}z`;case"bottom-right":return`M0,0l${-n},${-n}h${n-o}v${-a}h${o}z`;case"left":return`M0,0l${n/2},${-n/2}v${n/2-a/2}h${o}v${a}h${-o}v${n/2-a/2}z`}}(c,b,y,i,a)),r)for(const t of f.childNodes)t.setAttribute("x",-r);f.setAttribute("y",+function(t,n,e){return/^top(?:-|$)/.test(t)?.94-e:-.29-n*e}(c,f.childNodes.length,p).toFixed(6)+"em"),f.setAttribute("transform",`translate(${function(t,n,e,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[e,n+e];case"top":return[-r/2,n/2+e];case"top-right":return[-r-e,n+e];case"right":return[-n/2-r-e,i/2];case"bottom-left":return[e,-n-e];case"bottom":return[-r/2,-n/2-e];case"bottom-right":return[-r-e,-n-e];case"left":return[e+n/2,i/2]}}(c,b,y,i,a)})`)}),j.attr("visibility",null)}return t.length&&(j.attr("visibility","hidden"),u.isConnected?Promise.resolve().then(P):"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(P)),j.node()}}function mx(t,{x:n,y:e,...r}={}){return void 0===r.frameAnchor&&([n,e]=gg(n,e)),new bx(t,{...r,x:n,y:e})}function vx(t,n){const e={};let r=this.format;r=_x(r,t,"x"),r=_x(r,t,"y"),this.format=r;for(const i in r){const n=r[i];if(null!==n&&!1!==n)if("fx"===i||"fy"===i)e[i]=!0;else{const n=Fy(t,i);n&&(e[i]=n)}}for(const i in t){if(i in e||i in r||yx.has(i))continue;const n=Fy(t,i);n&&(e[i]=n)}this.facet&&(n.fx&&!("fx"in r)&&(e.fx=!0),n.fy&&!("fy"in r)&&(e.fy=!0));for(const i in e){const t=this.format[i];if("string"==typeof t){const r=e[i]?.value??n[i]?.domain()??[];this.format[i]=(Dg(r)?Mf:Wr)(t)}else if(void 0===t||!0===t){const t=n[i];this.format[i]=t?.bandwidth?G_(t,t.domain()):Cm}}return e}function _x(t,n,e){if(!(e in t))return t;const r=`${e}1`,i=`${e}2`;if(!(!(r in t)&&r in n||!(i in t)&&i in n))return t;const o=Object.entries(t),a=t[e];return o.splice(o.findIndex(([t])=>t===e)+1,0,[r,a],[i,a]),Object.fromEntries(o)}function xx(t,n,{title:e}){return this.format.title(e.value[t],t)}function*wx(t,n,e,r,i){for(const o in e){if("fx"===o||"fy"===o){yield{label:$x(r,e,o),value:this.format[o](n[o],t)};continue}if("x1"===o&&"x2"in e)continue;if("y1"===o&&"y2"in e)continue;const a=e[o];if("x2"===o&&"x1"in e)yield{label:Mx(r,e,"x"),value:kx(this.format.x2,e.x1,a,t)};else if("y2"===o&&"y1"in e)yield{label:Mx(r,e,"y"),value:kx(this.format.y2,e.y1,a,t)};else{const n=a.value[t],c=a.scale;if(!ip(n)&&null==c)continue;yield{label:$x(r,e,o),value:this.format[o](n,t),color:"color"===c?i[o][t]:null,opacity:"opacity"===c?i[o][t]:null}}}}function kx(t,n,e,r){return e.hint?.length?`${t(e.value[r]-n.value[r],r)}`:`${t(n.value[r],r)}${t(e.value[r],r)}`}function Mx(t,n,e){const r=$x(t,n,`${e}1`,e),i=$x(t,n,`${e}2`,e);return r===i?r:`${r}${i}`}function $x(t,n,e,r=e){const i=n[e],o=t[i?.scale??e];return String(o?.label??i?.label??r)}function Tx(t={}){const{facet:n,style:e,title:r,subtitle:i,caption:o,ariaLabel:a,ariaDescription:c}=t,s=Zm(t.className),f=void 0===t.marks?[]:Sx(t.marks);f.push(...function(t){const n=[];for(const e of t){let t=e.tip;if(t){!0===t?t={}:"string"==typeof t&&(t={pointer:t});let{pointer:r,preferredAnchor:i}=t;r=/^x$/i.test(r)?mv:/^y$/i.test(r)?vv:bv,t=r(jx(e,t)),t.title=null,void 0===i&&(t.preferredAnchor=r===vv?"left":"bottom");const o=mx(e.data,t);o.facet=e.facet,o.facetAnchor=e.facetAnchor,n.push(o)}}return n}(f));const u=function(t,n){if(null==t)return;const{x:e,y:r}=t;if(null==e&&null==r)return;const i=sg(t.data);if(null==i)throw new Error("missing facet data");const o={};null!=e&&(o.fx=Ay(i,{value:e,scale:"fx"}));null!=r&&(o.fy=Ay(i,{value:r,scale:"fy"}));Cx(o,n);const a=tm(i,o);return{channels:o,groups:a,data:t.data}}(n,t),l=new Map;for(const O of f){const n=Fx(O,u,t);n&&l.set(O,n)}const h=new Map;u&&zx(h,[u],t),zx(h,l,t);const d=Sx(function(t,n,e){let{projection:r,x:i={},y:o={},fx:a={},fy:c={},axis:s,grid:f,facet:u={},facet:{axis:l=s,grid:h}=u,x:{axis:d=s,grid:p=(null===d?null:f)}=i,y:{axis:g=s,grid:y=(null===g?null:f)}=o,fx:{axis:b=l,grid:m=(null===b?null:h)}=a,fy:{axis:v=l,grid:_=(null===v?null:h)}=c}=e;(r||!hg(i)&&!qx("x",t))&&(d=p=null);(r||!hg(o)&&!qx("y",t))&&(g=y=null);n.has("fx")||(b=m=null);n.has("fy")||(v=_=null);void 0===d&&(d=!Ix(t,"x"));void 0===g&&(g=!Ix(t,"y"));void 0===b&&(b=!Ix(t,"fx"));void 0===v&&(v=!Ix(t,"fy"));!0===d&&(d="bottom");!0===g&&(g="left");!0===b&&(b="top"===d||null===d?"bottom":"top");!0===v&&(v="right"===g||null===g?"left":"right");const x=[];return Px(x,_,I_,c),Rx(x,v,O_,"right","left",u,c),Px(x,m,B_,a),Rx(x,b,j_,"top","bottom",u,a),Px(x,y,U_,o),Rx(x,g,z_,"left","right",e,o),Px(x,p,q_,i),Rx(x,d,F_,"bottom","top",e,i),x}(f,h,t));for(const O of d){const n=Fx(O,u,t);n&&l.set(O,n)}f.unshift(...d);let p=Kb(h,t);if(void 0!==p){const t=u?hm(p,u):void 0;for(const e of f){if(null===e.facet||"super"===e.facet)continue;const n=l.get(e);void 0!==n&&(n.facetsIndex=null!=e.fx||null!=e.fy?hm(p,n):t)}const n=new Set;for(const{facetsIndex:e}of l.values())e?.forEach((t,e)=>{t?.length>0&&n.add(e)});p.forEach(0<n.size&&n.size<p.length?(t,e)=>t.empty=!n.has(e):t=>t.empty=!1);for(const e of f)if("exclude"===e.facet){const t=l.get(e);void 0!==t&&(t.facetsIndex=nm(t.facetsIndex))}}for(const O of Kg.keys())hg(t[O])&&"fx"!==O&&"fy"!==O&&h.set(O,[]);const g=new Map;for(const O of f){if(g.has(O))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:n,channels:e}=l.get(O)??{},{data:r,facets:i,channels:o}=O.initialize(n,e,t);Cx(o,t),g.set(O,{data:r,facets:i,channels:o})}const y=Db(zx(h,g,t),t),b=function(t,n,e={}){let r=.5-Lm,i=.5+Lm,o=.5+Lm,a=.5-Lm;for(const{marginTop:g,marginRight:y,marginBottom:b,marginLeft:m}of n)g>r&&(r=g),y>i&&(i=y),b>o&&(o=b),m>a&&(a=m);let{margin:c,marginTop:s=(void 0!==c?c:r),marginRight:f=(void 0!==c?c:i),marginBottom:u=(void 0!==c?c:o),marginLeft:l=(void 0!==c?c:a)}=e;s=+s,f=+f,u=+u,l=+l;let{width:h=640,height:d=dv(t,e,{width:h,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:o,marginLeftDefault:a})+Math.max(0,s-r+u-o)}=e;h=+h,d=+d;const p={width:h,height:d,marginTop:s,marginRight:f,marginBottom:u,marginLeft:l};if(t.fx||t.fy){let{margin:t,marginTop:n=(void 0!==t?t:s),marginRight:r=(void 0!==t?t:f),marginBottom:i=(void 0!==t?t:u),marginLeft:o=(void 0!==t?t:l)}=e.facet??{};n=+n,r=+r,i=+i,o=+o,p.facet={marginTop:n,marginRight:r,marginBottom:i,marginLeft:o}}return p}(y,f,t);!function(t,n){const{x:e,y:r,fx:i,fy:o}=t,a=i||o?Fb(n):n;i&&Rb(i,a),o&&Pb(o,a);const c=i||o?jb(t,n):n;e&&Rb(e,c),r&&Pb(r,c)}(y,b);const m=zb(y),{fx:v,fy:_}=m,x=v||_?jb(y,b):b,w=v||_?function({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:c,height:s}=Fb(e),f=t&&Bx(t),u=n&&Bx(n);return{marginTop:n?u[0]:r,marginRight:t?c-f[1]:i,marginBottom:n?s-u[1]:o,marginLeft:t?f[0]:a,inset:{marginTop:e.marginTop,marginRight:e.marginRight,marginBottom:e.marginBottom,marginLeft:e.marginLeft},width:c,height:s}}(m,b):b,k=Mm(t),M=k.document,$=hn("svg").call(M.documentElement);let T=$;k.ownerSVGElement=$,k.className=s,k.projection=gm(t,x),k.filterFacets=(t,n)=>hm(p,{channels:n,groups:tm(t,n)}),k.getMarkState=t=>{const n=g.get(t),e=l.get(t);return{...n,channels:{...n.channels,...e?.channels}}},k.dispatchValue=t=>{T.value!==t&&(T.value=t,T.dispatchEvent(new Event("input",{bubbles:!0})))};const A=new Set;for(const[O,F]of g)if(null!=O.initializer){const n="super"===O.facet?w:x,e=O.initializer(F.data,F.facets,F.channels,m,n,k);if(void 0!==e.data&&(F.data=e.data),void 0!==e.facets&&(F.facets=e.facets),void 0!==e.channels){const{fx:n,fy:r,...i}=e.channels;Dx(i),Object.assign(F.channels,i);for(const e of Object.values(i)){const{scale:n}=e;null==n||ty(Kg.get(n))||(Lx(e,t),A.add(n))}null==n&&null==r||l.set(O,!0)}}if(A.size){const n=new Map;zx(n,g,t,t=>A.has(t)),zx(h,g,t,t=>A.has(t));const e=function(t,n){for(const e in t){const r=t[e],i=n[e];void 0===r.label&&i&&(r.label=i.label)}return t}(Db(n,t),y),{scales:r,...i}=zb(e);Object.assign(y,e),Object.assign(m,i),Object.assign(m.scales,r)}let S,E;void 0!==p&&(S={x:v?.domain(),y:_?.domain()},p=function(t,{x:n,y:e}){return n&&=im(n),e&&=im(e),t.filter(n&&e?t=>n.has(t.x)&&e.has(t.y):n?t=>n.has(t.x):t=>e.has(t.y)).sort(n&&e?(t,r)=>n.get(t.x)-n.get(r.x)||e.get(t.y)-e.get(r.y):n?(t,e)=>n.get(t.x)-n.get(e.x):(t,n)=>e.get(t.y)-e.get(n.y))}(p,S),E=function(t,n,{marginTop:e,marginLeft:r}){return t&&n?({x:i,y:o})=>`translate(${t(i)-r},${n(o)-e})`:t?({x:n})=>`translate(${t(n)-r},0)`:({y:t})=>`translate(0,${n(t)-e})`}(v,_,b));for(const[O,F]of g)F.values=O.scale(F.channels,m,k);const{width:N,height:C}=b;Rh($).attr("class",s).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",N).attr("height",C).attr("viewBox",`0 0 ${N} ${C}`).attr("aria-label",a).attr("aria-description",c).call(t=>t.append("style").text(`:where(.${s}) {\n  --plot-background: white;\n  display: block;\n  height: auto;\n  height: intrinsic;\n  max-width: 100%;\n}\n:where(.${s} text),\n:where(.${s} tspan) {\n  white-space: pre;\n}`)).call(Gm,e);for(const O of f){const{channels:t,values:n,facets:e}=g.get(O);if(void 0===p||"super"===O.facet){let r=null;if(e&&(r=e[0],r=O.filter(r,t,n),0===r.length))continue;const i=O.render(r,m,n,w,k);if(null==i)continue;$.appendChild(i)}else{let r;for(const i of p){if(!(O.facetAnchor?.(p,S,i)??!i.empty))continue;let o=null;if(e){const r=l.has(O);if(o=e[r?i.i:0],o=O.filter(o,t,n),0===o.length)continue;r||o!==e[0]||(o=vg(o)),o.fx=i.x,o.fy=i.y,o.fi=i.i}const a=O.render(o,m,n,x,k);if(null!=a){(r??=Rh($).append("g")).append(()=>a).datum(i);for(const t of["aria-label","aria-description","aria-hidden","transform"])a.hasAttribute(t)&&(r.attr(t,a.getAttribute(t)),a.removeAttribute(t))}}r?.selectChildren().attr("transform",E)}}const L=function(t,n,e){const r=[];for(const[i,o]of sx){const a=e[i];if(a?.legend&&i in t){const e=o(t[i],fx(n,t[i],a),n=>t[n]);null!=e&&r.push(e)}}return r}(y,k,t),{figure:D=null!=r||null!=i||null!=o||L.length>0}=t;D&&(T=M.createElement("figure"),T.className=`${s}-figure`,T.style.maxWidth="initial",null!=r&&T.append(Ax(M,r,"h2")),null!=i&&T.append(Ax(M,i,"h3")),T.append(...L,$),null!=o&&T.append(function(t,n){const e=t.createElement("figcaption");return e.append(n),e}(M,o)),"value"in $&&(T.value=$.value,delete $.value)),T.scale=function(t){return n=>{if(!Kg.has(n=`${n}`))throw new Error(`unknown scale: ${n}`);return t[n]}}(m.scales),T.legend=function(t,n,e={}){return(r,i)=>{if(!sx.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return sx.get(r)(t[r],fx(n,e[r],i),n=>t[n])}}(y,k,t);const z=function(){const t=pb;return pb=0,db=void 0,t}();return z>0&&Rh($).append("text").attr("x",N).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("").append("title").text(`${z.toLocaleString("en-US")} warning${1===z?"":"s"}. Please check the console.`),T}function Ax(t,n,e){if(n.ownerDocument)return n;const r=t.createElement(e);return r.append(n),r}function Sx(t){return t.flat(1/0).filter(t=>null!=t).map(Ex)}function Ex(t){return"function"==typeof t.render?t:new Nx(t)}class Nx extends sv{constructor(t){if("function"!=typeof t)throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function Cx(t,n){for(const e in t)Lx(t[e],n);return t}function Lx(t,n){const{scale:e,transform:r=!0}=t;if(null==e||!r)return;const{type:i,percent:o,interval:a,transform:c=(o?t=>null==t?NaN:100*t:$g(a,i))}=n[e]??{};null!=c&&(t.value=fg(t.value,c),t.transform=!1)}function Dx(t){for(const n in t)Sy(n,t[n])}function zx(t,n,e,r=Xp){for(const{channels:i}of n.values())for(const n in i){const o=i[n],{scale:a}=o;if(null!=a&&r(a))if("projection"===a){if(!wm(e)){const n=void 0===e.x?.domain,r=void 0===e.y?.domain;if(n||r){const[e,i]=km(o);n&&Ox(t,"x",e),r&&Ox(t,"y",i)}}}else Ox(t,a,o)}return t}function Ox(t,n,e){const r=t.get(n);void 0!==r?r.push(e):t.set(n,[e])}function Fx(t,n,e){if(null===t.facet||"super"===t.facet)return;const{fx:r,fy:i}=t;if(null!=r||null!=i){const n=sg(t.data??r??i);if(void 0===n)throw new Error(`missing facet data in ${t.ariaLabel}`);if(null===n)return;const o={};return null!=r&&(o.fx=Ay(n,{value:r,scale:"fx"})),null!=i&&(o.fy=Ay(n,{value:i,scale:"fy"})),Cx(o,e),{channels:o,groups:tm(n,o)}}if(void 0===n)return;const{channels:o,groups:a,data:c}=n;if("auto"!==t.facet||t.data===c)return{channels:o,groups:a};c.length>0&&(a.size>1||1===a.size&&o.fx&&o.fy&&[...a][0][1].size>1)&&sg(t.data)?.length===c.length&&gb(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isnt faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function jx(t,n={}){return Km({...n,x:null,y:null},(n,e,r,i,o,a)=>a.getMarkState(t))}function Rx(t,n,e,r,i,o,a){if(!n)return;const c=function(t){return/^\s*both\s*$/i.test(t)}(n);a=function(t,n,{line:e=n.line,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:c,tickRotate:s,fontVariant:f,ariaLabel:u,ariaDescription:l,label:h=n.label,labelAnchor:d,labelArrow:p=n.labelArrow,labelOffset:g}){return{anchor:t,line:e,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:c,tickRotate:s,fontVariant:f,ariaLabel:u,ariaDescription:l,label:h,labelAnchor:d,labelArrow:p,labelOffset:g}}(c?r:n,o,a);const{line:s}=a;e!==z_&&e!==F_||!s||Ig(s)||t.push(function(t){return new px(t)}(function(t){const{anchor:n,line:e}=t;return{anchor:n,facetAnchor:n+"-empty",stroke:!0===e?void 0:e}}(a))),t.push(e(a)),c&&t.push(e({...a,anchor:i,label:null}))}function Px(t,n,e,r){n&&!Ig(n)&&t.push(e(function(t,{stroke:n=(Rg(t)?t:void 0),ticks:e=(Ux(t)?t:void 0),tickSpacing:r,ariaLabel:i,ariaDescription:o}){return{stroke:n,ticks:e,tickSpacing:r,ariaLabel:i,ariaDescription:o}}(n,r)))}function Ux(t){switch(typeof t){case"number":return!0;case"string":return!Rg(t)}return Ng(t)||"function"==typeof t?.range}function Ix(t,n){const e=`${n}-axis `;return t.some(t=>t.ariaLabel?.startsWith(e))}function qx(t,n){for(const e of n)for(const n in e.channels){const{scale:r}=e.channels[n];if(r===t||"projection"===r)return!0}return!1}function Bx(t){const n=t.domain();let e=t(n[0]),r=t(n[n.length-1]);return r<e&&([e,r]=[r,e]),[e,r+t.bandwidth()]}const Wx={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function Hx(t){return void 0===t.sort&&void 0===t.reverse?function(t,{sort:n,...e}={}){return{...(dg(t)&&void 0!==t.channel?Km:ev)(e,ov(t)),sort:pg(n)?n:null}}({channel:"-r"},t):t}class Yx extends sv{constructor(t,n={}){const{x:e,y:r,r:i,rotate:o,symbol:a=Kh,frameAnchor:c}=n,[s,f]=og(o,0),[u,l]=function(t){if(null==t||iy(t))return[void 0,t];if("string"==typeof t){const n=ry.get(`${t}`.toLowerCase());if(n)return[void 0,n]}return[t,void 0]}(a),[h,d]=og(i,null==u?3:4.5);super(t,{x:{value:e,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},r:{value:h,scale:"r",filter:fp,optional:!0},rotate:{value:s,optional:!0},symbol:{value:u,scale:"auto",optional:!0}},Hx(n),Wx),this.r=d,this.rotate=f,this.symbol=l,this.frameAnchor=Bg(c);const{channels:p}=this,{symbol:g}=p;if(g){const{fill:t,stroke:n}=p;g.hint={fill:t?t.value===g.value?"color":"currentColor":this.fill??"currentColor",stroke:n?n.value===g.value?"color":"currentColor":this.stroke??"none"}}}render(t,n,e,r,i){const{x:o,y:a}=n,{x:c,y:s,r:f,rotate:u,symbol:l}=e,{r:h,rotate:d,symbol:p}=this,[g,y]=Qm(this,r),b=p===Kh,m=f?void 0:h*h*Math.PI;return up(h)&&(t=[]),$m("svg:g",i).call(Im,this,r,i).call(Hm,this,{x:c&&o,y:s&&a}).call(n=>n.selectAll().data(t).enter().append(b?"circle":"path").call(qm,this).call(b?t=>{t.attr("cx",c?t=>c[t]:g).attr("cy",s?t=>s[t]:y).attr("r",f?t=>f[t]:h)}:t=>{t.attr("transform",Xv`translate(${c?t=>c[t]:g},${s?t=>s[t]:y})${u?t=>` rotate(${u[t]})`:d?` rotate(${d})`:""}`).attr("d",f&&l?t=>{const n=Ic();return l[t].draw(n,f[t]*f[t]*Math.PI),n}:f?t=>{const n=Ic();return p.draw(n,f[t]*f[t]*Math.PI),n}:l?t=>{const n=Ic();return l[t].draw(n,m),n}:(()=>{const t=Ic();return p.draw(t,m),t})())}).call(Rm,this,e)).node()}}function Vx(t,{x:n,y:e,...r}={}){return void 0===r.frameAnchor&&([n,e]=gg(n,e)),new Yx(t,{...r,x:n,y:e})}const Xx=new Map([["basis",function(t){return new Td(t)}],["basis-closed",function(t){return new Ad(t)}],["basis-open",function(t){return new Sd(t)}],["bundle",Cd],["bump-x",function(t){return new Ed(t,!0)}],["bump-y",function(t){return new Ed(t,!1)}],["cardinal",zd],["cardinal-closed",Fd],["cardinal-open",Rd],["catmull-rom",Id],["catmull-rom-closed",Bd],["catmull-rom-open",Hd],["linear",Ih],["linear-closed",function(t){return new Yd(t)}],["monotone-x",function(t){return new Qd(t)}],["monotone-y",function(t){return new Jd(t)}],["natural",function(t){return new tp(t)}],["step",function(t){return new ep(t,.5)}],["step-after",function(t){return new ep(t,1)}],["step-before",function(t){return new ep(t,0)}]]);function Zx(t=Gx,n){return"function"!=typeof t&&"auto"===`${t}`.toLowerCase()?Gx:function(t=Ih,n){if("function"==typeof t)return t;const e=Xx.get(`${t}`.toLowerCase());if(!e)throw new Error(`unknown curve: ${t}`);if(void 0!==n){if("beta"in e)return e.beta(n);if("tension"in e)return e.tension(n);if("alpha"in e)return e.alpha(n)}return e}(t,n)}function Gx(t){return Ih(t)}function Qx(t={y:"count"},n={}){[t,n]=tw(t,n);const{x:e,y:r}=n;return Kx(nw(e,n,Vp),null,null,r,t,Fv(n))}function Jx(t,n,e={}){if(null==e?.interval)return e;const{reduce:r=vy}=e,i={filter:null};return null!=e[n]&&(i[n]=r),null!=e[`${n}1`]&&(i[`${n}1`]=r),null!=e[`${n}2`]&&(i[`${n}2`]=r),t(i,e)}function Kx(t,n,e,r,{data:i=my,filter:o=wy,sort:a,reverse:c,...s}={},f={}){t=ew(t),n=ew(n),s=function(t,n){return sy(t,n,rw)}(s,f),i=ow(i,Vp),a=null==a?void 0:rw("sort",a,f),o=null==o?void 0:iw("filter",o,f),null!=e&&cy(s,"x","x1","x2")&&(e=null),null!=r&&cy(s,"y","y1","y2")&&(r=null);const[u,l]=wg(t),[h,d]=wg(t),[p,g]=wg(n),[y,b]=wg(n),[m,v]=null!=e?[e,"x"]:null!=r?[r,"y"]:[],[_,x]=wg(m),{x:w,y:k,z:M,fill:$,stroke:T,x1:A,x2:S,y1:E,y2:N,domain:C,cumulative:L,thresholds:D,interval:z,...O}=f,[F,j]=wg(M),[R]=ig($),[P]=ig(T),[U,I]=wg(R),[q,B]=wg(P);return{..."z"in f&&{z:F||M},..."fill"in f&&{fill:U||$},..."stroke"in f&&{stroke:q||T},...Jm(O,(e,r,f)=>{const u=function(t,n){const e=$g(n?.interval,n?.type);return e?fg(t,e):t}(Ip(e,m),f?.[v]),h=Ip(e,M),p=Ip(e,R),y=Ip(e,P),_=py(s,{z:h,fill:p,stroke:y}),w=[],k=[],$=u&&x([]),T=h&&j([]),A=p&&I([]),S=y&&B([]),E=t&&l([]),N=t&&d([]),C=n&&g([]),L=n&&b([]),D=function(t,n,e){const r=t?.(e),i=n?.(e);return r&&i?function*(t){const n=r.bin(t);for(const[o,[a,c]]of r.entries()){const t=i.bin(n[o]);for(const[n,[r,o]]of i.entries())yield[t[n],{data:e,x1:a,y1:r,x2:c,y2:o}]}}:r?function*(t){const n=r.bin(t);for(const[i,[o,a]]of r.entries())yield[n[i],{data:e,x1:o,x2:a}]}:function*(t){const n=i.bin(t);for(const[r,[o,a]]of i.entries())yield[n[r],{data:e,y1:o,y2:a}]}}(t,n,e);let z=0;for(const t of s)t.initialize(e);a&&a.initialize(e),o&&o.initialize(e);for(const t of r){const n=[];for(const e of s)e.scope("facet",t);a&&a.scope("facet",t),o&&o.scope("facet",t);for(const[r,c]of ly(t,_))for(const[t,f]of ly(c,u))for(const[c,l]of D(f))if(_&&(l.z=r),!o||o.reduce(c,l)){n.push(z++),k.push(i.reduceIndex(c,e,l)),u&&$.push(t),h&&T.push(_===h?r:h[(c.length>0?c:f)[0]]),p&&A.push(_===p?r:p[(c.length>0?c:f)[0]]),y&&S.push(_===y?r:y[(c.length>0?c:f)[0]]),E&&(E.push(l.x1),N.push(l.x2)),C&&(C.push(l.y1),L.push(l.y2));for(const t of s)t.reduce(c,l);a&&a.reduce(c,l)}w.push(n)}return gy(w,a,c),{data:k,facets:w}}),...!cy(s,"x")&&(u?{x1:u,x2:h,x:Mg(u,h)}:{x:w,x1:A,x2:S}),...!cy(s,"y")&&(p?{y1:p,y2:y,y:Mg(p,y)}:{y:k,y1:E,y2:N}),..._&&{[v]:_},...Object.fromEntries(s.map(({name:t,output:n})=>[t,n]))}}function tw({cumulative:t,domain:n,thresholds:e,interval:r,...i},o){return[i,{cumulative:t,domain:n,thresholds:e,interval:r,...o}]}function nw(t,{cumulative:n,domain:e,thresholds:r,interval:i},o){return void 0===(t={...Eg(t)}).domain&&(t.domain=e),void 0===t.cumulative&&(t.cumulative=n),void 0===t.thresholds&&(t.thresholds=r),void 0===t.interval&&(t.interval=i),void 0===t.value&&(t.value=o),t.thresholds=function(t,n,e=cw){if(void 0===t)return void 0===n?e:Ag(n);if("string"==typeof t){switch(t.toLowerCase()){case"freedman-diaconis":return R;case"scott":return P;case"sturges":return U;case"auto":return cw}return Lp(t)}return t}(t.thresholds,t.interval),t}function ew(t){if(null==t)return;const{value:n,cumulative:e,domain:r=y,thresholds:i}=t,o=t=>{let o,a=Ip(t,n);if(Dg(a)||(function(t){return Sg(t)&&"function"==typeof t?.floor&&t.floor()instanceof Date}(c=i)||Ng(c)&&Dg(c))){a=fg(a,rg,Float64Array);let[t,n]="function"==typeof r?r(a):r,e="function"!=typeof i||Sg(i)?i:i(a,t,n);"number"==typeof e&&(e=yf(t,n,e)),Sg(e)&&(r===y&&(t=e.floor(t),n=e.offset(e.floor(n))),e=e.range(t,e.offset(n))),o=e}else{a=tg(a);let[t,n]="function"==typeof r?r(a):r,e="function"!=typeof i||Sg(i)?i:i(a,t,n);if("number"==typeof e)if(r===y){let r=tt(t,n,e);if(isFinite(r))if(r>0){let i=Math.round(t/r),o=Math.round(n/r);i*r<=t||--i,o*r>n||++o;let a=o-i+1;e=new Float64Array(a);for(let t=0;t<a;++t)e[t]=(i+t)*r}else if(r<0){r=-r;let i=Math.round(t*r),o=Math.round(n*r);i/r<=t||--i,o/r>n||++o;let a=o-i+1;e=new Float64Array(a);for(let t=0;t<a;++t)e[t]=(i+t)/r}else e=[t];else e=[t]}else e=K(t,n,e);else Sg(e)&&(r===y&&(t=e.floor(t),n=e.offset(e.floor(n))),e=e.range(t,e.offset(n)));o=e}var c;const s=[];if(1===o.length)s.push([o[0],o[0]]);else for(let n=1;n<o.length;++n)s.push([o[n-1],o[n]]);return s.bin=(e<0?uw:e>0?fw:sw)(s,o,a),s};return o.label=kg(n),o}function rw(t,n,e){return fy(t,n,e,iw)}function iw(t,n,e){return uy(t,n,e,ow)}function ow(t,n){return hy(t,n,aw)}function aw(t){switch(`${t}`.toLowerCase()){case"x":return hw;case"x1":return pw;case"x2":return gw;case"y":return dw;case"y1":return yw;case"y2":return bw;case"z":return Ty}throw new Error(`invalid bin reduce: ${t}`)}function cw(t,n,e){return Math.min(200,P(t,n,e))}function sw(t,n,e){return n=tg(n),r=>{const i=t.map(()=>[]);for(const t of r)i[u(n,e[t])-1]?.push(t);return i}}function fw(t,n,e){const r=sw(t,n,e);return t=>{const n=r(t);for(let e=1,r=n.length;e<r;++e){const t=n[e-1],r=n[e];for(const n of t)r.push(n)}return n}}function uw(t,n,e){const r=sw(t,n,e);return t=>{const n=r(t);for(let e=n.length-2;e>=0;--e){const t=n[e+1],r=n[e];for(const n of t)r.push(n)}return n}}function lw(t,n){const e=(+t+ +n)/2;return t instanceof Date?new Date(e):e}const hw={reduceIndex(t,n,{x1:e,x2:r}){return lw(e,r)}},dw={reduceIndex(t,n,{y1:e,y2:r}){return lw(e,r)}},pw={reduceIndex(t,n,{x1:e}){return e}},gw={reduceIndex(t,n,{x2:e}){return e}},yw={reduceIndex(t,n,{y1:e}){return e}},bw={reduceIndex(t,n,{y2:e}){return e}},mw={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class vw extends sv{constructor(t,n={}){const{x:e,y:r,z:i,curve:o,tension:a}=n;super(t,{x:{value:e,scale:"x"},y:{value:r,scale:"y"},z:{value:yg(n),optional:!0}},n,mw),this.z=i,this.curve=Zx(o,a),$v(this,n)}filter(t){return t}project(t,n,e){this.curve!==Gx&&super.project(t,n,e)}render(t,n,e,r,i){const{x:o,y:a}=e,{curve:c}=this;return $m("svg:g",i).call(Im,this,r,i).call(Hm,this,n).call(n=>n.selectAll().data(Um(t,[o,a],this,e)).enter().append("path").call(qm,this).call(Pm,this,e).call(zv,this,e,i).attr("d",c===Gx&&i.projection?function(t,n,e){const r=Uo(t);return n=tg(n),e=tg(e),t=>{let i=[];const o=[i];for(const r of t)-1===r?(i=[],o.push(i)):i.push([n[r],e[r]]);return r({type:"MultiLineString",coordinates:o})}}(i.projection,o,a):Wh().curve(c).defined(t=>t>=0).x(t=>o[t]).y(t=>a[t]))).node()}}function _w(t,{x:n=Yp,y:e=Vp,...r}={}){return new vw(t,function(t={}){return Jx(Qx,"y",hv(t,"x"))}({...r,x:n,y:e}))}const xw={ariaLabel:"rect"};class ww extends sv{constructor(t,n={}){const{x1:e,y1:r,x2:i,y2:o,inset:a=0,insetTop:c=a,insetRight:s=a,insetBottom:f=a,insetLeft:u=a,rx:l,ry:h}=n;super(t,{x1:{value:e,scale:"x",type:null!=e&&null==i?"band":void 0,optional:!0},y1:{value:r,scale:"y",type:null!=r&&null==o?"band":void 0,optional:!0},x2:{value:i,scale:"x",optional:!0},y2:{value:o,scale:"y",optional:!0}},n,xw),this.insetTop=Gp(c),this.insetRight=Gp(s),this.insetBottom=Gp(f),this.insetLeft=Gp(u),this.rx=Ym(l,"auto"),this.ry=Ym(h,"auto")}render(t,n,e,r,i){const{x:o,y:a}=n,{x1:c,y1:s,x2:f,y2:u}=e,{marginTop:l,marginRight:h,marginBottom:d,marginLeft:p,width:g,height:y}=r,{projection:b}=i,{insetTop:m,insetRight:v,insetBottom:_,insetLeft:x,rx:w,ry:k}=this,M=(o?.bandwidth?o.bandwidth():0)-x-v,$=(a?.bandwidth?a.bandwidth():0)-m-_;return $m("svg:g",i).call(Im,this,r,i).call(Hm,this,{},0,0).call(n=>n.selectAll().data(t).enter().append("rect").call(qm,this).attr("x",!c||!b&&Zb(o)?p+x:f?t=>Math.min(c[t],f[t])+x:t=>c[t]+x).attr("y",!s||!b&&Zb(a)?l+m:u?t=>Math.min(s[t],u[t])+m:t=>s[t]+m).attr("width",!c||!b&&Zb(o)?g-h-p-v-x:f?t=>Math.max(0,Math.abs(f[t]-c[t])+M):M).attr("height",!s||!b&&Zb(a)?y-l-d-m-_:u?t=>Math.max(0,Math.abs(s[t]-u[t])+$):$).call(Wm,"rx",w).call(Wm,"ry",k).call(Rm,this,e)).node()}}function kw(t,n){return new ww(t,function(t={}){return Uv("x",Fv,t,!0)}(function(t={}){return Uv("y",jv,t,!0)}(n)))}sv.prototype.plot=function({marks:t=[],...n}={}){return Tx({...n,marks:[...t,this]})}},4376:function(t,n,e){var r=e(2195);t.exports=Array.isArray||function(t){return"Array"===r(t)}},6080:function(t,n,e){var r=e(7476),i=e(9306),o=e(616),a=r(r.bind);t.exports=function(t,n){return i(t),void 0===n?t:o?a(t,n):function(){return t.apply(n,arguments)}}},6469:function(t,n,e){var r=e(8227),i=e(2360),o=e(4913).f,a=r("unscopables"),c=Array.prototype;void 0===c[a]&&o(c,a,{configurable:!0,value:i(null)}),t.exports=function(t){c[a][t]=!0}},6801:function(t,n,e){var r=e(3724),i=e(8686),o=e(4913),a=e(8551),c=e(5397),s=e(1072);n.f=r&&!i?Object.defineProperties:function(t,n){a(t);for(var e,r=c(n),i=s(n),f=i.length,u=0;f>u;)o.f(t,e=i[u++],r[e]);return t}},6837:function(t){var n=TypeError;t.exports=function(t){if(t>9007199254740991)throw n("Maximum allowed index exceeded");return t}},7433:function(t,n,e){var r=e(4376),i=e(3517),o=e(34),a=e(8227)("species"),c=Array;t.exports=function(t){var n;return r(t)&&(n=t.constructor,(i(n)&&(n===c||r(n.prototype))||o(n)&&null===(n=n[a]))&&(n=void 0)),void 0===n?c:n}},7476:function(t,n,e){var r=e(2195),i=e(9504);t.exports=function(t){if("Function"===r(t))return i(t)}},7528:function(t,n,e){var r=e(6540),i=e(4794);n.A=t=>{let{title:n}=t;const e=(0,i.useStaticQuery)("3159585216");return r.createElement("title",null,n," | ",e.site.siteMetadata.title)}},8350:function(t,n,e){var r=e(6518),i=e(259),o=e(9306),a=e(8981),c=e(6198),s=e(1469);r({target:"Array",proto:!0},{flatMap:function(t){var n,e=a(this),r=c(e);return o(t),(n=s(e,0)).length=i(n,e,e,r,0,1,t,arguments.length>1?arguments[1]:void 0),n}})}}]);
//# sourceMappingURL=0f8e51b592698600ad822c0915f82dcc7c94cd3c-dd2f6c661cae3b833650.js.map