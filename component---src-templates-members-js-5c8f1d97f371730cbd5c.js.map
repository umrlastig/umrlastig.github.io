{"version":3,"file":"component---src-templates-members-js-5c8f1d97f371730cbd5c.js","mappings":"gPAEO,MAAMA,EAAUC,EAAAA,QAAOC,IAAGC,WAAA,CAAAC,YAAA,yBAAAC,YAAA,eAAVJ,CAAU,gGAOpBK,EAAeL,EAAAA,QAAOC,IAAGC,WAAA,CAAAC,YAAA,8BAAAC,YAAA,eAAVJ,CAAU,iE,4CCQtC,MAAMM,EAASC,IAAe,IAAd,KAAEC,GAAMD,EAEtB,OADAE,QAAQC,IAAIF,EAAKG,OAEfC,EAAAA,cAACP,EAAY,CAACQ,IAAKL,EAAKM,IACtBF,EAAAA,cAACG,EAAAA,GAAI,CAACC,GAAE,YAAcR,EAAKS,UAAS,IAAIT,EAAKU,UAC3CN,EAAAA,cAACO,EAAAA,EAAW,CACVC,OAAOC,EAAAA,EAAAA,GAASb,EAAKY,OACrBE,IAAQd,EAAKS,UAAS,IAAIT,EAAKU,SAC/BK,YAAa,IAMfX,EAAAA,cAAA,UACG,IACAJ,EAAKS,UAAU,IAAET,EAAKgB,eAAa,IAAQhB,EAAKgB,cAAa,KAC7DhB,EAAKU,SAAU,MAIpBN,EAAAA,cAAA,SAAG,IAAEJ,EAAKiB,OAAO,OAKR,SAASC,EAAWC,GAAyB,IAAxB,KAAEC,EAAI,YAAEC,GAAaF,EACvD,MAAMG,EAAeD,EAAYE,KAAKC,OAAS,EACzCD,EAAOD,EAAe,SAAWD,EAAYE,KACnDtB,QAAQC,IAAI,kBAAkBqB,EAAI,OAAOD,GACzC,MAAMG,GAAOC,EAAAA,EAAAA,KACb,SAASC,EAAMC,GACb,OAAOH,EAAKI,cAAc,CAAEvB,GAAIsB,GAClC,CACA,MAAME,EAAMV,EAAKW,aAAaC,MAAMC,OACjCjC,GAAyB,gBAAhBA,EAAKiB,QAA4C,SAAhBjB,EAAKkC,QAE5CC,EAAUf,EAAKW,aAAaC,MAAMC,OACrCjC,GACiB,aAAhBA,EAAKiB,QACW,SAAhBjB,EAAKkC,QACS,UAAdlC,EAAKoC,MAEHC,EAAWjB,EAAKW,aAAaC,MAAMC,OACtCjC,GACCA,EAAKiB,OAAOqB,cAAcC,SAAS,aACnB,SAAhBvC,EAAKkC,QACS,UAAdlC,EAAKoC,MAEHI,EAASpB,EAAKW,aAAaC,MAAMC,OACpCjC,GAAyB,UAAhBA,EAAKkC,QAEXO,EAAYrB,EAAKW,aAAaC,MAAMC,OACvCjC,GACe,SAAdA,EAAKoC,MACW,gBAAhBpC,EAAKiB,QACW,SAAhBjB,EAAKkC,QAET,OAEE9B,EAAAA,cAACsC,EAAAA,EAAM,CACLC,UAAWvC,EAAAA,cAACwC,EAAAA,EAAgB,CAACtC,GAAG,UAAUuC,OAAQ,CAAEtB,KAAMA,MAE1DnB,EAAAA,cAAA,UAAKA,EAAAA,cAACwC,EAAAA,EAAgB,CAACtC,GAAG,UAAUuC,OAAQ,CAAEtB,KAAMA,OAClDD,GACAlB,EAAAA,cAAC0C,EAAAA,EAAM,CACLC,MAAOxB,EACPyB,MAAO5B,EAAK6B,KAAKC,aAAaF,MAAMzB,GACpCA,KAAMA,IAGVnB,EAAAA,cAAA,UAAKuB,EAAM,oBACXvB,EAAAA,cAACb,EAAO,KAAEkD,EAAUU,IAAKnD,GAASF,EAAQE,EAAO,CAAEA,WAClD8B,EAAIN,OAAS,GACZpB,EAAAA,cAAAA,EAAAA,SAAA,KACEA,EAAAA,cAAA,UAAKuB,EAAM,mBACXvB,EAAAA,cAACb,EAAO,KAAEuC,EAAIqB,IAAKnD,GAASF,EAAQE,EAAO,CAAEA,YAGhDmC,EAAQX,OAAS,GAChBpB,EAAAA,cAAAA,EAAAA,SAAA,KACEA,EAAAA,cAAA,UAAKuB,EAAM,cACXvB,EAAAA,cAACb,EAAO,KAAE4C,EAAQgB,IAAKnD,GAASF,EAAQE,EAAO,CAAEA,YAGpDqC,EAASb,OAAS,GACjBpB,EAAAA,cAAAA,EAAAA,SAAA,KACEA,EAAAA,cAAA,UAAKuB,EAAM,cACXvB,EAAAA,cAACb,EAAO,KAAE8C,EAASc,IAAKnD,GAASF,EAAQE,EAAO,CAAEA,YAGtDI,EAAAA,cAAA,UAAKuB,EAAM,WACXvB,EAAAA,cAACb,EAAO,KAAEiD,EAAOW,IAAKnD,GAASF,EAAQE,EAAO,CAAEA,WAGtD,CAEO,MAkEMoD,EAAOC,IAAA,IAAC,YAAEhC,GAAagC,EAAA,OAClCjD,EAAAA,cAACkD,EAAAA,EAAG,CACFP,OACE1B,EAAYE,KAAKC,OAAS,EAAI,SAAWH,EAAYE,MAAI,a,+CClK/D,IAlBYxB,IAAgB,IAAf,MAAEgD,GAAOhD,EACpB,MAAMqB,GAAOmC,EAAAA,EAAAA,gBAAe,cAU5B,OACEnD,EAAAA,cAAA,aACG2C,EAAM,MAAI3B,EAAK6B,KAAKC,aAAaH,O,mECDxC,SAASH,EAAiBY,GACtB,IAAI/B,GAAO,SACPI,EAAgBJ,EAAKI,cAAe4B,EAAKhC,EAAKiC,cAAeC,OAAc,IAAPF,EAAgB,WAAiBA,EACrGnD,EAAKkD,EAAMlD,GAAIsD,EAAcJ,EAAMI,YAAaC,EAAiBL,EAAMK,eAAgBhB,EAASW,EAAMX,OAAQiB,EAAWN,EAAMM,SAAUC,EAAKP,EAAMQ,QAASC,OAAmB,IAAPF,EAAgBJ,EAAOI,EAEhM/B,EAAQH,EADK,CAAEvB,GAAIA,EAAIsD,YAAaA,EAAaC,eAAgBA,GAC/BhB,EAAQ,CAC1CqB,UAHgNV,EAAMU,YAK1N,MAAwB,mBAAbJ,EACAA,EAASK,MAAMC,QAAQpC,GAASA,EAAQ,CAACA,IAEhDiC,EACO,gBAAoBA,EAAW,KAAM,WAAeI,QAAQrC,IAEhE,gBAAoB,WAAgB,KAAMA,EACrD,CACAY,EAAiBjD,YAAc,mBAC/B,IAAI2E,EAA2B,OAAW1B,EAvB1C,SAAkB2B,EAAWC,GACzB,IAAI3B,EAAS0B,EAAU1B,OAAQ4B,GAAa,QAAOF,EAAW,CAAC,WAC3DG,EAAaF,EAAU3B,OAAQ8B,GAAiB,QAAOH,EAAW,CAAC,WACvE,OAAQ,QAAaE,EAAY7B,KAC7B,QAAa4B,EAAYE,EACjC,GAmBAL,EAAyB3E,YAAc,2BACvC,K","sources":["webpack://lastig-gastby/./src/components/styles/Members.styled.js","webpack://lastig-gastby/./src/templates/members.js","webpack://lastig-gastby/./src/components/seo.js","webpack://lastig-gastby/./node_modules/react-intl/lib/src/components/message.js"],"sourcesContent":["import styled from \"styled-components\";\n\nexport const Members = styled.div`\n  display: grid;\n  gap: 10px;\n  grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));\n  width: 80%;\n`;\n\nexport const StyledMember = styled.div`\n  img {\n    // width: 100%;\n    border-radius: 50% !important;\n    height: 100px;\n    width: 100px;\n  }\n`;\n","import React from \"react\";\nimport { graphql } from \"gatsby\";\nimport { LocalizedLink as Link } from \"@ericcote/gatsby-theme-i18n\";\nimport { FormattedMessage, useIntl } from \"react-intl\";\nimport { Members, StyledMember } from \"../components/styles/Members.styled\";\nimport Layout from \"../components/Layout\";\nimport Seo from \"../components/seo\";\nimport { NavBar } from \"../components/NavBar\";\nimport { GatsbyImage, getImage } from \"gatsby-plugin-image\";\n\n// const modifyUrl = (url) => {\n//   if (!url)\n//     return \"https://www.umr-lastig.fr/lastig_data/img/abstract-user-icon.svg\";\n//   if (url.startsWith(\"/\")) return \"https://www.umr-lastig.fr\" + url;\n//   return url;\n// };\n\nconst Member = ({ node }) => {\n  console.log(node.photo);\n  return (\n    <StyledMember key={node.id}>\n      <Link to={`/members/${node.firstname}-${node.lastname}`}>\n        <GatsbyImage\n          image={getImage(node.image)}\n          alt={`${node.firstname} ${node.lastname}`}\n          aspectratio={1 / 1}\n        />\n        {/* <img\n          src={modifyUrl(node.photo)}\n          alt={`${node.firstname} ${node.lastname}`}\n        /> */}\n        <h3>\n          {\" \"}\n          {node.firstname} {node.alt_firstname && `(${node.alt_firstname}) `}\n          {node.lastname}{\" \"}\n        </h3>\n        {/* <p>Started: {node.start_date}</p> */}\n      </Link>\n      <p> {node.status} </p>\n    </StyledMember>\n  );\n};\n\nexport default function MembersPage({ data, pageContext }) {\n  const isLastigPage = pageContext.team.length > 1;\n  const team = isLastigPage ? \"LASTIG\" : pageContext.team;\n  console.log(`Members PAGE : ${team} => ${isLastigPage}`);\n  const intl = useIntl();\n  function trans(text) {\n    return intl.formatMessage({ id: text });\n  }\n  const phD = data.allPeopleCsv.nodes.filter(\n    (node) => node.status === \"PhD student\" && node.member === \"true\",\n  );\n  const postDoc = data.allPeopleCsv.nodes.filter(\n    (node) =>\n      node.status === \"Post-doc\" &&\n      node.member === \"true\" &&\n      node.perm === \"false\",\n  );\n  const engineer = data.allPeopleCsv.nodes.filter(\n    (node) =>\n      node.status.toLowerCase().includes(\"engineer\") &&\n      node.member === \"true\" &&\n      node.perm === \"false\",\n  );\n  const alumni = data.allPeopleCsv.nodes.filter(\n    (node) => node.member === \"false\",\n  );\n  const permanent = data.allPeopleCsv.nodes.filter(\n    (node) =>\n      node.perm === \"true\" &&\n      node.status !== \"PhD student\" &&\n      node.member === \"true\",\n  );\n  return (\n    //`${isLastigPage ? 'LASTIG' : team} Members`\n    <Layout\n      pageTitle={<FormattedMessage id=\"members\" values={{ team: team }} />}\n    >\n      <h3>{<FormattedMessage id=\"members\" values={{ team: team }} />}</h3>\n      {!isLastigPage && (\n        <NavBar\n          title={team}\n          menus={data.site.siteMetadata.menus[team]}\n          team={team}\n        />\n      )}\n      <h4>{trans(\"Permanent staff\")}</h4>\n      <Members>{permanent.map((node) => Member((node = { node })))}</Members>\n      {phD.length > 0 && (\n        <>\n          <h4>{trans(\"PhD candidates\")}</h4>\n          <Members>{phD.map((node) => Member((node = { node })))}</Members>\n        </>\n      )}\n      {postDoc.length > 0 && (\n        <>\n          <h4>{trans(\"Post-docs\")}</h4>\n          <Members>{postDoc.map((node) => Member((node = { node })))}</Members>\n        </>\n      )}\n      {engineer.length > 0 && (\n        <>\n          <h4>{trans(\"Engineers\")}</h4>\n          <Members>{engineer.map((node) => Member((node = { node })))}</Members>\n        </>\n      )}\n      <h4>{trans(\"Alumni\")}</h4>\n      <Members>{alumni.map((node) => Member((node = { node })))}</Members>\n    </Layout>\n  );\n}\n\nexport const query = graphql`\n  query MembersQuery($team: [String]!) {\n    allPeopleCsv(filter: { teams: { in: $team } }) {\n      nodes {\n        HAL\n        end_date\n        firstname\n        alt_firstname\n        id\n        lastname\n        member\n        perm\n        photo\n        image {\n          childImageSharp {\n            gatsbyImageData(width: 200)\n          }\n        }\n        start_date\n        status\n        statut\n        teams\n        webpage\n      }\n    }\n    site {\n      siteMetadata {\n        menus {\n          ACTE {\n            link\n            name\n            subMenu {\n              link\n              name\n            }\n          }\n          GEOVIS {\n            link\n            name\n            subMenu {\n              link\n              name\n            }\n          }\n          MEIG {\n            link\n            name\n            subMenu {\n              link\n              name\n            }\n          }\n          STRUDEL {\n            link\n            name\n            subMenu {\n              link\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport const Head = ({ pageContext }) => (\n  <Seo\n    title={`${\n      pageContext.team.length > 1 ? \"LASTIG\" : pageContext.team\n    } Members`}\n  />\n);\n","import * as React from \"react\";\nimport { graphql, useStaticQuery } from \"gatsby\";\n\nconst Seo = ({ title }) => {\n  const data = useStaticQuery(graphql`\n    query {\n      site {\n        siteMetadata {\n          title\n        }\n      }\n    }\n  `);\n\n  return (\n    <title>\n      {title} | {data.site.siteMetadata.title}\n    </title>\n  );\n};\n\nexport default Seo;\n","/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\nimport { __rest } from \"tslib\";\nimport * as React from 'react';\nimport useIntl from './useIntl';\nimport { shallowEqual } from '../utils';\nfunction areEqual(prevProps, nextProps) {\n    var values = prevProps.values, otherProps = __rest(prevProps, [\"values\"]);\n    var nextValues = nextProps.values, nextOtherProps = __rest(nextProps, [\"values\"]);\n    return (shallowEqual(nextValues, values) &&\n        shallowEqual(otherProps, nextOtherProps));\n}\nfunction FormattedMessage(props) {\n    var intl = useIntl();\n    var formatMessage = intl.formatMessage, _a = intl.textComponent, Text = _a === void 0 ? React.Fragment : _a;\n    var id = props.id, description = props.description, defaultMessage = props.defaultMessage, values = props.values, children = props.children, _b = props.tagName, Component = _b === void 0 ? Text : _b, ignoreTag = props.ignoreTag;\n    var descriptor = { id: id, description: description, defaultMessage: defaultMessage };\n    var nodes = formatMessage(descriptor, values, {\n        ignoreTag: ignoreTag,\n    });\n    if (typeof children === 'function') {\n        return children(Array.isArray(nodes) ? nodes : [nodes]);\n    }\n    if (Component) {\n        return React.createElement(Component, null, React.Children.toArray(nodes));\n    }\n    return React.createElement(React.Fragment, null, nodes);\n}\nFormattedMessage.displayName = 'FormattedMessage';\nvar MemoizedFormattedMessage = React.memo(FormattedMessage, areEqual);\nMemoizedFormattedMessage.displayName = 'MemoizedFormattedMessage';\nexport default MemoizedFormattedMessage;\n"],"names":["Members","styled","div","withConfig","displayName","componentId","StyledMember","Member","_ref","node","console","log","photo","React","key","id","Link","to","firstname","lastname","GatsbyImage","image","getImage","alt","aspectratio","alt_firstname","status","MembersPage","_ref2","data","pageContext","isLastigPage","team","length","intl","useIntl","trans","text","formatMessage","phD","allPeopleCsv","nodes","filter","member","postDoc","perm","engineer","toLowerCase","includes","alumni","permanent","Layout","pageTitle","FormattedMessage","values","NavBar","title","menus","site","siteMetadata","map","Head","_ref3","Seo","useStaticQuery","props","_a","textComponent","Text","description","defaultMessage","children","_b","tagName","Component","ignoreTag","Array","isArray","toArray","MemoizedFormattedMessage","prevProps","nextProps","otherProps","nextValues","nextOtherProps"],"sourceRoot":""}