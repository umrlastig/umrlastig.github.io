"use strict";(self.webpackChunklastig_gastby=self.webpackChunklastig_gastby||[]).push([[747],{6516:function(e,t,a){a.r(t),a.d(t,{Head:function(){return O},default:function(){return G}});a(6910);var n=a(6540),l=a(4587),s=a(7528),r=a(7154),i=a(6118);const o="label";function d(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function c(e,t){e.labels=t}function u(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o;const n=[];e.datasets=t.map(t=>{const l=e.datasets.find(e=>e[a]===t[a]);return l&&t.data&&!n.includes(l)?(n.push(l),Object.assign(l,t),l):{...t}})}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;const a={labels:[],datasets:[]};return c(a,e.labels),u(a,e.datasets,t),a}function p(e,t){const{height:a=150,width:l=300,redraw:s=!1,datasetIdKey:r,type:o,data:p,options:f,plugins:g=[],fallbackContent:h,updateMode:b,...y}=e,E=(0,n.useRef)(null),w=(0,n.useRef)(),x=()=>{E.current&&(w.current=new i.t1(E.current,{type:o,data:m(p,r),options:f&&{...f},plugins:g}),d(t,w.current))},v=()=>{d(t,null),w.current&&(w.current.destroy(),w.current=null)};return(0,n.useEffect)(()=>{!s&&w.current&&f&&function(e,t){const a=e.options;a&&t&&Object.assign(a,t)}(w.current,f)},[s,f]),(0,n.useEffect)(()=>{!s&&w.current&&c(w.current.config.data,p.labels)},[s,p.labels]),(0,n.useEffect)(()=>{!s&&w.current&&p.datasets&&u(w.current.config.data,p.datasets,r)},[s,p.datasets]),(0,n.useEffect)(()=>{w.current&&(s?(v(),setTimeout(x)):w.current.update(b))},[s,f,p.labels,p.datasets,b]),(0,n.useEffect)(()=>{w.current&&(v(),setTimeout(x))},[o]),(0,n.useEffect)(()=>(x(),()=>v()),[]),n.createElement("canvas",Object.assign({ref:E,role:"img",height:a,width:l},y),h)}const f=(0,n.forwardRef)(p);function g(e,t){return i.t1.register(t),(0,n.forwardRef)((t,a)=>n.createElement(f,Object.assign({},t,{ref:a,type:e})))}const h=g("bar",i.A6);var b=e=>{let{chartData:t}=e;return n.createElement("div",{className:"chart-container"},n.createElement(h,{data:t,options:{plugins:{title:{display:!0,text:"Datasets"},legend:{display:!1}},scales:{x:{display:!0},y:{display:!0,type:"logarithmic"}},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');for(var a=0;a<e.data.datasets.length;a++)t.push('<li><div class="legendValue"><span style="background-color:'+e.data.datasets[a].backgroundColor+'">&nbsp;&nbsp;&nbsp;&nbsp;</span>'),e.data.datasets[a].label&&t.push('<span class="label">'+e.data.datasets[a].label+"</span>"),t.push('</div></li><div class="clear"></div>');return t.push("</ul>"),t.join("")}}}))},y=a(7065),E=a(7581);const w=E.default.div.withConfig({displayName:"Datasetsstyled__DatasetLegend",componentId:"sc-btd3x-0"})(["display:flex;flex-direction:row;gap:0.1rem;margin:2rem;text-decoration:none;justify-content:space-between;"]),x=E.default.div.withConfig({displayName:"Datasetsstyled__DatasetLegendItem",componentId:"sc-btd3x-1"})(["width:200px;background-color:",";border-radius:1rem;padding:1rem;text-align:center;color:white;font-size:small;"],e=>{let{theme:t,$dataTheme:a}=e;return t.colors[a]}),v=E.default.div.withConfig({displayName:"Datasetsstyled__DatasetList",componentId:"sc-btd3x-2"})(["display:flex;flex-direction:column;gap:1.5rem;margin-top:2rem;margin-bottom:2rem;text-decoration:none;"]),D=E.default.div.withConfig({displayName:"Datasetsstyled__Dataset",componentId:"sc-btd3x-3"})(["border-radius:1rem;border:1px solid lightgrey;padding:1rem;margin:auto;width:80%;text-decoration:inherit;margin-bottom:5px;"]),C=E.default.div.withConfig({displayName:"Datasetsstyled__DatasetHead",componentId:"sc-btd3x-4"})(["display:flex;flex-direction:row;justify-content:space-between;text-decoration:inherit;font-size:1.25rem;"]),_=E.default.div.withConfig({displayName:"Datasetsstyled__DatasetTheme",componentId:"sc-btd3x-5"})(["font-size:0.9rem;background-color:",";border-radius:1rem;padding:1rem;translate:0 -40px;color:white;"],e=>{let{theme:t,$dataTheme:a}=e;return t.colors[a]}),I=E.default.div.withConfig({displayName:"Datasetsstyled__DatasetInfo",componentId:"sc-btd3x-6"})(["display:flex;flex-direction:row;justify-content:space-between;text-decoration:inherit;height:100px;div{text-decoration:inherit;a{text-decoration:inherit;}}img{object-position:left top;}"]),T=E.default.div.withConfig({displayName:"Datasetsstyled__Downloads",componentId:"sc-btd3x-7"})(["font-size:1rem;background-color:black;color:white;border-radius:1rem;padding:1rem;font-family:avenir,sans-serif;height:23px;"]),j=E.default.div.withConfig({displayName:"Datasetsstyled__DatasetImageHolder",componentId:"sc-btd3x-8"})(["min-width:200px;max-width:200px;height:100px;object-position:left top;display:flex;flex-direction:column;"]),k=E.default.div.withConfig({displayName:"Datasetsstyled__DatasetTitleHolder",componentId:"sc-btd3x-9"})(["display:flex;align-items:center;background-color:",";"],e=>{let{theme:t,$dataTheme:a}=e;return t.colors[a]});var N=a(6855),A=a(6442),L=a(2794),H=a(6358),S=a(5260),$=a(2532),z=a(8002);function G(e){let{data:t,pageContext:a}=e;const s=a.team,r=s.length>1,i=(0,A.A)();function o(e){return i.formatMessage({id:e})}t.allDatasetCsv.nodes.sort(function(e,t){return t.downloads-e.downloads});const{0:d}=(0,n.useState)({labels:t.allDatasetCsv.nodes.map(e=>""+e.short_name),datasets:[{label:"Datasets downloads",data:t.allDatasetCsv.nodes.map(e=>e.downloads),backgroundColor:t.allDatasetCsv.nodes.map(e=>y.w.colors[e.theme])}]});function c(e){let{project:t}=e;return t?n.createElement("div",null,"Project: ",n.createElement("b",null,t)):n.createElement("div",null)}function u(e){let{doi:t}=e;return t?n.createElement("div",null,n.createElement("a",{href:"https://www.doi.org/"+t,"aria-label":"doi"},n.createElement(L.In,{icon:"academicons:doi",width:"1.8em",height:"1.8em"}))):n.createElement("div",null)}function m(e){let{teams:t}=e;return t?n.createElement("div",null,"Team(s): ",n.createElement("b",null,t.join(", "))):n.createElement("div",null)}function p(e){let{doi:a}=e;if(!a)return n.createElement("div",null);const l=t.allHalCsv.nodes.filter(e=>e.researchData&&e.researchData.some(e=>e.includes(a)));return n.createElement("div",null,n.createElement(S.X,{nodes:l,type:null,theme:y.w}))}return n.createElement(l.A,{pageTitle:(r?"LASTIG":s)+" Datasets"},n.createElement("h3",null,o((r?"LASTIG":s)+" Datasets")),!r&&n.createElement(H.j,{title:s,menus:t.site.siteMetadata.menus[s],team:s}),n.createElement(z.T3,null,n.createElement(w,null,["Agriculture","DigitalHumanities","Tourism","Planning","Urban","LULC","Security","Climate"].map(e=>n.createElement(x,{$dataTheme:e,key:e},n.createElement("b",null,e)))),n.createElement(b,{chartData:d})),n.createElement(v,null,t.allDatasetCsv.nodes.map(e=>n.createElement(D,{key:e.id},n.createElement(C,{$dataTheme:e.theme},n.createElement(k,null,n.createElement("div",null,n.createElement("a",{href:e.url},e.name)),n.createElement(N.S,null),n.createElement(u,{doi:e.doi})),n.createElement(_,{$dataTheme:e.theme},e.theme)),n.createElement(I,null,n.createElement(j,null,e.image&&n.createElement($.G,{image:(0,$.c)(e.image),alt:e.short_name})),n.createElement(c,{project:e.project}),n.createElement(m,{teams:e.teams}),n.createElement(T,null,o("Downloads:")," ",n.createElement("b",null,e.downloads))),n.createElement(p,{doi:e.doi})))))}r.Ay.register(i.PP);const O=e=>{let{pageContext:t}=e;return n.createElement(s.A,{title:(t.team.length>1?"LASTIG":t.team)+" Datasets"})}}}]);
//# sourceMappingURL=component---src-templates-datasets-js-4c32583a400a16630f96.js.map