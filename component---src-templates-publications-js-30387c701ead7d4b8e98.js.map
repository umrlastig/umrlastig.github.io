{"version":3,"file":"component---src-templates-publications-js-30387c701ead7d4b8e98.js","mappings":"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","sources":["webpack://lastig-gastby/./src/components/DoubleSlider.js","webpack://lastig-gastby/./src/components/styles/LocalDropdown.styled.js","webpack://lastig-gastby/./src/components/LocalDropdown.js","webpack://lastig-gastby/./src/templates/publications.js","webpack://lastig-gastby/./src/components/seo.js","webpack://lastig-gastby/./src/util.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport styled from \"styled-components\";\n\nconst DoubleSliderBox = styled.div`\n  background-color: #fff;\n  border-radius: 10px;\n  padding: 20px;\n  width: 100%;\n  max-width: 300px;\n  margin: auto;\n`;\n\nconst RangeSlider = styled.div`\n  position: relative;\n  width: 100%;\n  height: 5px;\n  margin: 30px 0;\n  background-color: #8a8a8a;\n  border-radius: 5px;\n  input {\n    position: absolute;\n    width: 100%;\n    top: 0;\n    transform: translateY(-50%);\n    background: none;\n    pointer-events: none;\n    appearance: none;\n    height: 5px;\n    &::-webkit-slider-thumb {\n      height: 25px;\n      width: 25px;\n      border-radius: 50%;\n      border: 3px solid #fff;\n      background: #fe696a;\n      pointer-events: auto;\n      appearance: none;\n      cursor: pointer;\n      box-shadow: 0 0.125rem 0.5625rem -0.125rem rgba(0, 0, 0, 0.25);\n      position: relative;\n      z-index: 2; /* Ensure thumbs appear above the track */\n    }\n    &::-moz-range-thumb {\n      height: 25px;\n      width: 25px;\n      border-radius: 50%;\n      border: 3px solid #fff;\n      background: #fe696a;\n      pointer-events: auto;\n      cursor: pointer;\n      box-shadow: 0 0.125rem 0.5625rem -0.125rem rgba(0, 0, 0, 0.25);\n      position: relative;\n      z-index: 2;\n    }\n  }\n`;\n\nconst SliderTrack = styled.div`\n  height: 100%;\n  position: absolute;\n  background-color: #fe696a;\n  left: 0;\n  right: 100%;\n  border-radius: 5px;\n`;\n\nconst InputBox = styled.div`\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n`;\n\nconst MinBox = styled.div`\n  width: 50%;\n  margin-right: 10px;\n  input {\n    width: 100px;\n    padding: 10px;\n    border: 1px solid #ccc;\n    border-radius: 5px;\n    text-align: center;\n  }\n`;\n\nconst MaxBox = styled.div`\n  width: 50%;\n  input {\n    float: right;\n    width: 100px;\n    padding: 10px;\n    border: 1px solid #ccc;\n    border-radius: 5px;\n    text-align: center;\n  }\n`;\n\nconst MinTooltip = styled.div`\n  position: absolute;\n  top: -35px;\n  font-size: 12px;\n  color: #555;\n  background-color: #fff;\n  padding: 5px;\n  border: 1px solid #ddd;\n  border-radius: 5px;\n  white-space: nowrap;\n  z-index: 1;\n  left: 0;\n  transform: translateX(-50%);\n  &::-webkit-inner-spin-button;\n  &::-webkit-outer-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n  -moz-appearance: textfield;\n`;\n\nconst MaxTooltip = styled.div`\n  position: absolute;\n  top: -35px;\n  font-size: 12px;\n  color: #555;\n  background-color: #fff;\n  padding: 5px;\n  border: 1px solid #ddd;\n  border-radius: 5px;\n  white-space: nowrap;\n  z-index: 1;\n  right: 0;\n  transform: translateX(50%);\n  &::-webkit-inner-spin-button;\n  &::-webkit-outer-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n  -moz-appearance: textfield;\n`;\n\n/*\n A Double Slider very much inspired by https://codesandbox.io/p/sandbox/blissful-allen-km9p4z\n*/\nexport const DoubleSlider = ({\n  sliderMinValue,\n  sliderMaxValue,\n  minVal,\n  maxVal,\n  setMinVal,\n  setMaxVal,\n}) => {\n  const track = useRef(null);\n\n  const [isDragging, setIsDragging] = useState(false);\n\n  const minGap = 1;\n\n  useEffect(() => {\n    const range = track.current;\n\n    if (range) {\n      const minPercent =\n        ((minVal - sliderMinValue) / (sliderMaxValue - sliderMinValue)) * 100;\n      const maxPercent =\n        ((maxVal - sliderMinValue) / (sliderMaxValue - sliderMinValue)) * 100;\n\n      range.style.left = `${minPercent}%`;\n      range.style.right = `${100 - maxPercent}%`;\n    }\n  }, [minVal, maxVal, sliderMinValue, sliderMaxValue]);\n\n  const slideMin = (e) => {\n    const value = parseInt(e.target.value, 10);\n    if (value >= sliderMinValue && maxVal - value >= minGap) {\n      setMinVal(value);\n    }\n  };\n\n  const slideMax = (e) => {\n    const value = parseInt(e.target.value, 10);\n    if (value <= sliderMaxValue && value - minVal >= minGap) {\n      setMaxVal(value);\n    }\n  };\n\n  const handleMinInput = (e) => {\n    const value =\n      e.target.value === \"\" ? sliderMinValue : parseInt(e.target.value, 10);\n    if (value >= sliderMinValue && value < maxVal - minGap) {\n      setMinVal(value);\n    }\n  };\n\n  const handleMaxInput = (e) => {\n    const value =\n      e.target.value === \"\" ? sliderMaxValue : parseInt(e.target.value, 10);\n    if (value <= sliderMaxValue && value > minVal + minGap) {\n      setMaxVal(value);\n    }\n  };\n\n  const handleInputKeyDown = (e, type) => {\n    if (e.key === \"Enter\") {\n      const value = parseInt(e.target.value, 10);\n      if (\n        type === \"min\" &&\n        value >= sliderMinValue &&\n        value < maxVal - minGap\n      ) {\n        setMinVal(value);\n      } else if (\n        type === \"max\" &&\n        value <= sliderMaxValue &&\n        value > minVal + minGap\n      ) {\n        setMaxVal(value);\n      }\n    }\n  };\n\n  const startDrag = () => {\n    setIsDragging(true);\n  };\n\n  const stopDrag = () => {\n    setIsDragging(false);\n  };\n\n  return (\n    <DoubleSliderBox>\n      <InputBox>\n        <MinBox>\n          <input\n            type=\"number\"\n            value={minVal}\n            onChange={handleMinInput}\n            onKeyDown={(e) => handleInputKeyDown(e, \"min\")}\n            className=\"min-input\"\n            min={sliderMinValue}\n            max={maxVal - minGap}\n          />\n        </MinBox>\n        <MaxBox>\n          <input\n            type=\"number\"\n            value={maxVal}\n            onChange={handleMaxInput}\n            onKeyDown={(e) => handleInputKeyDown(e, \"max\")}\n            className=\"max-input\"\n            min={minVal + minGap}\n            max={sliderMaxValue}\n          />\n        </MaxBox>\n      </InputBox>\n      <RangeSlider>\n        <SliderTrack ref={track} />\n        <input\n          type=\"range\"\n          min={sliderMinValue}\n          max={sliderMaxValue}\n          value={minVal}\n          onChange={slideMin}\n          onMouseDown={startDrag}\n          onMouseUp={stopDrag}\n          onTouchStart={startDrag}\n          onTouchEnd={stopDrag}\n          className=\"min-val\"\n        />\n        <input\n          type=\"range\"\n          min={sliderMinValue}\n          max={sliderMaxValue}\n          value={maxVal}\n          onChange={slideMax}\n          onMouseDown={startDrag}\n          onMouseUp={stopDrag}\n          onTouchStart={startDrag}\n          onTouchEnd={stopDrag}\n          className=\"max-val\"\n        />\n        {isDragging && <MinTooltip>{minVal}</MinTooltip>}\n        {isDragging && <MaxTooltip>{maxVal}</MaxTooltip>}\n      </RangeSlider>\n    </DoubleSliderBox>\n  );\n};\n","import styled from \"styled-components\";\n\nexport const DropdownButton = styled.button`\n  padding: 8px 24px;\n  background-color: ${({ theme }) => theme.colors.header};\n  color: black;\n  border: none;\n  &: hover {\n    background-color: ${({ theme }) => theme.colors.highlight};\n  }\n  @media (max-width: 600px) {\n    display: block;\n  }\n`;\n\nexport const DropdownList = styled.ul`\n  padding: 8px 24px;\n  background-color: ${({ theme }) => theme.colors.header};\n  color: black;\n  border: none;\n  @media (max-width: 600px) {\n    display: block;\n  }\n  li {\n    list-style: none;\n    &: hover {\n      background-color: ${({ theme }) => theme.colors.highlight};\n    }\n    button {\n      border: none;\n      background: none;\n    }\n  }\n`;\n","import React, { useState } from \"react\";\nimport { navigate } from \"gatsby\";\nimport { DropdownButton, DropdownList } from \"./styles/LocalDropdown.styled\"\n\nexport const LocalDropdown = ({ name, options, trans }) => {\n  const [toggle, setToggle] = useState(false);\n  return (\n    <div>\n      <DropdownButton onClick={() => setToggle(!toggle)}>{trans(name)}</DropdownButton>\n      {toggle && <DropdownList>\n        {options.map((option, index) => (\n          <li key={option} >\n            <button onClick={() => {\n              navigate(`#${option}`);\n              setToggle(!toggle);\n            }}>{trans(option)}</button>\n          </li>\n        ))}\n      </DropdownList>}\n    </div>\n  );\n};\n","import React, { useState, useMemo } from \"react\";\nimport { graphql } from \"gatsby\";\nimport Layout from \"../components/Layout\";\nimport Seo from \"../components/seo\";\nimport { useIntl } from \"react-intl\";\nimport { PublicationListOfLists } from \"../components/styles/Publications.styled\";\nimport { getPubType } from \"../util\";\nimport { PublicationList } from \"../components/CreateNodes\";\nimport { NavBar } from \"../components/NavBar\";\nimport { theme } from \"../theme\";\nimport { DoubleSlider } from \"../components/DoubleSlider\";\nimport { LocalDropdown } from \"../components/LocalDropdown\";\n\nexport default function PublicationsPage({ data, pageContext }) {\n  const team = pageContext.team;\n  const isLastigPage = team.length > 1;\n  const intl = useIntl();\n  function trans(text) {\n    return intl.formatMessage({ id: text });\n  }\n  const nodes = data.allHalCsv.nodes;\n\n  const allDates = [...new Set(nodes.map((node) => node.producedDate))];\n  const minDate = Math.min(...allDates);\n  const maxDate = Math.max(...allDates);\n  const [startDate, setStartDate] = useState(2018);\n  const [endDate, setEndDate] = useState(maxDate);\n\n  const selectedNodes = useMemo(\n    () =>\n      nodes.filter(\n        (node) =>\n          (node.producedDate >= startDate) & (node.producedDate <= endDate),\n      ),\n    [nodes, startDate, endDate],\n  );\n\n  const classifiedNodes = selectedNodes.map((node) => ({\n    pubType: getPubType(node),\n    ...node,\n  }));\n  const pubTypes = [\n    \"ACL\",\n    \"ACLN\",\n    \"ASCL\",\n    \"PV\",\n    \"INV\",\n    \"COM\",\n    \"ACTI\",\n    \"ACTN\",\n    \"OS\",\n    \"DO\",\n    \"AP\",\n    \"TH\",\n    \"AFF\",\n    \"OTHER\",\n  ];\n  const dropdown = <LocalDropdown\n            name=\"Jump to...\"\n            options={pubTypes}\n            trans={trans}\n          ></LocalDropdown>;\n  function Pub({ id, pubType }) {\n    const filteredNodes = classifiedNodes.filter(\n      (node) => node.pubType === pubType,\n    );\n    if (filteredNodes.length > 0) {\n      return (\n        <div id={id} key={`pub${pubType}`}>\n          <h2> {trans(pubType)} </h2>\n          {dropdown}\n          <PublicationList nodes={filteredNodes} type={pubType} theme={theme} />\n        </div>\n      );\n    }\n    return null;\n  }\n  return (\n    <Layout pageTitle={`${isLastigPage ? \"LASTIG\" : team} Publications`}>\n      <h3>{trans(`${isLastigPage ? \"LASTIG\" : team} Publications`)}</h3>\n      {!isLastigPage && (\n        <NavBar\n          title={team}\n          menus={data.site.siteMetadata.menus[team]}\n          team={team}\n        />\n      )}\n      <span>Filter by date:</span>\n      <DoubleSlider\n        sliderMinValue={minDate}\n        sliderMaxValue={maxDate}\n        minVal={startDate}\n        maxVal={endDate}\n        setMinVal={setStartDate}\n        setMaxVal={setEndDate}\n      />\n      {/* <LocalDropdown\n        name=\"Jump to...\"\n        options={pubTypes}\n        trans={trans}\n      ></LocalDropdown> */}\n      <PublicationListOfLists>\n        {pubTypes.map((pt) => (\n          <Pub id={pt} pubType={pt} key={pt}></Pub>\n        ))}\n        {/* <Pub pubType=\"ACL\" key=\"ACL\"></Pub>\n        <Pub pubType=\"ACLN\" key=\"ACLN\"></Pub>\n        <Pub pubType=\"ASCL\" key=\"ASCL\"></Pub>\n        <Pub pubType=\"PV\" key=\"PV\"></Pub>\n        <Pub pubType=\"INV\" key=\"INV\"></Pub>\n        <Pub pubType=\"COM\" key=\"COM\"></Pub>\n        <Pub pubType=\"ACTI\" key=\"ACTI\"></Pub>\n        <Pub pubType=\"ACTN\" key=\"ACTN\"></Pub>\n        <Pub pubType=\"OS\" key=\"OS\"></Pub>\n        <Pub pubType=\"DO\" key=\"DO\"></Pub>\n        <Pub pubType=\"AP\" key=\"AP\"></Pub>\n        <Pub pubType=\"TH\" key=\"TH\"></Pub>\n        <Pub pubType=\"AFF\" key=\"AFF\"></Pub>\n        <Pub pubType=\"OTHER\" key=\"OTHER\"></Pub> */}\n      </PublicationListOfLists>\n    </Layout>\n  );\n}\n\nexport const query = graphql`\n  query ($team: [String]) {\n    allHalCsv(filter: { teams: { in: $team } }) {\n      nodes {\n        halId\n        id\n        citationRef\n        docType\n        fileMain\n        files\n        invitedCommunication\n        label_bibtex\n        popularLevel\n        proceedings\n        producedDate\n        title\n        authIdHalFullName {\n          fullName\n          idHal\n        }\n        peerReviewing\n        researchData\n        audience\n        doiId\n        softCodeRepository\n        arxivId\n        anrProjectTitle\n        europeanProjectTitle\n        publicationDate\n        teams\n      }\n    }\n    site {\n      siteMetadata {\n        menuLinks {\n          link\n          name\n          subMenu {\n            link\n            name\n            subMenu {\n              link\n              name\n            }\n          }\n        }\n        menus {\n          ACTE {\n            link\n            name\n            subMenu {\n              link\n              name\n            }\n          }\n          GEOVIS {\n            link\n            name\n            subMenu {\n              link\n              name\n            }\n          }\n          MEIG {\n            link\n            name\n            subMenu {\n              link\n              name\n            }\n          }\n          STRUDEL {\n            link\n            name\n            subMenu {\n              link\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport const Head = ({ pageContext }) => (\n  <Seo\n    title={`${\n      pageContext.team.length > 1 ? \"LASTIG\" : pageContext.team\n    } Publications`}\n  />\n);\n","import * as React from \"react\";\nimport { graphql, useStaticQuery } from \"gatsby\";\n\nconst Seo = ({ title }) => {\n  const data = useStaticQuery(graphql`\n    query {\n      site {\n        siteMetadata {\n          title\n        }\n      }\n    }\n  `);\n\n  return (\n    <title>\n      {title} | {data.site.siteMetadata.title}\n    </title>\n  );\n};\n\nexport default Seo;\n","export function getPubType(node) {\n  if (node.popularLevel === \"1\") return \"PV\";\n  if (\n    node.popularLevel === \"0\" &&\n    node.docType === \"ART\" &&\n    node.peerReviewing === \"0\"\n  )\n    return \"ASCL\";\n  if (\n    node.popularLevel === \"0\" &&\n    node.docType === \"ART\" &&\n    node.peerReviewing === \"1\" &&\n    node.audience === \"2\"\n  )\n    return \"ACL\";\n  if (\n    node.popularLevel === \"0\" &&\n    node.docType === \"ART\" &&\n    node.peerReviewing === \"1\"\n  )\n    return \"ACLN\";\n  if (\n    node.popularLevel === \"0\" &&\n    node.docType === \"COMM\" &&\n    node.invitedCommunication === \"1\"\n  )\n    return \"INV\";\n  if (\n    node.popularLevel === \"0\" &&\n    node.docType === \"COMM\" &&\n    node.invitedCommunication === \"0\" &&\n    node.proceedings === \"0\"\n  )\n    return \"COM\";\n  if (\n    node.popularLevel === \"0\" &&\n    node.docType === \"COMM\" &&\n    node.invitedCommunication === \"0\" &&\n    node.proceedings === \"1\" &&\n    node.audience === \"2\"\n  )\n    return \"ACTI\";\n  if (\n    node.popularLevel === \"0\" &&\n    node.docType === \"COMM\" &&\n    node.invitedCommunication === \"0\" &&\n    node.proceedings === \"1\"\n  )\n    return \"ACTN\";\n  if (node.docType === \"COUV\") return \"OS\";\n  if (node.docType === \"DOUV\") return \"DO\";\n  if (node.docType === \"REPORT\" || node.docType === \"UNDEFINED\") return \"AP\";\n  if (node.docType === \"THESE\" || node.docType === \"HDR\") return \"TH\";\n  if (node.docType === \"POSTER\") return \"AFF\";\n  return \"OTHER\";\n}\n"],"names":["DoubleSliderBox","styled","div","withConfig","displayName","componentId","RangeSlider","SliderTrack","InputBox","MinBox","MaxBox","MinTooltip","MaxTooltip","DoubleSlider","_ref","sliderMinValue","sliderMaxValue","minVal","maxVal","setMinVal","setMaxVal","track","useRef","isDragging","setIsDragging","useState","useEffect","range","current","minPercent","maxPercent","style","left","right","handleInputKeyDown","e","type","key","value","parseInt","target","startDrag","stopDrag","React","onChange","onKeyDown","className","min","max","ref","onMouseDown","onMouseUp","onTouchStart","onTouchEnd","DropdownButton","button","theme","colors","header","_ref2","highlight","DropdownList","ul","_ref3","_ref4","LocalDropdown","name","options","trans","toggle","setToggle","onClick","map","option","index","navigate","PublicationsPage","data","pageContext","team","isLastigPage","length","intl","useIntl","text","formatMessage","id","nodes","allHalCsv","allDates","_toConsumableArray","Set","node","producedDate","minDate","Math","apply","maxDate","startDate","setStartDate","endDate","setEndDate","classifiedNodes","useMemo","filter","Object","assign","pubType","getPubType","pubTypes","dropdown","Pub","filteredNodes","PublicationList","Layout","pageTitle","NavBar","title","menus","site","siteMetadata","PublicationListOfLists","pt","Head","Seo","useStaticQuery","popularLevel","docType","peerReviewing","audience","invitedCommunication","proceedings"],"sourceRoot":""}