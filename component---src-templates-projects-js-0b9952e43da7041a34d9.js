"use strict";(self.webpackChunklastig_gastby=self.webpackChunklastig_gastby||[]).push([[212],{2585:function(e,t,a){a.r(t),a.d(t,{Head:function(){return u},default:function(){return p}});var n=a(4506),d=(a(8350),a(6910),a(237),a(6540)),r=a(4587),i=a(7528),l=a(7065),m=a(6442),s=a(6358),o=a(3620);function c(e){let{options:t}=e;const a=(0,d.useRef)();return(0,d.useEffect)(()=>{if(null==t)return;const e=o.QI(t);return a.current.append(e),()=>e.remove()},[t]),d.createElement("div",{ref:a})}function p(e){let{data:t,pageContext:a}=e;const i=a.team,p=i.length>1,u=(0,m.A)();const x=["H2020","ERA4CS","Horizon Europe","ENIAC","ANR","TOSCA","AID","iSite","PEPR","FUI","AAP Excellences","TIGA","PEPS","ACTE","GEOVIS","MEIG","STRUDEL"],h=t.allProjectsCsv.nodes.map(e=>{const t=e.Dates.split("-").map(e=>Number(e.trim()));return{long_name:e.Contract_Name,name:e.Short_Name,start_date:t[0],middle_date:(t[1]+t[0])/2,end_date:t[1],theme:e.Theme,duration:t[1]-t[0],funding:e.Funding_Origin,type:e.Contract_Type,teams:e.Teams,site:e.Website}}).filter(e=>{let{theme:t,type:a}=e;return t&&x.includes(a)}),_=Math.min.apply(Math,(0,n.A)(h.map(e=>e.start_date))),f=Math.max.apply(Math,(0,n.A)(h.map(e=>e.end_date)));h.sort((e,t)=>e.theme.localeCompare(t.theme)||e.start_date-t.start_date||e.end_date-t.end_date||e.name.localeCompare(t.name));const A=h.map((e,t)=>Object.assign({index:t},e)),g=A.flatMap(e=>e.teams.map((t,a)=>({end_date:e.end_date,team:t,index:e.index,dx:10*-(a+1)}))),E=(0,n.A)(new Set(g.map(e=>e.dx))),y=(0,n.A)(new Set(A.map(e=>e.theme))).map(e=>{const t=A.filter(t=>{let{theme:a}=t;return a===e}),a=Math.min.apply(Math,(0,n.A)(t.map(e=>e.index))),d=Math.max.apply(Math,(0,n.A)(t.map(e=>e.index)));return{theme:e,start_date:_,end_date:f,index_1:a,index_2:d,index_middle:Math.round((a+d)/2)}});return d.createElement(r.A,{pageTitle:(p?"LASTIG":i)+" Projects"},d.createElement("h3",null,(C=(p?"LASTIG":i)+" Projects",u.formatMessage({id:C}))),!p&&d.createElement(s.j,{title:i,menus:t.site.siteMetadata.menus[i],team:i}),d.createElement("div",null,d.createElement(c,{options:{width:1200,x:{tickFormat:"d",axis:"both"},color:{domain:x,range:x.map(e=>l.w.colors[e])},marks:[o.Pc(y,{x1:"start_date",x2:"end_date",y1:"index_1",y2:"index_2",rx:5,title:"theme",fill:"#fcf9f9ff"}),o.Pc(A,{x1:"start_date",x2:"end_date",y:"index",rx:5,fill:"type",tip:!0,href:e=>e.site}),o.Qq(A,{x:"middle_date",y:"index",text:e=>e.name,lineAnchor:"middle",fontWeight:"bold"}),E.map(e=>o.Om(g.filter(t=>{let{dx:a}=t;return a===e}),{x:e=>e.end_date,y:"index",dx:e,dy:-10,fill:"team"})),o.Qq(y,{x:"start_date",y:"index_middle",text:e=>e.theme,lineAnchor:"middle",rotate:-90,dx:10,fontWeight:"bold"}),o.l3({tickSize:0,label:null,tickFormat:null})]}})));var C}const u=e=>{let{pageContext:t}=e;return d.createElement(i.A,{title:(t.team.length>1?"LASTIG":t.team)+" Projects"})}}}]);
//# sourceMappingURL=component---src-templates-projects-js-0b9952e43da7041a34d9.js.map